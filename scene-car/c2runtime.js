// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,da,M,ea,ga,R,S,ia,ja,ka,na,oa,pa,U,qa,ra,sa,va,wa,xa,ya,za,Aa,Ba,V,Ca,Da,Fa,Ga,Ha,Ja,Ka,La,Ma,Na,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,W,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(e,h,d,a){this.set(e,h,d,a)}function q(){this.pb=this.ob=this.rb=this.qb=this.Cb=this.Bb=this.Wa=this.Va=0}function m(e,h,d,a){e<h?d<a?(p=e<d?e:d,u=h>a?h:a):(p=e<a?e:a,u=h>d?h:d):d<a?(p=h<d?h:d,u=e>a?e:a):(p=h<a?h:a,u=e>d?e:d)}function r(){this.items=this.Jc=null;this.vf=0;N&&(this.Jc=new Set);this.Vf=[];this.Kd=!0}function t(e){w[P++]=e}function c(){this.V=this.sj=this.y=this.Vj=0}function a(e){this.If=[];this.Vm=this.Xm=this.Ym=this.Wm=0;this.gh(e)}function b(e,h){this.ak=
e;this.$j=h;this.cells={}}function s(e,h){this.ak=e;this.$j=h;this.cells={}}function l(e,h,d){var a;return F.length?(a=F.pop(),a.Hk=e,a.x=h,a.y=d,a):new aa(e,h,d)}function d(e,h,d){this.Hk=e;this.x=h;this.y=d;this.Sa=new ba}function k(e,h,d){var a;return y.length?(a=y.pop(),a.Hk=e,a.x=h,a.y=d,a):new da(e,h,d)}function n(e,h,a){this.Hk=e;this.x=h;this.y=a;this.Sa=[];this.uf=!0;this.Xc=new ba;this.Zf=!1}function g(e,h){return e.Mc-h.Mc}M=function(e){window.console&&window.console.log&&window.console.log(e)};
ea=function(e){window.console&&window.console.error&&window.console.error(e)};ga=function(e){return"undefined"===typeof e};R=function(e){return"number"===typeof e};S=function(e){return"string"===typeof e};ia=function(e){return 0<e&&0===(e-1&e)};ja=function(e){--e;for(var h=1;32>h;h<<=1)e|=e>>h;return e+1};ka=function(e){return 0>e?-e:e};na=function(e,h){return e>h?e:h};oa=function(e,h){return e<h?e:h};pa=Math.PI;U=function(e){return 0<=e?e|0:(e|0)-1};qa=function(e){var h=e|0;return h===e?h:h+1};ra=
function(e,h,a,d,v,b,c,C){var g,k,w,p;e<a?(k=e,g=a):(k=a,g=e);v<c?(p=v,w=c):(p=c,w=v);if(g<p||k>w)return!1;h<d?(k=h,g=d):(k=d,g=h);b<C?(p=b,w=C):(p=C,w=b);if(g<p||k>w)return!1;g=v-e+c-a;k=b-h+C-d;e=a-e;h=d-h;v=c-v;b=C-b;C=ka(h*v-b*e);return ka(v*k-b*g)>C?!1:ka(e*k-h*g)<=C};f.prototype.set=function(e,h,a,d){this.left=e;this.top=h;this.right=a;this.bottom=d};f.prototype.Jh=function(e){this.left=e.left;this.top=e.top;this.right=e.right;this.bottom=e.bottom};f.prototype.width=function(){return this.right-
this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(e,h){this.left+=e;this.top+=h;this.right+=e;this.bottom+=h;return this};f.prototype.normalize=function(){var e=0;this.left>this.right&&(e=this.left,this.left=this.right,this.right=e);this.top>this.bottom&&(e=this.top,this.top=this.bottom,this.bottom=e)};f.prototype.ec=function(e,h){return e>=this.left&&e<=this.right&&h>=this.top&&h<=this.bottom};f.prototype.Sh=function(e){return this.left===e.left&&this.top===
e.top&&this.right===e.right&&this.bottom===e.bottom};sa=f;q.prototype.fh=function(e){this.Va=e.left;this.Wa=e.top;this.Bb=e.right;this.Cb=e.top;this.qb=e.right;this.rb=e.bottom;this.ob=e.left;this.pb=e.bottom};q.prototype.op=function(e,h){if(0===h)this.fh(e);else{var a=Math.sin(h),d=Math.cos(h),v=e.left*a,b=e.top*a,c=e.right*a,a=e.bottom*a,C=e.left*d,g=e.top*d,k=e.right*d,d=e.bottom*d;this.Va=C-b;this.Wa=g+v;this.Bb=k-b;this.Cb=g+c;this.qb=k-a;this.rb=d+c;this.ob=C-a;this.pb=d+v}};q.prototype.offset=
function(e,h){this.Va+=e;this.Wa+=h;this.Bb+=e;this.Cb+=h;this.qb+=e;this.rb+=h;this.ob+=e;this.pb+=h;return this};var p=0,u=0;q.prototype.$m=function(e){m(this.Va,this.Bb,this.qb,this.ob);e.left=p;e.right=u;m(this.Wa,this.Cb,this.rb,this.pb);e.top=p;e.bottom=u};q.prototype.ec=function(e,h){var a=this.Bb-this.Va,d=this.Cb-this.Wa,v=this.qb-this.Va,b=this.rb-this.Wa,c=e-this.Va,C=h-this.Wa,g=a*a+d*d,k=a*v+d*b,d=a*c+d*C,w=v*v+b*b,p=v*c+b*C,P=1/(g*w-k*k),a=(w*d-k*p)*P,g=(g*p-k*d)*P;if(0<=a&&0<g&&1>a+
g)return!0;a=this.ob-this.Va;d=this.pb-this.Wa;g=a*a+d*d;k=a*v+d*b;d=a*c+d*C;P=1/(g*w-k*k);a=(w*d-k*p)*P;g=(g*p-k*d)*P;return 0<=a&&0<g&&1>a+g};va=q;wa=function(e,h){for(var a in h)h.hasOwnProperty(a)&&(e[a]=h[a]);return e};xa=function(e,h){var a,d;h=U(h);if(!(0>h||h>=e.length)){a=h;for(d=e.length-1;a<d;a++)e[a]=e[a+1];e.length=d}};ya=function(e,h){e.length=h.length;var a,d;a=0;for(d=h.length;a<d;a++)e[a]=h[a]};za=function(e,h){e.push.apply(e,h)};Aa=function(e,h){var a,d;a=0;for(d=e.length;a<d;++a)if(e[a]===
h)return a;return-1};Ba=function(e,h){var a=Aa(e,h);-1!==a&&xa(e,a)};V=function(e){return e/(180/pa)};Ca=function(e){return 180/pa*e};Da=function(e){e%=360;0>e&&(e+=360);return e};Fa=function(e){e%=2*pa;0>e&&(e+=2*pa);return e};Ga=function(e){return Da(Ca(e))};Ha=function(e){return Fa(V(e))};Ja=function(e,h,a,d){return Math.atan2(d-h,a-e)};Ka=function(e,h){if(e===h)return 0;var a=Math.sin(e),d=Math.cos(e),v=Math.sin(h),b=Math.cos(h),a=a*v+d*b;return 1<=a?0:-1>=a?pa:Math.acos(a)};La=function(e,h,a){var d=
Math.sin(e),v=Math.cos(e),b=Math.sin(h),c=Math.cos(h);return Math.acos(d*b+v*c)>a?0<v*b-d*c?Fa(e+a):Fa(e-a):Fa(h)};Ma=function(e,h){var a=Math.sin(e),d=Math.cos(e),v=Math.sin(h),b=Math.cos(h);return 0>=d*v-a*b};Na=function(e,h,a,d,v,b){if(0===a)return b?e:h;var c=Math.sin(a);a=Math.cos(a);e-=d;h-=v;var g=e*c;e=e*a-h*c;h=h*a+g;return b?e+d:h+v};Sa=function(e,h,a,d){e=a-e;h=d-h;return Math.sqrt(e*e+h*h)};Ta=function(e,h){return!e!==!h};Ua=function(e){for(var h in e)if(e.hasOwnProperty(h))return!0;return!1};
Va=function(e){for(var h in e)e.hasOwnProperty(h)&&delete e[h]};var h=+new Date;Wa=function(){if("undefined"!==typeof window.performance){var e=window.performance;if("undefined"!==typeof e.now)return e.now();if("undefined"!==typeof e.webkitNow)return e.webkitNow();if("undefined"!==typeof e.mozNow)return e.mozNow();if("undefined"!==typeof e.msNow)return e.msNow()}return Date.now()-h};var e=!1,v=e=!1,C=!1;"undefined"!==typeof window&&(e=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
e=!e&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var N=!e&&!C&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;r.prototype.contains=function(e){return this.pd()?!1:N?this.Jc.has(e):this.items&&this.items.hasOwnProperty(e)};r.prototype.add=function(e){if(N)this.Jc.has(e)||(this.Jc.add(e),this.Kd=!1);else{var h=e.toString(),a=this.items;a?a.hasOwnProperty(h)||(a[h]=e,this.vf++,this.Kd=!1):(this.items={},this.items[h]=
e,this.vf=1,this.Kd=!1)}};r.prototype.remove=function(e){if(!this.pd())if(N)this.Jc.has(e)&&(this.Jc["delete"](e),this.Kd=!1);else if(this.items){e=e.toString();var h=this.items;h.hasOwnProperty(e)&&(delete h[e],this.vf--,this.Kd=!1)}};r.prototype.clear=function(){this.pd()||(N?this.Jc.clear():(this.items=null,this.vf=0),this.Vf.length=0,this.Kd=!0)};r.prototype.pd=function(){return 0===this.count()};r.prototype.count=function(){return N?this.Jc.size:this.vf};var w=null,P=0;r.prototype.Au=function(){if(!this.Kd){if(N)this.Vf.length=
this.Jc.size,w=this.Vf,P=0,this.Jc.forEach(t),w=null,P=0;else{var e=this.Vf;e.length=this.vf;var h,a=0,d=this.items;if(d)for(h in d)d.hasOwnProperty(h)&&(e[a++]=d[h])}this.Kd=!0}};r.prototype.Bd=function(){this.Au();return this.Vf};ba=r;new ba;Xa=function(e,h){N?Ya(e,h.Jc):Za(e,h.Bd())};Ya=function(e,h){var a,d,v,b;d=a=0;for(v=e.length;a<v;++a)b=e[a],h.has(b)||(e[d++]=b);e.length=d};Za=function(e,h){var a,d,v,b;d=a=0;for(v=e.length;a<v;++a)b=e[a],-1===Aa(h,b)&&(e[d++]=b);e.length=d};c.prototype.add=
function(e){this.y=e-this.Vj;this.sj=this.V+this.y;this.Vj=this.sj-this.V-this.y;this.V=this.sj};c.prototype.reset=function(){this.V=this.sj=this.y=this.Vj=0};$a=c;ab=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};a.prototype.gh=function(e){this.cp=e;this.cj=e.length/2;this.If.length=e.length;this.Xj=this.Yj=-1;this.cn=0};a.prototype.qt=function(){return!this.cp.length};a.prototype.eb=function(){for(var e=this.If,h=e[0],a=h,d=e[1],v=d,b,c,g=1,C=this.cj;g<C;++g)c=2*g,b=e[c],c=e[c+
1],b<h&&(h=b),b>a&&(a=b),c<d&&(d=c),c>v&&(v=c);this.Wm=h;this.Xm=a;this.Ym=d;this.Vm=v};a.prototype.fh=function(e,h,a){this.If.length=8;this.cj=4;var d=this.If;d[0]=e.left-h;d[1]=e.top-a;d[2]=e.right-h;d[3]=e.top-a;d[4]=e.right-h;d[5]=e.bottom-a;d[6]=e.left-h;d[7]=e.bottom-a;this.Yj=e.right-e.left;this.Xj=e.bottom-e.top;this.eb()};a.prototype.or=function(e,h,a){if(this.Yj!==e||this.Xj!==h||this.cn!==a){this.Yj=e;this.Xj=h;this.cn=a;var d,v,b,c,g,C=0,k=1,w=this.cp,p=this.If;0!==a&&(C=Math.sin(a),k=
Math.cos(a));a=0;for(b=this.cj;a<b;a++)d=2*a,v=d+1,c=w[d]*e,g=w[v]*h,p[d]=c*k-g*C,p[v]=g*k+c*C;this.eb()}};a.prototype.ec=function(e,h){var a=this.If;if(e===a[0]&&h===a[1])return!0;var d,v,b,c=this.cj,g=this.Wm-110,C=this.Ym-101,k=this.Xm+131,w=this.Vm+120,p,P,l=0,n=0;for(d=0;d<c;d++)v=2*d,b=(d+1)%c*2,p=a[v],v=a[v+1],P=a[b],b=a[b+1],ra(g,C,e,h,p,v,P,b)&&l++,ra(k,w,e,h,p,v,P,b)&&n++;return 1===l%2||1===n%2};bb=a;b.prototype.Ud=function(e,h,a){var d;d=this.cells[e];return d?(d=d[h])?d:a?(d=l(this,e,
h),this.cells[e][h]=d):null:a?(d=l(this,e,h),this.cells[e]={},this.cells[e][h]=d):null};b.prototype.Rb=function(e){return U(e/this.ak)};b.prototype.Sb=function(e){return U(e/this.$j)};b.prototype.update=function(e,h,a){var d,v,b,c,g;if(h)for(d=h.left,v=h.right;d<=v;++d)for(b=h.top,c=h.bottom;b<=c;++b)if(!a||!a.ec(d,b))if(g=this.Ud(d,b,!1))g.remove(e),g.pd()&&(g.Sa.clear(),1E3>F.length&&F.push(g),this.cells[d][b]=null);if(a)for(d=a.left,v=a.right;d<=v;++d)for(b=a.top,c=a.bottom;b<=c;++b)h&&h.ec(d,
b)||this.Ud(d,b,!0).Uk(e)};b.prototype.ep=function(e,h){var a,d,v,b,c,g;a=this.Rb(e.left);v=this.Sb(e.top);d=this.Rb(e.right);for(c=this.Sb(e.bottom);a<=d;++a)for(b=v;b<=c;++b)(g=this.Ud(a,b,!1))&&g.dump(h)};cb=b;s.prototype.Ud=function(e,h,a){var d;d=this.cells[e];return d?(d=d[h])?d:a?(d=k(this,e,h),this.cells[e][h]=d):null:a?(d=k(this,e,h),this.cells[e]={},this.cells[e][h]=d):null};s.prototype.Rb=function(e){return U(e/this.ak)};s.prototype.Sb=function(e){return U(e/this.$j)};s.prototype.update=
function(e,h,a){var d,v,b,c,g;if(h)for(d=h.left,v=h.right;d<=v;++d)for(b=h.top,c=h.bottom;b<=c;++b)if(!a||!a.ec(d,b))if(g=this.Ud(d,b,!1))g.remove(e),g.pd()&&(g.reset(),1E3>y.length&&y.push(g),this.cells[d][b]=null);if(a)for(d=a.left,v=a.right;d<=v;++d)for(b=a.top,c=a.bottom;b<=c;++b)h&&h.ec(d,b)||this.Ud(d,b,!0).Uk(e)};s.prototype.ep=function(e,h,a,d,v){var b,c;e=this.Rb(e);h=this.Sb(h);a=this.Rb(a);for(b=this.Sb(d);e<=a;++e)for(d=h;d<=b;++d)(c=this.Ud(e,d,!1))&&c.dump(v)};s.prototype.zt=function(e){var h,
a,d,v,b;h=e.left;d=e.top;a=e.right;for(v=e.bottom;h<=a;++h)for(e=d;e<=v;++e)if(b=this.Ud(h,e,!1))b.uf=!1};db=s;var F=[];d.prototype.pd=function(){return this.Sa.pd()};d.prototype.Uk=function(e){this.Sa.add(e)};d.prototype.remove=function(e){this.Sa.remove(e)};d.prototype.dump=function(e){za(e,this.Sa.Bd())};aa=d;var y=[];n.prototype.pd=function(){if(!this.Sa.length)return!0;if(this.Sa.length>this.Xc.count())return!1;this.qk();return!0};n.prototype.Uk=function(e){this.Xc.contains(e)?(this.Xc.remove(e),
this.Xc.pd()&&(this.Zf=!1)):this.Sa.length?(this.Sa[this.Sa.length-1].Tc()>e.Tc()&&(this.uf=!1),this.Sa.push(e)):(this.Sa.push(e),this.uf=!0)};n.prototype.remove=function(e){this.Xc.add(e);this.Zf=!0;30<=this.Xc.count()&&this.qk()};n.prototype.qk=function(){this.Zf&&(this.Xc.count()===this.Sa.length?this.reset():(Xa(this.Sa,this.Xc),this.Xc.clear(),this.Zf=!1))};n.prototype.Ur=function(){this.uf||(this.Sa.sort(g),this.uf=!0)};n.prototype.reset=function(){this.Sa.length=0;this.uf=!0;this.Xc.clear();
this.Zf=!1};n.prototype.dump=function(e){this.qk();this.Ur();this.Sa.length&&e.push(this.Sa)};da=n;var Z="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");eb=function(e){return 0>=e||11<=e?"source-over":Z[e-1]};fb=function(e,h,a){if(a)switch(e.ib=a.ONE,e.hb=a.ONE_MINUS_SRC_ALPHA,h){case 1:e.ib=a.ONE;e.hb=a.ONE;break;case 3:e.ib=a.ONE;e.hb=a.ZERO;break;case 4:e.ib=a.ONE_MINUS_DST_ALPHA;e.hb=a.ONE;break;case 5:e.ib=a.DST_ALPHA;
e.hb=a.ZERO;break;case 6:e.ib=a.ZERO;e.hb=a.SRC_ALPHA;break;case 7:e.ib=a.ONE_MINUS_DST_ALPHA;e.hb=a.ZERO;break;case 8:e.ib=a.ZERO;e.hb=a.ONE_MINUS_SRC_ALPHA;break;case 9:e.ib=a.DST_ALPHA;e.hb=a.ONE_MINUS_SRC_ALPHA;break;case 10:e.ib=a.ONE_MINUS_DST_ALPHA,e.hb=a.SRC_ALPHA}};gb=function(e){return Math.round(1E6*e)/1E6};hb=function(e,h){return"string"!==typeof e||"string"!==typeof h||e.length!==h.length?!1:e===h?!0:e.toLowerCase()===h.toLowerCase()};ib=function(e){e=e.target;return!e||e===document||
e===window||document&&document.body&&e===document.body||hb(e.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(f){var q=new ac(3);f&&(q[0]=f[0],q[1]=f[1],q[2]=f[2]);return q}function cc(f){var q=new ac(16);f&&(q[0]=f[0],q[1]=f[1],q[2]=f[2],q[3]=f[3],q[4]=f[4],q[5]=f[5],q[6]=f[6],q[7]=f[7],q[8]=f[8],q[9]=f[9],q[10]=f[10],q[11]=f[11],q[12]=f[12],q[13]=f[13],q[14]=f[14],q[15]=f[15]);return q}
function dc(f,q){q[0]=f[0];q[1]=f[1];q[2]=f[2];q[3]=f[3];q[4]=f[4];q[5]=f[5];q[6]=f[6];q[7]=f[7];q[8]=f[8];q[9]=f[9];q[10]=f[10];q[11]=f[11];q[12]=f[12];q[13]=f[13];q[14]=f[14];q[15]=f[15]}function ec(f,q){var m=q[0],r=q[1];q=q[2];f[0]*=m;f[1]*=m;f[2]*=m;f[3]*=m;f[4]*=r;f[5]*=r;f[6]*=r;f[7]*=r;f[8]*=q;f[9]*=q;f[10]*=q;f[11]*=q}
function fc(f,q,m,r){r||(r=cc());var t,c,a,b,s,l,d,k,n=f[0],g=f[1];f=f[2];c=m[0];a=m[1];t=m[2];m=q[1];l=q[2];n===q[0]&&g===m&&f===l?(f=r,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(m=n-q[0],l=g-q[1],d=f-q[2],k=1/Math.sqrt(m*m+l*l+d*d),m*=k,l*=k,d*=k,q=a*d-t*l,t=t*m-c*d,c=c*l-a*m,(k=Math.sqrt(q*q+t*t+c*c))?(k=1/k,q*=k,t*=k,c*=k):c=t=q=0,a=l*c-d*t,b=d*q-m*c,s=m*t-l*q,(k=Math.sqrt(a*a+b*b+s*s))?(k=1/k,a*=k,b*=k,s*=k):s=b=a=0,
r[0]=q,r[1]=a,r[2]=m,r[3]=0,r[4]=t,r[5]=b,r[6]=l,r[7]=0,r[8]=c,r[9]=s,r[10]=d,r[11]=0,r[12]=-(q*n+t*g+c*f),r[13]=-(a*n+b*g+s*f),r[14]=-(m*n+l*g+d*f),r[15]=1)}
(function(){function f(c){this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.dn=bc([0,0,100]);this.ho=bc([0,0,0]);this.Ip=bc([0,1,0]);this.xm=bc([1,1,1]);this.rn=!0;this.pl=cc();this.qc=cc();this.Yn=cc();this.ik=cc();this.k=c;this.Mn()}function q(c,a,b){this.k=c;this.hh=a;this.name=b;this.pc=c.getAttribLocation(a,"aPos");this.Zd=c.getAttribLocation(a,"aTex");this.eo=c.getUniformLocation(a,"matP");this.Ii=c.getUniformLocation(a,"matMV");this.Af=
c.getUniformLocation(a,"opacity");this.fo=c.getUniformLocation(a,"samplerFront");this.Mg=c.getUniformLocation(a,"samplerBack");this.Ne=c.getUniformLocation(a,"destStart");this.Me=c.getUniformLocation(a,"destEnd");this.ml=c.getUniformLocation(a,"seconds");this.ll=c.getUniformLocation(a,"pixelWidth");this.kl=c.getUniformLocation(a,"pixelHeight");this.Lg=c.getUniformLocation(a,"layerScale");this.Kg=c.getUniformLocation(a,"layerAngle");this.Og=c.getUniformLocation(a,"viewOrigin");this.Ng=c.getUniformLocation(a,
"scrollPos");this.dt=!!(this.ll||this.kl||this.ml||this.Mg||this.Ne||this.Me||this.Lg||this.Kg||this.Og||this.Ng);this.qo=this.ro=-999;this.Ki=1;this.mo=this.lo=0;this.oo=this.ko=this.jo=1;this.uo=this.so=this.wo=this.vo=this.no=0;this.fl=[];this.po=cc();this.Af&&c.uniform1f(this.Af,1);this.fo&&c.uniform1i(this.fo,0);this.Mg&&c.uniform1i(this.Mg,1);this.Ne&&c.uniform2f(this.Ne,0,0);this.Me&&c.uniform2f(this.Me,1,1);this.Lg&&c.uniform1f(this.Lg,1);this.Kg&&c.uniform1f(this.Kg,0);this.Og&&c.uniform2f(this.Og,
0,0);this.Ng&&c.uniform2f(this.Ng,0,0);this.Ae=!1}function m(c,a){this.type=c;this.n=a;this.k=a.k;this.lc=this.$b=this.Mo=0;this.aa=this.Kc=null;this.pp=[]}f.prototype.Mn=function(){var c=this.k,a;this.Zn=1;this.Ie=this.He=null;this.Nh=1;c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.disable(c.CULL_FACE);c.disable(c.DEPTH_TEST);this.$n=c.ONE;this.Xn=c.ONE_MINUS_SRC_ALPHA;this.Il=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Il);this.xh=
Array(4);this.oh=Array(4);for(a=0;4>a;a++)this.xh[a]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.xh[a]),this.oh[a]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.oh[a]);this.gd=0;this.ht=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.ht);this.tm=new Float32Array(16E3);this.fm=new Float32Array(16E3);this.Yo=new Float32Array(32E3);for(var b=new Uint16Array(12E3),s=a=0;12E3>a;)b[a++]=s,b[a++]=s+1,b[a++]=s+2,b[a++]=s,b[a++]=s+2,b[a++]=s+3,s+=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,b,
c.STATIC_DRAW);this.Gf=this.cd=0;this.Oa=[];a=this.gk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Oa.push(a);a=this.gk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Oa.push(a);for(var l in gc)gc.hasOwnProperty(l)&&this.Oa.push(this.gk(gc[l],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",l));c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,null);this.fd=[];this.Oc=0;this.Ib=this.ub=!1;this.mn=this.Cg=-1;this.ig=null;this.ws=c.createFramebuffer();this.hp=null;this.ke=bc([0,0,0]);c=c.getParameter(c.ALIASED_POINT_SIZE_RANGE);this.Ct=c[0];this.ql=
c[1];2048<this.ql&&(this.ql=2048);this.$c(0)};q.prototype.nm=function(c){var a=this.po;if(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]||a[3]!==c[3]||a[4]!==c[4]||a[5]!==c[5]||a[6]!==c[6]||a[7]!==c[7]||a[8]!==c[8]||a[9]!==c[9]||a[10]!==c[10]||a[11]!==c[11]||a[12]!==c[12]||a[13]!==c[13]||a[14]!==c[14]||a[15]!==c[15])dc(c,this.po),this.k.uniformMatrix4fv(this.Ii,!1,c)};f.prototype.gk=function(c,a,b){var s=this.k,l=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(l,c.src);s.compileShader(l);if(!s.getShaderParameter(l,
s.COMPILE_STATUS))return s.deleteShader(l),null;var d=s.createShader(s.VERTEX_SHADER);s.shaderSource(d,a);s.compileShader(d);if(!s.getShaderParameter(d,s.COMPILE_STATUS))return s.deleteShader(l),s.deleteShader(d),null;a=s.createProgram();s.attachShader(a,l);s.attachShader(a,d);s.linkProgram(a);if(!s.getProgramParameter(a,s.LINK_STATUS))return s.deleteShader(l),s.deleteShader(d),s.deleteProgram(a),null;s.useProgram(a);s.deleteShader(l);s.deleteShader(d);b=new q(s,a,b);b.Vh=c.Vh||0;b.Wh=c.Wh||0;b.hk=
!!c.hk;b.Sj=!!c.Sj;b.I=c.I||[];c=0;for(l=b.I.length;c<l;c++)b.I[c][1]=s.getUniformLocation(a,b.I[c][0]),b.fl.push(0),s.uniform1f(b.I[c][1],0);return b};f.prototype.Ek=function(c){var a,b;a=0;for(b=this.Oa.length;a<b;a++)if(this.Oa[a].name===c)return a;return-1};f.prototype.bp=function(c,a,b){var s=this.qc,l=this.pl,d=[0,0,0,0,0,0,0,0];d[0]=s[0]*c+s[4]*a+s[12];d[1]=s[1]*c+s[5]*a+s[13];d[2]=s[2]*c+s[6]*a+s[14];d[3]=s[3]*c+s[7]*a+s[15];d[4]=l[0]*d[0]+l[4]*d[1]+l[8]*d[2]+l[12]*d[3];d[5]=l[1]*d[0]+l[5]*
d[1]+l[9]*d[2]+l[13]*d[3];d[6]=l[2]*d[0]+l[6]*d[1]+l[10]*d[2]+l[14]*d[3];d[7]=-d[2];0!==d[7]&&(d[7]=1/d[7],d[4]*=d[7],d[5]*=d[7],d[6]*=d[7],b[0]=(.5*d[4]+.5)*this.width,b[1]=(.5*d[5]+.5)*this.height)};f.prototype.Mf=function(c,a,b){if(this.width!==c||this.height!==a||b){this.Sd();this.width=c;this.height=a;this.k.viewport(0,0,c,a);a=c/a;var s=this.pl,l;l=1*Math.tan(45*Math.PI/360);a*=l;c=-a;b=-l;s||(s=cc());var d=a-c,k=l-b;s[0]=2/d;s[1]=0;s[2]=0;s[3]=0;s[4]=0;s[5]=2/k;s[6]=0;s[7]=0;s[8]=(a+c)/d;s[9]=
(l+b)/k;s[10]=-1001/999;s[11]=-1;s[12]=0;s[13]=0;s[14]=-2E3/999;s[15]=0;fc(this.dn,this.ho,this.Ip,this.qc);c=[0,0];a=[0,0];this.bp(0,0,c);this.bp(1,1,a);this.xm[0]=1/(a[0]-c[0]);this.xm[1]=-1/(a[1]-c[1]);c=0;for(a=this.Oa.length;c<a;c++)b=this.Oa[c],b.Ae=!1,b.eo&&(this.k.useProgram(b.hh),this.k.uniformMatrix4fv(b.eo,!1,this.pl));this.k.useProgram(this.Oa[this.Cg].hh);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE1);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE0);
this.Ie=this.He=null}};f.prototype.fe=function(){fc(this.dn,this.ho,this.Ip,this.qc);ec(this.qc,this.xm)};f.prototype.translate=function(c,a){if(0!==c||0!==a){this.ke[0]=c;this.ke[1]=a;this.ke[2]=0;var b=this.qc,s=this.ke,l=s[0],d=s[1],s=s[2];b[12]=b[0]*l+b[4]*d+b[8]*s+b[12];b[13]=b[1]*l+b[5]*d+b[9]*s+b[13];b[14]=b[2]*l+b[6]*d+b[10]*s+b[14];b[15]=b[3]*l+b[7]*d+b[11]*s+b[15]}};f.prototype.scale=function(c,a){if(1!==c||1!==a)this.ke[0]=c,this.ke[1]=a,this.ke[2]=1,ec(this.qc,this.ke)};f.prototype.ip=
function(c){if(0!==c){var a=this.qc,b,s=Math.sin(c);c=Math.cos(c);var l=a[0],d=a[1],k=a[2],n=a[3],g=a[4],p=a[5],u=a[6],h=a[7];b?a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=l*c+g*s;b[1]=d*c+p*s;b[2]=k*c+u*s;b[3]=n*c+h*s;b[4]=l*-s+g*c;b[5]=d*-s+p*c;b[6]=k*-s+u*c;b[7]=n*-s+h*c}};f.prototype.me=function(){for(var c=!1,a=0;16>a;a++)if(this.Yn[a]!==this.qc[a]){c=!0;break}c&&(c=this.uc(),c.type=5,c.aa?dc(this.qc,c.aa):c.aa=cc(this.qc),dc(this.qc,
this.Yn),this.Ib=this.ub=!1)};m.prototype.Kr=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Kc)};m.prototype.Lr=function(){var c=this.k;c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,this.Kc);c.activeTexture(c.TEXTURE0)};m.prototype.Hr=function(){var c=this.Mo,a=this.n;a.Nh=c;a=a.ig;a.Af&&a.Ki!==c&&(a.Ki=c,this.k.uniform1f(a.Af,c))};m.prototype.Er=function(){this.k.drawElements(this.k.TRIANGLES,this.lc,this.k.UNSIGNED_SHORT,2*this.$b)};m.prototype.Gr=function(){this.k.blendFunc(this.$b,
this.lc)};m.prototype.Mr=function(){var c,a,b,s=this.n.Oa,l=this.n.mn;c=0;for(a=s.length;c<a;c++)b=s[c],c===l&&b.Ii?(b.nm(this.aa),b.Ae=!0):b.Ae=!1;dc(this.aa,this.n.ik)};m.prototype.Fr=function(){var c=this.k,a=this.n;this.Kc?(a.Ie===this.Kc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,null),a.Ie=null,c.activeTexture(c.TEXTURE0)),c.bindFramebuffer(c.FRAMEBUFFER,a.ws),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.Kc,0)):(c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),c.bindFramebuffer(c.FRAMEBUFFER,null))};m.prototype.Cr=function(){var c=this.k;0===this.$b?(c.clearColor(this.aa[0],this.aa[1],this.aa[2],this.aa[3]),c.clear(c.COLOR_BUFFER_BIT)):(c.enable(c.SCISSOR_TEST),c.scissor(this.aa[0],this.aa[1],this.aa[2],this.aa[3]),c.clearColor(0,0,0,0),c.clear(this.k.COLOR_BUFFER_BIT),c.disable(c.SCISSOR_TEST))};m.prototype.Dr=function(){var c=this.k,a=this.n,b=a.Oa[1];c.useProgram(b.hh);!b.Ae&&b.Ii&&(b.nm(a.ik),b.Ae=!0);c.enableVertexAttribArray(b.pc);
c.bindBuffer(c.ARRAY_BUFFER,a.Il);c.vertexAttribPointer(b.pc,4,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,this.$b/4,this.lc);b=a.ig;c.useProgram(b.hh);0<=b.pc&&(c.enableVertexAttribArray(b.pc),c.bindBuffer(c.ARRAY_BUFFER,a.xh[a.gd]),c.vertexAttribPointer(b.pc,2,c.FLOAT,!1,0,0));0<=b.Zd&&(c.enableVertexAttribArray(b.Zd),c.bindBuffer(c.ARRAY_BUFFER,a.oh[a.gd]),c.vertexAttribPointer(b.Zd,2,c.FLOAT,!1,0,0))};m.prototype.Ir=function(){var c=this.k,a=this.n,b=a.Oa[this.$b];a.mn=this.$b;a.ig=b;c.useProgram(b.hh);
!b.Ae&&b.Ii&&(b.nm(a.ik),b.Ae=!0);b.Af&&b.Ki!==a.Nh&&(b.Ki=a.Nh,c.uniform1f(b.Af,a.Nh));0<=b.pc&&(c.enableVertexAttribArray(b.pc),c.bindBuffer(c.ARRAY_BUFFER,a.xh[a.gd]),c.vertexAttribPointer(b.pc,2,c.FLOAT,!1,0,0));0<=b.Zd&&(c.enableVertexAttribArray(b.Zd),c.bindBuffer(c.ARRAY_BUFFER,a.oh[a.gd]),c.vertexAttribPointer(b.Zd,2,c.FLOAT,!1,0,0))};m.prototype.Jr=function(){var c,a,b=this.n.ig,s=this.k;c=this.aa;b.Mg&&this.n.Ie!==this.Kc&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,this.Kc),
this.n.Ie=this.Kc,s.activeTexture(s.TEXTURE0));var l=c[0];b.ll&&l!==b.ro&&(b.ro=l,s.uniform1f(b.ll,l));l=c[1];b.kl&&l!==b.qo&&(b.qo=l,s.uniform1f(b.kl,l));l=c[2];a=c[3];!b.Ne||l===b.lo&&a===b.mo||(b.lo=l,b.mo=a,s.uniform2f(b.Ne,l,a));l=c[4];a=c[5];!b.Me||l===b.jo&&a===b.ko||(b.jo=l,b.ko=l,s.uniform2f(b.Me,l,a));l=c[6];b.Lg&&l!==b.oo&&(b.oo=l,s.uniform1f(b.Lg,l));l=c[7];b.Kg&&l!==b.no&&(b.no=l,s.uniform1f(b.Kg,l));l=c[8];a=c[9];!b.Og||l===b.vo&&a===b.wo||(b.vo=l,b.wo=a,s.uniform2f(b.Og,l,a));l=c[10];
a=c[11];!b.Ng||l===b.so&&a===b.uo||(b.so=l,b.uo=a,s.uniform2f(b.Ng,l,a));b.ml&&s.uniform1f(b.ml,Wa()/1E3);if(b.I.length)for(c=0,a=b.I.length;c<a;c++)l=this.pp[c],l!==b.fl[c]&&(b.fl[c]=l,s.uniform1f(b.I[c][1],l))};f.prototype.uc=function(){this.Oc===this.fd.length&&this.fd.push(new m(0,this));return this.fd[this.Oc++]};f.prototype.Sd=function(){if(0!==this.Oc&&!this.k.isContextLost()){var c=this.k;0<this.Gf&&(c.bindBuffer(c.ARRAY_BUFFER,this.Il),c.bufferData(c.ARRAY_BUFFER,this.Yo.subarray(0,this.Gf),
c.STREAM_DRAW),a&&0<=a.pc&&"<point>"===a.name&&c.vertexAttribPointer(a.pc,4,c.FLOAT,!1,0,0));if(0<this.cd){var a=this.ig;c.bindBuffer(c.ARRAY_BUFFER,this.xh[this.gd]);c.bufferData(c.ARRAY_BUFFER,this.tm.subarray(0,this.cd),c.STREAM_DRAW);a&&0<=a.pc&&"<point>"!==a.name&&c.vertexAttribPointer(a.pc,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.oh[this.gd]);c.bufferData(c.ARRAY_BUFFER,this.fm.subarray(0,this.cd),c.STREAM_DRAW);a&&0<=a.Zd&&"<point>"!==a.name&&c.vertexAttribPointer(a.Zd,2,c.FLOAT,
!1,0,0)}for(var b,c=0,a=this.Oc;c<a;c++)switch(b=this.fd[c],b.type){case 1:b.Er();break;case 2:b.Kr();break;case 3:b.Hr();break;case 4:b.Gr();break;case 5:b.Mr();break;case 6:b.Fr();break;case 7:b.Cr();break;case 8:b.Dr();break;case 9:b.Ir();break;case 10:b.Jr();break;case 11:b.Lr()}this.Gf=this.cd=this.Oc=0;this.Ib=this.ub=!1;this.gd++;4<=this.gd&&(this.gd=0)}};f.prototype.Se=function(c){if(c!==this.Zn){var a=this.uc();a.type=3;this.Zn=a.Mo=c;this.Ib=this.ub=!1}};f.prototype.Nb=function(c){if(c!==
this.He){var a=this.uc();a.type=2;this.He=a.Kc=c;this.Ib=this.ub=!1}};f.prototype.ge=function(c,a){if(c!==this.$n||a!==this.Xn){var b=this.uc();b.type=4;b.$b=c;b.lc=a;this.$n=c;this.Xn=a;this.Ib=this.ub=!1}};f.prototype.lp=function(){this.ge(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};f.prototype.ah=function(c,a,b,s,l,d,k,n){15992<=this.cd&&this.Sd();var g=this.cd,p=this.tm,u=this.fm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var h=this.uc();h.type=1;h.$b=g/4*3;h.lc=6;this.ub=!0;this.Ib=!1}p[g]=c;u[g++]=
0;p[g]=a;u[g++]=0;p[g]=b;u[g++]=1;p[g]=s;u[g++]=0;p[g]=l;u[g++]=1;p[g]=d;u[g++]=1;p[g]=k;u[g++]=0;p[g]=n;u[g++]=1;this.cd=g};f.prototype.de=function(c,a,b,s,l,d,k,n,g){15992<=this.cd&&this.Sd();var p=this.cd,u=this.tm,h=this.fm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var e=this.uc();e.type=1;e.$b=p/4*3;e.lc=6;this.ub=!0;this.Ib=!1}var e=g.left,v=g.top,C=g.right;g=g.bottom;u[p]=c;h[p++]=e;u[p]=a;h[p++]=v;u[p]=b;h[p++]=C;u[p]=s;h[p++]=v;u[p]=l;h[p++]=C;u[p]=d;h[p++]=g;u[p]=k;h[p++]=e;u[p]=n;h[p++]=
g;this.cd=p};f.prototype.Qt=function(c,a,b,s){7996<=this.Gf&&this.Sd();var l=this.Gf,d=this.Yo;if(this.Ib)this.fd[this.Oc-1].lc++;else{var k=this.uc();k.type=8;k.$b=l;k.lc=1;this.Ib=!0;this.ub=!1}d[l++]=c;d[l++]=a;d[l++]=b;d[l++]=s;this.Gf=l};f.prototype.$c=function(c){if(this.Cg!==c){if(!this.Oa[c]){if(0===this.Cg)return;c=0}var a=this.uc();a.type=9;this.Cg=a.$b=c;this.Ib=this.ub=!1}};f.prototype.Zg=function(c){c=this.Oa[c];return!(!c.Ne&&!c.Me)};f.prototype.Jl=function(c){c=this.Oa[c];return!!(c.Ne||
c.Me||c.hk)};f.prototype.Xt=function(c){c=this.Oa[c];return 0!==c.Vh||0!==c.Wh};f.prototype.Ls=function(c){return this.Oa[c].Vh};f.prototype.Ms=function(c){return this.Oa[c].Wh};f.prototype.Ns=function(c,a){return this.Oa[c].I[a][2]};f.prototype.bj=function(c){return this.Oa[c].Sj};f.prototype.Lf=function(c,a,b,s,l,d,k,n,g,p,u,h,e,v){var C=this.Oa[this.Cg],N,w;if(C.dt||v.length){N=this.uc();N.type=10;N.aa?dc(this.qc,N.aa):N.aa=cc();w=N.aa;w[0]=a;w[1]=b;w[2]=s;w[3]=l;w[4]=d;w[5]=k;w[6]=n;w[7]=g;w[8]=
p;w[9]=u;w[10]=h;w[11]=e;N.Kc=C.Mg?c:null;if(v.length)for(b=N.pp,b.length=v.length,c=0,a=v.length;c<a;c++)b[c]=v[c];this.Ib=this.ub=!1}};f.prototype.clear=function(c,a,b,s){var l=this.uc();l.type=7;l.$b=0;l.aa||(l.aa=cc());l.aa[0]=c;l.aa[1]=a;l.aa[2]=b;l.aa[3]=s;this.Ib=this.ub=!1};f.prototype.clearRect=function(c,a,b,s){if(!(0>b||0>s)){var l=this.uc();l.type=7;l.$b=1;l.aa||(l.aa=cc());l.aa[0]=c;l.aa[1]=a;l.aa[2]=b;l.aa[3]=s;this.Ib=this.ub=!1}};f.prototype.Wt=function(){this.Sd();this.k.flush()};
var r=[],t={};f.prototype.rr=function(){r.length=0;t={}};f.prototype.xf=function(c,a,b,s){a=!!a;b=!!b;var l=c.src+","+a+","+b+(a?",undefined":""),d=null;if("undefined"!==typeof c.src&&t.hasOwnProperty(l))return d=t[l],d.Ch++,d;this.Sd();var k=this.k,n=ia(c.width)&&ia(c.height),d=k.createTexture();k.bindTexture(k.TEXTURE_2D,d);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var g=k.RGBA,p=k.RGBA,u=k.UNSIGNED_BYTE;if(s&&!this.Fe)switch(s){case 1:p=g=k.RGB;break;case 2:u=k.UNSIGNED_SHORT_4_4_4_4;
break;case 3:u=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=g=k.RGB,u=k.UNSIGNED_SHORT_5_6_5}if(!n&&a){s=document.createElement("canvas");s.width=ja(c.width);s.height=ja(c.height);var h=s.getContext("2d");h.webkitImageSmoothingEnabled=b;h.mozImageSmoothingEnabled=b;h.msImageSmoothingEnabled=b;h.imageSmoothingEnabled=b;h.drawImage(c,0,0,c.width,c.height,0,0,s.width,s.height);k.texImage2D(k.TEXTURE_2D,0,g,p,u,s)}else k.texImage2D(k.TEXTURE_2D,0,g,p,u,c);a?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),n&&this.rn?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.He=null;d.dg=c.width;d.bg=c.height;d.Ch=1;d.bn=l;r.push(d);return t[l]=d};f.prototype.Pd=function(c,a,b){var s;this.Sd();var l=this.k;this.Fe&&(s=!1);var d=l.createTexture();l.bindTexture(l.TEXTURE_2D,d);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,c,a,0,l.RGBA,s?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MAG_FILTER,b?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,b?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.He=null;d.dg=c;d.bg=a;r.push(d);return d};f.prototype.deleteTexture=function(c){c&&("undefined"!==typeof c.Ch&&1<c.Ch?c.Ch--:(this.Sd(),c===this.He&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.He=null),c===this.Ie&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.Ie=
null),Ba(r,c),"undefined"!==typeof c.bn&&delete t[c.bn],this.k.deleteTexture(c)))};f.prototype.Zc=function(c){if(c!==this.hp){var a=this.uc();a.type=6;this.hp=a.Kc=c;this.Ib=this.ub=!1}};jb=f})();
(function(){function f(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function q(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function m(h){if(h&&(h.getContext||h.dc)&&!h.c2runtime){h.c2runtime=this;var e=this;this.Xb=(this.xg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.$a=!!h.dc;this.of="undefined"!==typeof window.AppMobi||this.$a;this.Wb=!!window.c2cocoonjs;this.mc=!!window.c2ejecta;this.Wb&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.mc&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",
function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.ga=this.$a||this.Wb||this.mc;this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Sn=/tizen/i.test(navigator.userAgent);this.mi=/android/i.test(navigator.userAgent)&&!this.Sn&&!this.Fe;this.dl=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Fe;this.Wn=/ipad/i.test(navigator.userAgent);this.ti=this.dl||this.Wn||this.mc;this.tt=this.dl&&/os\s6/i.test(navigator.userAgent);this.wg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Fe;this.Xk=/amazonwebappplatform/i.test(navigator.userAgent);this.lt=/firefox/i.test(navigator.userAgent);this.Rn=/safari/i.test(navigator.userAgent)&&!this.wg&&!this.Fe;this.ot=/windows/i.test(navigator.userAgent);this.Xd="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Tn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Un=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.rf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.oi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.bl=this.Tn||this.Un||this.oi;this.kt=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.ni=this.mi&&!this.wg&&!this.xg&&!this.lt&&!this.Xk&&!this.ga;this.devicePixelRatio=1;this.qd=this.Xb||this.xg||this.of||this.Wb||this.mi||this.ti||this.rf||this.oi||this.kt||this.Sn||this.mc;this.qd||(this.qd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Xd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.Xd=!0);this.canvas=h;this.en=document.getElementById("c2canvasdiv");this.ea=this.n=this.k=null;this.tk="";this.$h=!1;this.Go=this.Ho=0;this.canvas.oncontextmenu=function(e){e.preventDefault&&e.preventDefault();return!1};this.canvas.onselectstart=function(e){e.preventDefault&&e.preventDefault();return!1};this.$a&&(window.c2runtime=this);this.Xd&&(window.ondragover=function(e){e.preventDefault();return!1},window.ondrop=function(e){e.preventDefault();return!1},require("nw.gui").App.clearCache());
this.ni&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=h.width;this.height=h.height;this.L=this.width;this.K=this.height;this.Lh=this.width;this.Kh=this.height;this.Eg=window.innerWidth;this.Dg=window.innerHeight;this.ys=!1;this.ca=!0;this.zg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.m=[];this.Da=[];this.il={};this.Hc=[];this.ok={};this.ld=[];this.Xf=[];this.zj=[];this.hr=[];this.ir=[];this.te={};this.Yk=
this.Vd=!1;this.Fc=0;this.$k=!1;this.Qc=[];this.rd=this.kb=this.Ei=this.Wl="";this.kh=this.tp=!1;this.fk=this.Pg=this.Rd=this.ve=0;this.We=1;this.yb=new $a;this.dd=new $a;this.Oi=this.bi=this.Uh=this.sh=this.Ke=this.sk=this.Bi=0;this.ck=null;this.lk=[];this.nk=[];this.Th=-1;this.nl=[[]];this.km=this.Ji=0;this.Ll(null);this.lg=this.Bo=this.Sg=0;this.mh=[];this.hm=this.Ml=-1;this.vi=!0;this.zf=0;this.yg=!1;this.ru=0;this.df=null;this.ya=this.nf=!1;this.Fo=new ba;this.xl=new ba;this.yl=new ba;this.$t=
[];new bb([]);new bb([]);this.cf=[];this.ii={};this.gf={};this.bf={};this.Wf={};this.Zm={};this.co=this.Di=this.Jb=this.Zb=this.bo=this.Ci=this.ja=null;this.Uf=this.cl=!1;this.uk=[null,null];this.ye=0;this.Zh="";this.td={};this.mj=this.yf=null;this.Ni=[];this.au()}}function r(h){h.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(h,e,a,d){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=r;b.onerror=d;b.onsuccess=function(b){b=b.target.result;b.onerror=d;b.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:h,data:e}).onsuccess=a}}function c(h,e,a){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=r;d.onerror=a;d.onsuccess=function(d){d=d.target.result;d.onerror=a;var b=d.transaction(["saves"]).objectStore("saves").get(h);b.onsuccess=function(){b.result?e(b.result.data):e(null)}}}function a(){M("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+=
"?continuous"}function b(h){var e,a={};for(e in h)!h.hasOwnProperty(e)||h[e]instanceof ba||h[e]&&"undefined"!==typeof h[e].Kv||(a[e]=h[e]);return a}m.prototype.au=function(){var h=this,e;e=this.rf?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var a="data.js";if(this.Tn||this.rf||this.oi)a="data.json";e.open("GET",a,!0);var d=!1;if(!this.ga&&"response"in e&&"responseType"in e)try{e.responseType="json",d="json"===e.responseType}catch(b){d=!1}if(!d&&"responseType"in e)try{e.responseType=
"text"}catch(c){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(g){}this.rf?e.onreadystatechange=function(){4===e.readyState&&h.Gi(JSON.parse(e.responseText))}:(e.onload=function(){if(d)h.Gi(e.response);else if(h.mc){var a=e.responseText,a=a.substr(a.indexOf("{"));h.Gi(JSON.parse(a))}else h.Gi(JSON.parse(e.responseText))},e.onerror=function(e){ea("Error requesting "+a+":");ea(e)});e.send()};m.prototype.it=function(){var h=this,e,a,d,b,c,g,k,p,l;this.devicePixelRatio=
(this.qf=(!this.ga||this.mc)&&this.Du&&!this.ni)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.fb();a=!(!this.ys&&(!this.Qj||this.Xd||this.bl||this.rf||this.xg||this.Xb||this.Xk));0<this.tb&&this.setSize(f(),q(),!0);try{this.Sr&&(this.Wb||this.mc||!this.ga)&&(e={alpha:a,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e))}catch(n){}if(this.k){this.ga||
(this.ab=document.createElement("canvas"),jQuery(this.ab).appendTo(this.canvas.parentNode),this.ab.oncontextmenu=function(){return!1},this.ab.onselectstart=function(){return!1},this.ab.width=this.Lh,this.ab.height=this.Kh,jQuery(this.ab).css({width:this.Lh+"px",height:this.Kh+"px"}),this.$o(),this.Hl=this.ab.getContext("2d"));this.n=new jb(this.k,this.qd);this.n.Mf(this.canvas.width,this.canvas.height);this.n.rn=0!==this.Nr;this.ea=null;this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();
h.Ft();M("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){h.n.Mn();h.n.Mf(h.n.width,h.n.height,!0);h.Zb=null;h.Jb=null;h.uk[0]=null;h.uk[1]=null;h.Gt();h.ca=!0;M("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);e=0;for(a=this.m.length;e<a;e++)for(c=this.m[e],d=0,b=c.F.length;d<b;d++)k=c.F[d],k.cb=this.n.Ek(k.id),this.Uf=this.Uf||this.n.Zg(k.cb);e=0;for(a=this.Hc.length;e<a;e++){p=this.Hc[e];d=
0;for(b=p.F.length;d<b;d++)k=p.F[d],k.cb=this.n.Ek(k.id);d=0;for(b=p.J.length;d<b;d++)for(l=p.J[d],c=0,g=l.F.length;c<g;c++)k=l.F[c],k.cb=this.n.Ek(k.id),this.Uf=this.Uf||this.n.Zg(k.cb)}}else{if(0<this.tb&&this.$a){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ea=AppMobi.canvas.getContext("2d");try{this.ea.samplingMode=this.P?"smooth":"sharp",this.ea.globalScale=1,this.ea.HTML5CompatibilityMode=!0,this.ea.imageSmoothingEnabled=this.P}catch(s){}0!==
this.width&&0!==this.height&&(this.ea.width=this.width,this.ea.height=this.height)}this.ea||(e=this.Wb?{antialias:!!this.P,alpha:a}:{alpha:a},this.ea=this.canvas.getContext("2d",e),this.ea.webkitImageSmoothingEnabled=this.P,this.ea.mozImageSmoothingEnabled=this.P,this.ea.msImageSmoothingEnabled=this.P,this.ea.imageSmoothingEnabled=this.P);this.Hl=this.ab=null}this.zp=function(e){h.Pa(!1,e)};window==window.top||this.ga||this.bl||this.rf||(document.addEventListener("mousedown",function(){window.focus()},
!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Wb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(M("Reloading for continuous preview"),this.Ei="__c2_continuouspreview",this.kh=!0),this.Ot&&!this.qd&&(jQuery(window).focus(function(){h.setSuspended(!1)}),jQuery(window).blur(function(){h.setSuspended(!0)})));this.ga||(e=function(e){if(ib(e)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(h){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.tb&&this.qf&&1<this.devicePixelRatio&&this.setSize(this.La,this.Ka,!0);this.Ep();this.$s();this.go();this.X={}};m.prototype.setSize=
function(h,e,a){var d=0,b=0,c=0,g=0,g=0,k=this.tt&&this.Rn&&!navigator.standalone&&!this.ga&&!this.Xb;k&&(e+=60);if(this.Eg!==h||this.Dg!==e||a){this.Eg=h;this.Dg=e;var p=this.tb,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.yg)&&!this.Xb;if(l||0!==this.tb||a)l&&0<this.ye&&(p=this.ye),a=this.devicePixelRatio,4<=p?(c=this.La/this.Ka,h/e>c?(c*=e,5===p?(g=c*a/this.La,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),c=this.La*g/a,g=this.Ka*
g/a,d=(h-c)/2,b=(e-g)/2,h=c,e=g):(d=(h-c)/2,h=c)):(g=h/c,5===p?(g=g*a/this.Ka,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),c=this.La*g/a,g=this.Ka*g/a,d=(h-c)/2,b=(e-g)/2,h=c):b=(e-g)/2,e=g),l&&!this.Xd&&(b=d=0)):this.Xd&&this.yg&&0===this.xn&&(d=Math.floor((h-this.La)/2),b=Math.floor((e-this.Ka)/2),h=this.La,e=this.Ka),2>p&&(this.ag=a),this.qf&&this.Wn&&1<a&&(1024<=h&&(h=1023),1024<=e&&(e=1023)),this.Lh=Math.round(h),this.Kh=Math.round(e),this.width=Math.round(h*a),this.height=Math.round(e*a),this.ca=
!0,this.Qp?(this.L=this.width,this.K=this.height,this.jc=!0):this.width<this.La&&this.height<this.Ka||1===p?(this.L=this.width,this.K=this.height,this.jc=!0):(this.L=this.La,this.K=this.Ka,this.jc=!1,2===p?(c=this.La/this.Ka,p=this.Eg/this.Dg,p<c?this.L=this.K*p:p>c&&(this.K=this.L/p)):3===p&&(c=this.La/this.Ka,p=this.Eg/this.Dg,p>c?this.L=this.K*p:p<c&&(this.K=this.L/p))),this.en&&!this.ga&&(jQuery(this.en).css({width:Math.round(h)+"px",height:Math.round(e)+"px","margin-left":Math.floor(d)+"px",
"margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(h)+"px",height:Math.round(e)+"px"})),this.canvas&&(this.canvas.width=Math.round(h*a),this.canvas.height=Math.round(e*a),this.mc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(h)+"px",this.canvas.style.height=Math.round(e)+"px"):this.qf&&!this.ga&&jQuery(this.canvas).css({width:Math.round(h)+"px",height:Math.round(e)+
"px"})),this.ab&&(this.ab.width=Math.round(h),this.ab.height=Math.round(e),jQuery(this.ab).css({width:Math.round(h)+"px",height:Math.round(e)+"px"})),this.n&&this.n.Mf(Math.round(h*a),Math.round(e*a)),this.$a&&this.ea&&(this.ea.width=Math.round(h),this.ea.height=Math.round(e)),this.ea&&(this.ea.webkitImageSmoothingEnabled=this.P,this.ea.mozImageSmoothingEnabled=this.P,this.ea.msImageSmoothingEnabled=this.P,this.ea.imageSmoothingEnabled=this.P),this.Ep(),this.ga||!k&&!this.dl||window.setTimeout(function(){window.scrollTo(0,
1)},100)}};m.prototype.Ep=function(){if(this.kr&&0!==this.Fl){var h="portrait";2===this.Fl&&(h="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(h):screen.lockOrientation?screen.lockOrientation(h):screen.webkitLockOrientation?screen.webkitLockOrientation(h):screen.mozLockOrientation?screen.mozLockOrientation(h):screen.msLockOrientation&&screen.msLockOrientation(h)}};m.prototype.Ft=function(){this.n.rr();this.cl=!0;var h,e,a;h=0;for(e=this.m.length;h<e;h++)a=this.m[h],
a.Pi&&a.Pi()};m.prototype.Gt=function(){this.cl=!1;var h,e,a;h=0;for(e=this.m.length;h<e;h++)a=this.m[h],a.Ri&&a.Ri()};m.prototype.$o=function(){if(!this.ga){var h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.yg)&&!this.Xb?jQuery(this.canvas).offset():jQuery(this.canvas).position();h.position="absolute";jQuery(this.ab).css(h)}};var s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;m.prototype.setSuspended=function(h){var e;if(h&&!this.zg)for(M("[Construct 2] Suspending"),this.zg=!0,-1!==this.Ml&&s&&s(this.Ml),-1!==this.hm&&clearTimeout(this.hm),h=0,e=this.mh.length;h<e;h++)this.mh[h](!0);else if(!h&&this.zg){M("[Construct 2] Resuming");this.zg=!1;this.Bi=Wa();this.Ke=Wa();h=this.Pg=this.bi=0;for(e=this.mh.length;h<e;h++)this.mh[h](!1);this.Pa(!1)}};m.prototype.Pm=function(h){this.mh.push(h)};m.prototype.Ed=function(h){return this.Ni[h]};m.prototype.Gi=
function(h){h&&h.project||ea("Project model unavailable");h=h.project;this.name=h[0];this.wn=h[1];this.tb=h[12];this.xn=h[12];this.La=h[10];this.Ka=h[11];this.To=this.La/2;this.Uo=this.Ka/2;this.ga&&!this.mc&&(4<=h[12]||0===h[12])&&(M("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.xn=this.tb=3);this.qm=h[18];this.Jg=h[19];0===this.Jg&&(this.yf=new Image,this.yf.src="loading-logo.png");this.Sg=h[21];this.Ni=hc();this.ad=new X(this);
var e,a,d,b,c,g,k,p,l;e=0;for(a=h[2].length;e<a;e++)k=h[2][e],d=this.Ed(k[0]),kb(k,d.prototype),l=new d(this),l.kj=k[1],l.Yd=k[2],l.zo=k[9],l.S&&l.S(),this.plugins.push(l);this.Ni=hc();e=0;for(a=h[3].length;e<a;e++){k=h[3][e];c=this.Ed(k[1]);l=null;d=0;for(b=this.plugins.length;d<b;d++)if(this.plugins[d]instanceof c){l=this.plugins[d];break}var n=new l.ra(l);n.name=k[0];n.A=k[2];n.Vk=k[3].slice(0);n.Fu=k[3].length;n.lr=k[4];n.As=k[5];n.M=k[11];n.A?(n.Li=[],n.md=this.lg++,n.qa=null):(n.Li=null,n.md=
-1,n.qa=[]);n.Xh=null;n.jf=null;n.sn=null;n.Yb=!1;n.Fb=null;k[6]?(n.tj=k[6][0],n.gm=k[6][1],n.qh=k[6][2]):(n.tj=null,n.gm=0,n.qh=0);n.Eb=k[7]?k[7]:null;n.index=e;n.c=[];n.Ph=[];n.ie=[new lb(n)];n.kd=0;n.hc=null;n.Ar=0;n.Qf=!0;n.Bj=mb;n.Es=nb;n.Js=ob;n.fa=pb;n.$g=qb;n.Kl=rb;n.Hf=sb;n.di=tb;n.xk=vb;n.Bk=wb;n.Id=xb;n.Cn=yb;n.hn=new cb(this.La,this.Ka);n.Sm=!0;n.Tm=!1;n.X={};n.toString=zb;n.Da=[];d=0;for(b=k[8].length;d<b;d++){p=k[8][d];var s=this.Ed(p[1]),u=null;c=0;for(g=this.Da.length;c<g;c++)if(this.Da[c]instanceof
s){u=this.Da[c];break}u||(u=new s(this),u.Ao=[],u.Mi=new ba,u.S&&u.S(),this.Da.push(u));-1===u.Ao.indexOf(n)&&u.Ao.push(n);c=new u.ra(u,n);c.name=p[0];c.M=p[2];c.S();n.Da.push(c)}n.global=k[9];n.Zk=k[10];n.F=[];d=0;for(b=k[12].length;d<b;d++)n.F.push({id:k[12][d][0],name:k[12][d][1],cb:-1,Qa:!0,index:d});n.Wv=k[13];this.qm&&!n.A&&!n.Zk&&l.Yd||n.S();n.name&&(this.types[n.name]=n);this.m.push(n);l.kj&&(d=new l.ka(n),d.uid=this.Sg++,d.dp=this.Bo++,d.Ce=0,d.qg=Ab,d.toString=Bb,d.Y=k[14],d.S(),n.c.push(d),
this.td[d.uid.toString()]=d)}e=0;for(a=h[4].length;e<a;e++)for(c=h[4][e],g=this.m[c[0]],d=1,b=c.length;d<b;d++)k=this.m[c[d]],k.qa.push(g),g.Li.push(k);e=0;for(a=h[27].length;e<a;e++){c=h[27][e];g=[];d=0;for(b=c.length;d<b;d++)g.push(this.m[c[d]]);d=0;for(b=g.length;d<b;d++)g[d].Yb=!0,g[d].Fb=g}if(0<this.lg)for(e=0,a=this.m.length;e<a;e++)if(k=this.m[e],!k.A&&k.qa.length){k.Xh=Array(this.lg);k.jf=Array(this.lg);k.sn=Array(this.lg);n=[];d=u=s=p=0;for(b=k.qa.length;d<b;d++)for(l=k.qa[d],k.Xh[l.md]=
p,p+=l.Fu,k.jf[l.md]=s,s+=l.lr,k.sn[l.md]=u,u+=l.As,c=0,g=l.F.length;c<g;c++)n.push(wa({},l.F[c]));k.F=n.concat(k.F);d=0;for(b=k.F.length;d<b;d++)k.F[d].index=d}e=0;for(a=h[5].length;e<a;e++)k=h[5][e],d=new Cb(this,k),this.il[d.name]=d,this.Hc.push(d);e=0;for(a=h[6].length;e<a;e++)k=h[6][e],d=new Db(this,k),this.ok[d.name]=d,this.ld.push(d);e=0;for(a=this.ld.length;e<a;e++)this.ld[e].Ba();e=0;for(a=this.ld.length;e<a;e++)this.ld[e].mm();e=0;for(a=this.zj.length;e<a;e++)this.zj[e].Ba();this.zj.length=
0;this.jr=h[7];this.Zh=h[8];this.Yc=h[9];this.ag=1;this.Sr=h[13];this.P=h[14];this.Qj=h[15];this.Du=h[17];this.Fl=h[20];this.kr=0<this.Fl;this.Ot=h[22];this.jc=this.Qp=h[23];this.Nr=h[24];this.Ut=h[25];this.pj=Date.now();this.Ni.length=0;this.it()};var l=!1;m.prototype.vm=function(h,e){h.cocoonLazyLoad=!0;h.onerror=function(e){l=h.an=!0;console&&console.error&&console.error("Error loading image '"+h.src+"': ",e)};this.mc?h.src=e:h.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(e){h.src=
e},function(a){l=h.an=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",a)}):h.src=e);this.Xf.push(h)};m.prototype.xs=function(h){var e,a;e=0;for(a=this.Xf.length;e<a;e++)if(this.Xf[e].sr===h)return this.Xf[e];return null};var d=0,k=!1;m.prototype.$s=function(){this.df&&(d=this.df.nu(this.jr))};m.prototype.Um=function(){var h=d,e=0,a=0,b=!0,c,g,a=0;for(c=this.Xf.length;a<c;a++){g=this.Xf[a];var p=g.kn;if(!p||0>=p)p=5E4;h+=p;g.src&&(g.complete||g.loaded)&&
!g.an?e+=p:b=!1}b&&this.Ut&&this.df&&(k||(this.df.su(),k=!0),a=this.df.Ks(),e+=a,a<d&&(b=!1));this.Re=0==h?0:e/h;return b};m.prototype.go=function(){if(this.ea||this.n){var h=this.ea||this.Hl;this.ab&&this.$o();this.Re=0;this.ao=-1;if(this.Um())this.bt();else{var e=Date.now()-this.pj;if(h){var a=this.width,d=this.height,b=this.devicePixelRatio;this.ab&&(a=this.Lh,d=this.Kh,b=1);if(3!==this.Jg&&(this.Wb||500<=e&&this.ao!=this.Re)){h.clearRect(0,0,a,d);var e=a/2,d=d/2,a=0===this.Jg&&this.yf.complete,
c=40*b,g=0,k=80*b,p;a&&(k=this.yf.width*b,p=this.yf.height*b,c=k/2,g=p/2,h.drawImage(this.yf,U(e-c),U(d-g),k,p));1>=this.Jg?(e=U(e-c)+.5,d=U(d+(g+(a?12*b:0)))+.5,h.fillStyle=l?"red":"DodgerBlue",h.fillRect(e,d,Math.floor(k*this.Re),6*b),h.strokeStyle="black",h.strokeRect(e,d,k,6*b),h.strokeStyle="white",h.strokeRect(e-1*b,d-1*b,k+2*b,8*b)):2===this.Jg&&(h.font=this.mc?"12pt ArialMT":"12pt Arial",h.fillStyle=l?"#f00":"#999",h.Vv="middle",b=Math.round(100*this.Re)+"%",a=h.measureText?h.measureText(b):
null,h.fillText(b,e-(a?a.width:0)/2,d))}this.ao=this.Re}setTimeout(function(e){return function(){e.go()}}(this),this.Wb?10:100)}}};m.prototype.bt=function(){this.ab&&(this.canvas.parentNode.removeChild(this.ab),this.ab=this.Hl=null);this.pj=Date.now();this.Ke=Wa();var h,e,a;if(this.qm)for(h=0,e=this.m.length;h<e;h++)a=this.m[h],a.A||a.Zk||!a.ha.Yd||a.S();else this.vi=!1;h=0;for(e=this.Hc.length;h<e;h++)this.Hc[h].tr();2<=this.tb&&(h=this.La/this.Ka,e=this.width/this.height,this.ag=2!==this.tb&&e>
h||2===this.tb&&e<h?this.height/this.Ka:this.width/this.La);this.wn?this.il[this.wn].cm():this.Hc[0].cm();this.qm||(this.zf=1,this.trigger(X.prototype.d.Kj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();h=0;for(e=this.m.length;h<e;h++)a=this.m[h],a.Et&&a.Et();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Pa(!1);this.$a&&AppMobi.webview.execute("onGameReady();")};var n=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;m.prototype.Pa=function(h,e,a){if(this.ja){var d=Wa();if(a||!this.zg||h){h||(n?this.Ml=n(this.zp):this.hm=setTimeout(this.zp,this.qd?1:16));e=e||d;var b=this.tb;((a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Xb)||this.yg)&&0<this.ye&&(b=this.ye);0<b&&(!this.ti||window.self!==window.top)&&(b=window.innerHeight,
this.Eg===window.innerWidth&&this.Dg===b||this.setSize(f(),q()));this.ga||(a?(this.$h||(this.tk=jQuery(this.canvas).css("margin")||"0",this.$h=!0),this.wg||this.Xd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.$h?(this.wg||this.Xd||jQuery(this.canvas).css("margin",this.tk),this.tk="",this.$h=!1,0===this.tb&&this.setSize(Math.round(this.Ho/this.devicePixelRatio),
Math.round(this.Go/this.devicePixelRatio),!0)):(this.Ho=this.width,this.Go=this.height));this.vi&&(a=this.Um(),this.zf=this.Re,a&&(this.vi=!1,this.Re=1,this.trigger(X.prototype.d.Kj,null)));this.yt(e);!this.ca&&!this.Wb||this.cl||this.kh||h||(this.ca=!1,this.n?this.Gb():this.Dc(),this.mj&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.mj[0],this.mj[1]),this.trigger(X.prototype.d.lq,null)),this.mj=null));this.Qv||(this.sh++,this.Uh++,this.bi++);this.Pg+=Wa()-d}}};m.prototype.yt=function(a){var e,
d,b,c,g,k,p,n;1E3<=a-this.Ke&&(this.Ke+=1E3,1E3<=a-this.Ke&&(this.Ke=a),this.sk=this.bi,this.bi=0,this.fk=this.Pg,this.Pg=0);0!==this.Bi&&(e=a-this.Bi,0>e&&(e=0),this.Rd=e/1E3,.5<this.Rd?this.Rd=0:.1<this.Rd&&(this.Rd=.1));this.Bi=a;this.ve=this.Rd*this.We;this.yb.add(this.ve);this.dd.add(this.Rd);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.yg)&&!this.Xb;2<=this.tb||a&&0<this.ye?(e=this.La/this.Ka,d=this.width/this.height,b=this.tb,
a&&0<this.ye&&(b=this.ye),this.ag=2!==b&&d>e||2===b&&d<e?this.height/this.Ka:this.width/this.La,this.ja&&(this.ja.Xl(this.ja.scrollX),this.ja.Yl(this.ja.scrollY))):this.ag=this.qf?this.devicePixelRatio:1;this.fb();this.Fc++;this.ad.du();this.Fc--;this.fb();this.Fc++;d=this.Fo.Bd();a=0;for(e=d.length;a<e;a++)d[a].Sv();a=0;for(e=this.m.length;a<e;a++)if(k=this.m[a],!k.A&&(k.Da.length||k.qa.length))for(d=0,b=k.c.length;d<b;d++)for(p=k.c[d],c=0,g=p.G.length;c<g;c++)p.G[c].Pa();a=0;for(e=this.m.length;a<
e;a++)if(k=this.m[a],!k.A&&(k.Da.length||k.qa.length))for(d=0,b=k.c.length;d<b;d++)for(p=k.c[d],c=0,g=p.G.length;c<g;c++)n=p.G[c],n.Tt&&n.Tt();d=this.xl.Bd();a=0;for(e=d.length;a<e;a++)d[a].Pa();this.Fc--;this.ct();for(a=0;this.ck&&10>a++;)this.qn(this.ck);a=0;for(e=this.ld.length;a<e;a++)this.ld[a].Lk=!1;this.ja.we&&this.ja.we.Ma();this.$t.length=0;this.Fc++;a=0;for(e=this.m.length;a<e;a++)if(k=this.m[a],!k.A&&(k.Da.length||k.qa.length))for(d=0,b=k.c.length;d<b;d++)for(p=k.c[d],c=0,g=p.G.length;c<
g;c++)n=p.G[c],n.vj&&n.vj();d=this.yl.Bd();a=0;for(e=d.length;a<e;a++)d[a].vj();this.Fc--};m.prototype.qn=function(a){var e=this.ja;this.ja.tu();var d,b,c,g,k,p,n;if(this.n)for(d=0,b=this.m.length;d<b;d++)k=this.m[d],k.A||!k.Aj||k.global&&0!==k.c.length||-1!==a.vg.indexOf(k)||k.Aj();e==a&&(this.ad.Qb.length=0);a.cm();d=0;for(b=this.m.length;d<b;d++)if(k=this.m[d],k.global||k.ha.kj)for(a=0,e=k.c.length;a<e;a++)if(p=k.c[a],p.Al&&p.Al(),p.G)for(c=0,g=p.G.length;c<g;c++)n=p.G[c],n.Al&&n.Al();this.ca=
!0;this.fb()};m.prototype.rh=function(a){this.xl.add(a)};m.prototype.uu=function(a){this.yl.add(a)};m.prototype.zk=function(a){return a&&-1!==a.Rg?this.Rd*a.Rg:this.ve};m.prototype.Dc=function(){this.ja.Dc(this.ea);this.$a&&this.ea.present()};m.prototype.Gb=function(){this.ja.Gb(this.n);this.n.Wt()};m.prototype.dr=function(a){a&&this.lk.push(a)};m.prototype.fi=function(a){a=a.toString();return this.td.hasOwnProperty(a)?this.td[a]:null};var g=[];m.prototype.Dd=function(a){var e,d;e=a.type.name;var b=
null;if(this.te.hasOwnProperty(e)){if(b=this.te[e],b.contains(a))return}else b=g.length?g.pop():new ba,this.te[e]=b;b.add(a);this.Vd=!0;if(a.Yb)for(e=0,d=a.siblings.length;e<d;e++)this.Dd(a.siblings[e]);this.Yk&&b.Vf.push(a);this.Fc++;this.trigger(Object.getPrototypeOf(a.type.ha).d.mq,a);this.Fc--};m.prototype.fb=function(){if(this.Vd){var a,e,d,b,c,g;this.Yk=!0;d=0;for(c=this.Qc.length;d<c;++d)for(a=this.Qc[d],e=a.type,e.c.push(a),b=0,g=e.qa.length;b<g;++b)e.qa[b].c.push(a),e.qa[b].Qf=!0;this.Qc.length=
0;this.dq();Va(this.te);this.Vd=this.Yk=!1}};m.prototype.dq=function(){for(var a in this.te)this.te.hasOwnProperty(a)&&this.Up(this.te[a])};m.prototype.Up=function(a){var e=a.Bd(),d=e[0].type,b,c,k,p,n,l;Xa(d.c,a);d.Qf=!0;0===d.c.length&&(d.Tm=!1);b=0;for(c=d.qa.length;b<c;++b)l=d.qa[b],Xa(l.c,a),l.Qf=!0;b=0;for(c=this.ad.Qb.length;b<c;++b)if(n=this.ad.Qb[b],n.Ob.hasOwnProperty(d.index)&&Xa(n.Ob[d.index].Ee,a),!d.A)for(k=0,p=d.qa.length;k<p;++k)l=d.qa[k],n.Ob.hasOwnProperty(l.index)&&Xa(n.Ob[l.index].Ee,
a);if(n=e[0].i){if(n.Lc)for(k=n.c,b=0,c=k.length;b<c;++b)p=k[b],a.contains(p)&&(p.eb(),n.Mb.update(p,p.zb,null),p.zb.set(0,0,-1,-1));Xa(n.c,a);n.eh(0)}for(b=0;b<e.length;++b)this.Tp(e[b],d);a.clear();g.push(a);this.ca=!0};m.prototype.Tp=function(a,e){var d,b,c;d=0;for(b=this.lk.length;d<b;++d)this.lk[d](a);a.Od&&e.hn.update(a,a.Od,null);(d=a.i)&&d.Jf(a,!0);if(a.G)for(d=0,b=a.G.length;d<b;++d)c=a.G[d],c.Tg&&c.Tg(),c.behavior.Mi.remove(a);this.Fo.remove(a);this.xl.remove(a);this.yl.remove(a);a.Tg&&
a.Tg();this.td.hasOwnProperty(a.uid.toString())&&delete this.td[a.uid.toString()];this.Oi--;100>e.Ph.length&&e.Ph.push(a)};m.prototype.ln=function(a,e,d,b){if(a.A){var c=U(Math.random()*a.Li.length);return this.ln(a.Li[c],e,d,b)}return a.hc?this.Qd(a.hc,e,!1,d,b,!1):null};var p=[];m.prototype.Qd=function(a,e,d,b,c,g){var k,n,l,s;if(!a)return null;var u=this.m[a[1]],t=u.ha.Yd;if(this.vi&&t&&!u.Zk||t&&!this.n&&11===a[0][11])return null;var m=e;t||(e=null);var f;u.Ph.length?(f=u.Ph.pop(),f.vc=!0,u.ha.ka.call(f,
u)):(f=new u.ha.ka(u),f.vc=!1);f.uid=!d||g||this.td.hasOwnProperty(a[2].toString())?this.Sg++:a[2];this.td[f.uid.toString()]=f;f.dp=this.Bo++;f.Ce=u.c.length;k=0;for(n=this.Qc.length;k<n;++k)this.Qc[k].type===u&&f.Ce++;f.qg=Ab;f.toString=Bb;l=a[3];if(f.vc)Va(f.X);else{f.X={};if("undefined"!==typeof cr_is_preview)for(f.Pn=[],f.Pn.length=l.length,k=0,n=l.length;k<n;k++)f.Pn[k]=l[k][1];f.Ha=[];f.Ha.length=l.length}k=0;for(n=l.length;k<n;k++)f.Ha[k]=l[k][0];if(t){var q=a[0];f.x=ga(b)?q[0]:b;f.y=ga(c)?
q[1]:c;f.z=q[2];f.width=q[3];f.height=q[4];f.depth=q[5];f.j=q[6];f.opacity=q[7];f.wb=q[8];f.xb=q[9];f.nb=q[10];k=q[11];!this.n&&u.F.length&&(f.nb=k);f.fg=eb(f.nb);this.k&&fb(f,f.nb,this.k);if(f.vc){k=0;for(n=q[12].length;k<n;k++)for(l=0,s=q[12][k].length;l<s;l++)f.ua[k][l]=q[12][k][l];f.Xa.set(0,0,0,0);f.Od.set(0,0,-1,-1);f.zb.set(0,0,-1,-1);f.ef.fh(f.Xa);f.Uj.length=0}else{f.ua=q[12].slice(0);k=0;for(n=f.ua.length;k<n;k++)f.ua[k]=q[12][k].slice(0);f.U=[];f.Fd=[];f.Fd.length=u.F.length;f.Xa=new sa(0,
0,0,0);f.Od=new sa(0,0,-1,-1);f.zb=new sa(0,0,-1,-1);f.ef=new va;f.Uj=[];f.Na=Eb;f.fr=Fb;f.ec=Gb;f.eb=Hb;f.Cu=Ib;f.Bu=Jb;f.Tc=Kb}f.wu=!1;f.yu=0;f.xu=0;f.vu=null;14===q.length&&(f.wu=!0,f.yu=q[13][0],f.xu=q[13][1],f.vu=q[13][2]);k=0;for(n=u.F.length;k<n;k++)f.Fd[k]=!0;f.Ad=Lb;f.Ad();f.Mp=!!f.U.length;f.Ah=!0;f.Zj=!0;u.Sm=!0;f.visible=!0;f.Rg=-1;f.i=e;f.Mc=e.c.length;"undefined"===typeof f.Pc&&(f.Pc=null);this.ca=f.eg=!0}var r;k=p.length=0;for(n=u.qa.length;k<n;k++)p.push.apply(p,u.qa[k].Da);p.push.apply(p,
u.Da);if(f.vc)for(k=0,n=p.length;k<n;k++){var Q=p[k];r=f.G[k];r.vc=!0;Q.behavior.ka.call(r,Q,f);q=a[4][k];l=0;for(s=q.length;l<s;l++)r.Y[l]=q[l];r.S();Q.behavior.Mi.add(f)}else for(f.G=[],k=0,n=p.length;k<n;k++)Q=p[k],r=new Q.behavior.ka(Q,f),r.vc=!1,r.Y=a[4][k].slice(0),r.S(),f.G.push(r),Q.behavior.Mi.add(f);q=a[5];if(f.vc)for(k=0,n=q.length;k<n;k++)f.Y[k]=q[k];else f.Y=q.slice(0);this.Qc.push(f);this.Vd=!0;e&&(e.$f(f,!0),1!==e.rc||1!==e.tc)&&(u.Tm=!0);this.Oi++;if(u.Yb){if(f.Yb=!0,f.vc?f.siblings.length=
0:f.siblings=[],!d&&!g){k=0;for(n=u.Fb.length;k<n;k++)if(u.Fb[k]!==u){if(!u.Fb[k].hc)return null;f.siblings.push(this.Qd(u.Fb[k].hc,m,!1,t?f.x:b,t?f.y:c,!0))}k=0;for(n=f.siblings.length;k<n;k++)for(f.siblings[k].siblings.push(f),l=0;l<n;l++)k!==l&&f.siblings[k].siblings.push(f.siblings[l])}}else f.Yb=!1,f.siblings=null;f.S();k=0;for(n=f.G.length;k<n;k++)f.G[k].St&&f.G[k].St();return f};m.prototype.ng=function(a){var e,d;e=0;for(d=this.ja.J.length;e<d;e++){var b=this.ja.J[e];if(hb(b.name,a))return b}return null};
m.prototype.od=function(a){a=U(a);0>a&&(a=0);a>=this.ja.J.length&&(a=this.ja.J.length-1);return this.ja.J[a]};m.prototype.dk=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].fa().ma=!0};m.prototype.$g=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].$g()};m.prototype.Kl=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].Kl()};m.prototype.Hf=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].Hf()};m.prototype.nh=function(a,e,d){var b=a.fa(),k,c,g,n,p,l;if(b.ma)for(b.ma=!1,k=b.c.length=0,n=
a.c.length;k<n;k++)g=a.c[k],g.eb(),p=g.i.Ya(e,d,!0),l=g.i.Ya(e,d,!1),g.ec(p,l)&&b.c.push(g);else{k=c=0;for(n=b.c.length;k<n;k++)g=b.c[k],g.eb(),p=g.i.Ya(e,d,!0),l=g.i.Ya(e,d,!1),g.ec(p,l)&&(b.c[c]=b.c[k],c++);b.c.length=c}a.Id();return b.Kk()};new va;new sa(0,0,0,0);m.prototype.Fp=function(a,e){if(!e)return!1;var d,b,k,c,g;d=0;for(b=a.Da.length;d<b;d++)if(a.Da[d].behavior instanceof e)return!0;if(!a.A)for(d=0,b=a.qa.length;d<b;d++)for(g=a.qa[d],k=0,c=g.Da.length;k<c;k++)if(g.Da[k].behavior instanceof
e)return!0;return!1};m.prototype.Gp=function(a){return this.Fp(a,$b.iv)};m.prototype.lm=function(a){return this.Fp(a,$b.jv)};var u=-1;m.prototype.trigger=function(a,e,d){if(!this.ja)return!1;var b=this.ja.we;if(!b)return!1;var k=!1,c,g,n;u++;var p=b.kk;g=0;for(n=p.length;g<n;++g)c=this.Cp(a,e,p[g],d),k=k||c;c=this.Cp(a,e,b,d);u--;return k||c};m.prototype.Cp=function(a,e,d,b){var k=!1,c,g,n,p;if(e)for(n=this.jm(a,e,e.type.name,d,b),k=k||n,p=e.type.qa,c=0,g=p.length;c<g;++c)n=this.jm(a,e,p[c].name,
d,b),k=k||n;else n=this.jm(a,e,"system",d,b),k=k||n;return k};m.prototype.jm=function(a,e,d,b,k){var c,g=!1,n=!1,n="undefined"!==typeof k,p=(n?b.un:b.Dp)[d];if(!p)return g;var l=null;b=0;for(c=p.length;b<c;++b)if(p[b].method==a){l=p[b].kg;break}if(!l)return g;a=n?l[k]:l;if(!a)return null;b=0;for(c=a.length;b<c;b++)k=a[b][0],n=a[b][1],n=this.vs(e,d,k,n),g=g||n;return g};m.prototype.vs=function(a,e,d,b){var k,c,g=!1;this.km++;var n=this.Hb().Cc;n&&this.$g(n.he);var p=1<this.km;this.$g(d.he);p&&this.Yt();
var l=this.Ll(d);l.Cc=d;a&&(k=this.types[e].fa(),k.ma=!1,k.c.length=1,k.c[0]=a,this.types[e].Id());a=!0;if(d.parent){e=l.xp;for(k=d.parent;k;)e.push(k),k=k.parent;e.reverse();k=0;for(c=e.length;k<c;k++)if(!e[k].fu()){a=!1;break}}a&&(this.Uh++,d.Vc?d.eu(b):d.Ma(),g=g||l.Je);this.Zo();p&&this.Rt();this.Hf(d.he);n&&this.Hf(n.he);this.Vd&&0===this.Fc&&0===u&&!this.$k&&this.fb();this.km--;return g};m.prototype.zn=function(){var a=this.Hb();return a.Cc.gb[a.sb]};m.prototype.Yt=function(){this.Ji++;this.Ji>=
this.nl.length&&this.nl.push([])};m.prototype.Rt=function(){this.Ji--};m.prototype.An=function(){return this.nl[this.Ji]};m.prototype.Ll=function(a){this.Th++;this.Th>=this.nk.length&&this.nk.push(new Mb);var e=this.Hb();e.reset(a);return e};m.prototype.Zo=function(){this.Th--};m.prototype.Hb=function(){return this.nk[this.Th]};m.prototype.Bn=function(a,e){for(var d,b,k,c,g,n;e;){d=0;for(b=e.wc.length;d<b;d++)if(n=e.wc[d],n instanceof Nb&&hb(a,n.name))return n;e=e.parent}d=0;for(b=this.ld.length;d<
b;d++)for(g=this.ld[d],k=0,c=g.Td.length;k<c;k++)if(n=g.Td[k],n instanceof Nb&&hb(a,n.name))return n;return null};m.prototype.Dn=function(a){var e,d;e=0;for(d=this.Hc.length;e<d;e++)if(this.Hc[e].M===a)return this.Hc[e];return null};m.prototype.gi=function(a){var e,d;e=0;for(d=this.m.length;e<d;e++)if(this.m[e].M===a)return this.m[e];return null};m.prototype.Fs=function(a){var e,d;e=0;for(d=this.cf.length;e<d;e++)if(this.cf[e].M===a)return this.cf[e];return null};m.prototype.ct=function(){var d=this,
e=this.Wl,b=this.rd,k=this.Ei,g=!1;this.tp&&(g=!0,e="__c2_continuouspreview",this.tp=!1);if(e.length){this.fb();b=this.ju();if(window.indexedDB&&!this.Wb)t(e,b,function(){M("Saved state to IndexedDB storage ("+b.length+" bytes)");d.rd=b;d.trigger(X.prototype.d.Mj,null);d.rd="";g&&a()},function(k){try{localStorage.setItem("__c2save_"+e,b),M("Saved state to WebStorage ("+b.length+" bytes)"),d.rd=b,d.trigger(X.prototype.d.Mj,null),d.rd="",g&&a()}catch(c){M("Failed to save game state: "+k+"; "+c)}});
else try{localStorage.setItem("__c2save_"+e,b),M("Saved state to WebStorage ("+b.length+" bytes)"),d.rd=b,this.trigger(X.prototype.d.Mj,null),d.rd="",g&&a()}catch(n){M("Error saving to WebStorage: "+n)}this.kb=this.Ei=this.Wl=""}k.length&&(window.indexedDB&&!this.Wb?c(k,function(e){e?(d.kb=e,M("Loaded state from IndexedDB storage ("+d.kb.length+" bytes)")):(d.kb=localStorage.getItem("__c2save_"+k)||"",M("Loaded state from WebStorage ("+d.kb.length+" bytes)"));d.kh=!1;d.kb.length||d.trigger(X.prototype.d.Jj,
null)},function(){d.kb=localStorage.getItem("__c2save_"+k)||"";M("Loaded state from WebStorage ("+d.kb.length+" bytes)");d.kh=!1;d.kb.length||d.trigger(X.prototype.d.Jj,null)}):(this.kb=localStorage.getItem("__c2save_"+k)||"",M("Loaded state from WebStorage ("+this.kb.length+" bytes)"),this.kh=!1,d.kb.length||d.trigger(X.prototype.d.Jj,null)),this.Wl=this.Ei="");this.kb.length&&(this.fb(),this.xt(this.kb),this.rd=this.kb,this.trigger(X.prototype.d.yq,null),this.kb=this.rd="")};m.prototype.ju=function(){var a,
e,d,k,c,g,n,p={c2save:!0,version:1,rt:{time:this.yb.V,walltime:this.dd.V,timescale:this.We,tickcount:this.sh,execcount:this.Uh,next_uid:this.Sg,running_layout:this.ja.M,start_time_offset:Date.now()-this.pj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(e=this.m.length;a<e;a++)if(c=this.m[a],!c.A&&!this.Gp(c)){g={instances:[]};Ua(c.X)&&(g.ex=b(c.X));d=0;for(k=c.c.length;d<k;d++)g.instances.push(this.Vl(c.c[d]));p.types[c.M.toString()]=g}a=0;for(e=this.Hc.length;a<e;a++)d=
this.Hc[a],p.layouts[d.M.toString()]=d.mb();k=p.events.groups;a=0;for(e=this.cf.length;a<e;a++)d=this.cf[a],k[d.M.toString()]=this.ii[d.sg].rg;e=p.events.cnds;for(n in this.gf)this.gf.hasOwnProperty(n)&&(a=this.gf[n],Ua(a.X)&&(e[n]={ex:b(a.X)}));e=p.events.acts;for(n in this.bf)this.bf.hasOwnProperty(n)&&(a=this.bf[n],Ua(a.X)&&(e[n]={ex:a.X}));e=p.events.vars;for(n in this.Wf)this.Wf.hasOwnProperty(n)&&(a=this.Wf[n],a.qi||a.parent&&!a.Bg||(e[n]=a.data));p.system=this.ad.mb();return JSON.stringify(p)};
m.prototype.gp=function(){var a,e,d,b,k,c;this.td={};a=0;for(e=this.m.length;a<e;a++)if(d=this.m[a],!d.A)for(b=0,k=d.c.length;b<k;b++)c=d.c[b],this.td[c.uid.toString()]=c};m.prototype.xt=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var e=a.rt;this.yb.reset();this.yb.V=e.time;this.dd.reset();this.dd.V=e.walltime||0;this.We=e.timescale;this.sh=e.tickcount;this.Uh=e.execcount;this.pj=Date.now()-e.start_time_offset;var d=e.running_layout;if(d!==this.ja.M)if(d=this.Dn(d))this.qn(d);else return;
var b,k,c,g,n,p,l;p=a.types;for(k in p)if(p.hasOwnProperty(k)&&(g=this.gi(parseInt(k,10)))&&!g.A&&!this.Gp(g)){p[k].ex?g.X=p[k].ex:Va(g.X);n=g.c;c=p[k].instances;d=0;for(b=oa(n.length,c.length);d<b;d++)this.Fi(n[d],c[d]);d=c.length;for(b=n.length;d<b;d++)this.Dd(n[d]);d=n.length;for(b=c.length;d<b;d++){n=null;if(g.ha.Yd&&(n=this.ja.ei(c[d].w.l),!n))continue;n=this.Qd(g.hc,n,!1,0,0,!0);this.Fi(n,c[d])}g.Qf=!0}this.fb();this.gp();b=a.layouts;for(k in b)b.hasOwnProperty(k)&&(d=this.Dn(parseInt(k,10)))&&
d.Kb(b[k]);b=a.events.groups;for(k in b)b.hasOwnProperty(k)&&(d=this.Fs(parseInt(k,10)))&&this.ii[d.sg]&&this.ii[d.sg].lu(b[k]);d=a.events.cnds;for(k in d)d.hasOwnProperty(k)&&this.gf.hasOwnProperty(k)&&(this.gf[k].X=d[k].ex);d=a.events.acts;for(k in d)d.hasOwnProperty(k)&&this.bf.hasOwnProperty(k)&&(this.bf[k].X=d[k].ex);d=a.events.vars;for(k in d)d.hasOwnProperty(k)&&this.Wf.hasOwnProperty(k)&&(this.Wf[k].data=d[k]);this.Sg=e.next_uid;this.ad.Kb(a.system);d=0;for(b=this.m.length;d<b;d++)if(g=this.m[d],
!g.A)for(k=0,a=g.c.length;k<a;k++){n=g.c[k];if(g.Yb)for(p=n.qg(),e=n.siblings.length=0,c=g.Fb.length;e<c;e++)l=g.Fb[e],g!==l&&n.siblings.push(l.c[p]);n.Gd&&n.Gd();if(n.G)for(e=0,c=n.G.length;e<c;e++)p=n.G[e],p.Gd&&p.Gd()}this.ca=!0}};m.prototype.Vl=function(a,e){var d,k,c,g,n;g=a.type;c=g.ha;var p={};e?p.c2=!0:p.uid=a.uid;Ua(a.X)&&(p.ex=b(a.X));if(a.Ha&&a.Ha.length)for(p.ivs={},d=0,k=a.Ha.length;d<k;d++)p.ivs[a.type.Vk[d].toString()]=a.Ha[d];if(c.Yd){c={x:a.x,y:a.y,w:a.width,h:a.height,l:a.i.M,zi:a.Tc()};
0!==a.j&&(c.a=a.j);1!==a.opacity&&(c.o=a.opacity);.5!==a.wb&&(c.hX=a.wb);.5!==a.xb&&(c.hY=a.xb);0!==a.nb&&(c.bm=a.nb);a.visible||(c.v=a.visible);a.eg||(c.ce=a.eg);-1!==a.Rg&&(c.mts=a.Rg);if(g.F.length)for(c.fx=[],d=0,k=g.F.length;d<k;d++)n=g.F[d],c.fx.push({name:n.name,active:a.Fd[n.index],params:a.ua[n.index]});p.w=c}if(a.G&&a.G.length)for(p.behs={},d=0,k=a.G.length;d<k;d++)g=a.G[d],g.mb&&(p.behs[g.type.M.toString()]=g.mb());a.mb&&(p.data=a.mb());return p};m.prototype.Hs=function(a,e){var d,b;d=
0;for(b=a.Vk.length;d<b;d++)if(a.Vk[d]===e)return d;return-1};m.prototype.Ds=function(a,e){var d,b;d=0;for(b=a.G.length;d<b;d++)if(a.G[d].type.M===e)return d;return-1};m.prototype.Fi=function(a,e,d){var b,k,c,g,n;n=a.type;c=n.ha;if(d){if(!e.c2)return}else a.uid=e.uid;e.ex?a.X=e.ex:Va(a.X);if(k=e.ivs)for(b in k)k.hasOwnProperty(b)&&(d=this.Hs(n,parseInt(b,10)),0>d||d>=a.Ha.length||(a.Ha[d]=k[b]));if(c.Yd){c=e.w;a.i.M!==c.l&&(d=a.i,a.i=this.ja.ei(c.l),a.i?(d.Jf(a,!0),a.i.$f(a,!0),a.Na(),a.i.eh(0)):
(a.i=d,this.Dd(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.Mc=c.zi;a.j=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.wb=c.hasOwnProperty("hX")?c.hX:.5;a.xb=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.eg=c.hasOwnProperty("ce")?c.ce:!0;a.Rg=c.hasOwnProperty("mts")?c.mts:-1;a.nb=c.hasOwnProperty("bm")?c.bm:0;a.fg=eb(a.nb);this.k&&fb(a,a.nb,this.k);a.Na();if(c.hasOwnProperty("fx"))for(d=0,k=c.fx.length;d<k;d++)g=n.Bk(c.fx[d].name),0>g||(a.Fd[g]=c.fx[d].active,
a.ua[g]=c.fx[d].params);a.Ad()}if(n=e.behs)for(b in n)n.hasOwnProperty(b)&&(c=this.Ds(a,parseInt(b,10)),0>c||a.G[c].Kb(n[b]));e.data&&a.Kb(e.data)};Ob=function(a){return new m(document.getElementById(a))};Pb=function(a,e){return new m({dc:!0,width:a,height:e})};window.cr_createRuntime=Ob;window.cr_createDCRuntime=Pb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Uv=!0;document.body.appendChild(a);a=new m(a);
window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new m(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(f,q){if(0!==f&&0!==q){var m=window.cr_getC2Runtime();m&&m.setSize(f,q)}};window.cr_setSuspended=function(f){var q=window.cr_getC2Runtime();q&&q.setSuspended(f)};
(function(){function f(a,b){this.b=a;this.we=null;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/2;this.scale=1;this.j=0;this.kf=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Hp=b[3];this.qp=b[4];this.M=b[5];var c=b[6],g,p;this.J=[];this.vg=[];g=0;for(p=c.length;g<p;g++){var l=new Qb(this,c[g]);l.Do=g;this.J.push(l)}c=b[7];this.De=[];g=0;for(p=c.length;g<p;g++){var l=c[g],h=this.b.m[l[1]];h.hc||(h.hc=l);this.De.push(l);-1===this.vg.indexOf(h)&&this.vg.push(h)}this.F=[];this.U=[];this.ua=
[];g=0;for(p=b[8].length;g<p;g++)this.F.push({id:b[8][g][0],name:b[8][g][1],cb:-1,Qa:!0,index:g}),this.ua.push(b[8][g][2].slice(0));this.Ad();this.Nl=new sa(0,0,1,1);this.Ol=new sa(0,0,1,1);this.be={}}function q(a,b){return a.Mc-b.Mc}function m(a,b){this.Ja=a;this.b=a.b;this.c=[];this.scale=1;this.j=0;this.ue=!1;this.yd=new sa(0,0,0,0);this.Ap=new va;this.wa=this.pa=this.xa=this.na=0;this.Xe=!1;this.Cd=-1;this.name=b[0];this.index=b[1];this.M=b[2];this.visible=b[3];this.Jd=b[4];this.zd=b[5];this.rc=
b[6];this.tc=b[7];this.opacity=b[8];this.rk=b[9];this.Lc=b[10];this.Db=b[11];this.nb=b[12];this.Rr=b[13];this.fg="source-over";this.hb=this.ib=0;this.Mb=null;this.wf=r();this.ud=!0;this.Ai=new sa(0,0,-1,-1);this.gc=new sa(0,0,-1,-1);this.Lc&&(this.Mb=new db(this.b.La,this.b.Ka));this.ee=!1;var c=b[14],g,p;this.vp=[];this.Vb=[];this.gg=[];g=0;for(p=c.length;g<p;g++){var l=c[g],h=this.b.m[l[1]];h.hc||(h.hc=l,h.Ar=this.index);this.Vb.push(l);-1===this.Ja.vg.indexOf(h)&&this.Ja.vg.push(h)}ya(this.vp,
this.Vb);this.F=[];this.U=[];this.ua=[];g=0;for(p=b[15].length;g<p;g++)this.F.push({id:b[15][g][0],name:b[15][g][1],cb:-1,Qa:!0,index:g}),this.ua.push(b[15][g][2].slice(0));this.Ad();this.Nl=new sa(0,0,1,1);this.Ol=new sa(0,0,1,1)}function r(){return b.length?b.pop():[]}function t(a){a.length=0;b.push(a)}f.prototype.iu=function(a){var b=a.type.M.toString();this.be.hasOwnProperty(b)||(this.be[b]=[]);this.be[b].push(this.b.Vl(a))};f.prototype.Jn=function(){var a=this.J[0];return!a.zd&&1===a.opacity&&
!a.rk&&a.visible};f.prototype.Ad=function(){this.U.length=0;var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Qa&&this.U.push(c)};f.prototype.Ak=function(a){var b,c,g;b=0;for(c=this.F.length;b<c;b++)if(g=this.F[b],g.name===a)return g;return null};var c=[],a=!0;f.prototype.cm=function(){this.qp&&(this.we=this.b.ok[this.qp],this.we.mm());this.b.ja=this;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/2;var d,b,n,g,p,l,h;d=0;for(n=this.b.m.length;d<n;d++)if(b=this.b.m[d],!b.A)for(p=b.c,b=0,g=p.length;b<
g;b++)if(l=p[b],l.i){var e=l.i.Do;e>=this.J.length&&(e=this.J.length-1);l.i=this.J[e];-1===l.i.c.indexOf(l)&&l.i.c.push(l);l.i.Xe=!0}if(!a)for(d=0,n=this.J.length;d<n;++d)this.J[d].c.sort(q);c.length=0;this.mr();d=0;for(n=this.J.length;d<n;d++)l=this.J[d],l.ur(),l.om();p=!1;if(!this.kf){for(h in this.be)if(this.be.hasOwnProperty(h)&&(b=this.b.gi(parseInt(h,10)))&&!b.A&&this.b.lm(b)){g=this.be[h];d=0;for(n=g.length;d<n;d++){l=null;if(b.ha.Yd&&(l=this.ei(g[d].w.l),!l))continue;l=this.b.Qd(b.hc,l,!1,
0,0,!0);this.b.Fi(l,g[d]);p=!0;c.push(l)}g.length=0}d=0;for(n=this.J.length;d<n;d++)this.J[d].c.sort(q),this.J[d].Xe=!0}p&&(this.b.fb(),this.b.gp());for(d=0;d<c.length;d++)if(l=c[d],l.type.Yb)for(n=l.qg(),b=0,g=l.type.Fb.length;b<g;b++)h=l.type.Fb[b],l.type!==h&&(h.c.length>n?l.siblings.push(h.c[n]):h.hc&&(p=this.b.Qd(h.hc,l.i,!0,l.x,l.y,!0),this.b.fb(),h.Bj(),l.siblings.push(p),c.push(p)));d=0;for(n=this.De.length;d<n;d++)this.b.Qd(this.De[d],null,!0);this.b.ck=null;this.b.fb();if(this.b.ea&&!this.b.ga)for(d=
0,n=this.b.m.length;d<n;d++)h=this.b.m[d],!h.A&&h.c.length&&h.aj&&h.aj(this.b.ea);d=0;for(n=c.length;d<n;d++)l=c[d],this.b.trigger(Object.getPrototypeOf(l.type.ha).d.Hj,l);c.length=0;this.b.trigger(X.prototype.d.xq,null);this.kf=!1};f.prototype.tr=function(){var a,b,c,g,p;b=a=0;for(c=this.De.length;a<c;a++)g=this.De[a],p=this.b.m[g[1]],p.global?this.b.Qd(g,null,!0):(this.De[b]=g,b++);this.De.length=b};f.prototype.tu=function(){this.b.trigger(X.prototype.d.wq,null);this.b.ad.Qb.length=0;var d,b,c,
g,p,l;if(!this.kf)for(d=0,b=this.J.length;d<b;d++)for(this.J[d].pm(),p=this.J[d].c,c=0,g=p.length;c<g;c++)l=p[c],l.type.global||this.b.lm(l.type)&&this.iu(l);d=0;for(b=this.J.length;d<b;d++){p=this.J[d].c;c=0;for(g=p.length;c<g;c++)l=p[c],l.type.global||this.b.Dd(l);this.b.fb();p.length=0;this.J[d].Xe=!0}d=0;for(b=this.b.m.length;d<b;d++)if(p=this.b.m[d],!(p.global||p.ha.Yd||p.ha.kj||p.A)){c=0;for(g=p.c.length;c<g;c++)this.b.Dd(p.c[c]);this.b.fb()}a=!1};new sa(0,0,0,0);f.prototype.Dc=function(a){var b,
c=a,g=!1,p=!this.b.jc;p&&(this.b.Di||(this.b.Di=document.createElement("canvas"),b=this.b.Di,b.width=this.b.L,b.height=this.b.K,this.b.co=b.getContext("2d"),g=!0),b=this.b.Di,c=this.b.co,b.width!==this.b.L&&(b.width=this.b.L,g=!0),b.height!==this.b.K&&(b.height=this.b.K,g=!0),g&&(c.webkitImageSmoothingEnabled=this.b.P,c.mozImageSmoothingEnabled=this.b.P,c.msImageSmoothingEnabled=this.b.P,c.imageSmoothingEnabled=this.b.P));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Qj&&!this.Jn()&&
c.clearRect(0,0,this.b.L,this.b.K);var l,h,g=0;for(l=this.J.length;g<l;g++)h=this.J[g],h.visible&&0<h.opacity&&11!==h.nb&&(h.c.length||!h.zd)?h.Dc(c):h.om();p&&a.drawImage(b,0,0,this.b.width,this.b.height)};f.prototype.Gb=function(a){var b=0<this.U.length||this.b.Uf||!this.b.jc;if(b){this.b.Jb||(this.b.Jb=a.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Jb.dg!==this.b.L||this.b.Jb.bg!==this.b.K)a.deleteTexture(this.b.Jb),this.b.Jb=a.Pd(this.b.L,this.b.K,this.b.P);a.Zc(this.b.Jb);this.b.jc||a.Mf(this.b.L,
this.b.K)}else this.b.Jb&&(a.Zc(null),a.deleteTexture(this.b.Jb),this.b.Jb=null);this.b.Qj&&!this.Jn()&&a.clear(0,0,0,0);var c,g,p;c=0;for(g=this.J.length;c<g;c++)p=this.J[c],p.visible&&0<p.opacity&&(p.c.length||!p.zd)?p.Gb(a):p.om();b&&(0===this.U.length||1===this.U.length&&this.b.jc?(1===this.U.length?(b=this.U[0].index,a.$c(this.U[0].cb),a.Lf(null,1/this.b.L,1/this.b.K,0,0,1,1,this.scale,this.j,0,0,this.b.L/2,this.b.K/2,this.ua[b]),a.bj(this.U[0].cb)&&(this.b.ca=!0)):a.$c(0),this.b.jc||a.Mf(this.b.width,
this.b.height),a.Zc(null),a.Se(1),a.Nb(this.b.Jb),a.lp(),a.fe(),a.me(),b=this.b.width/2,c=this.b.height/2,a.ah(-b,c,b,c,b,-c,-b,-c),a.Nb(null)):this.Pl(a,null,null,null))};f.prototype.pg=function(){return 0<this.U.length||this.b.Uf||!this.b.jc?this.b.Jb:null};f.prototype.En=function(){var a=this.J[0].kc(),b,c,g;b=1;for(c=this.J.length;b<c;b++)g=this.J[b],(0!==g.rc||0!==g.tc)&&g.kc()<a&&(a=g.kc());return a};f.prototype.Xl=function(a){if(!this.Hp){var b=1/this.En()*this.b.L/2;a>this.width-b&&(a=this.width-
b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ca=!0)};f.prototype.Yl=function(a){if(!this.Hp){var b=1/this.En()*this.b.K/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ca=!0)};f.prototype.mr=function(){this.Xl(this.scrollX);this.Yl(this.scrollY)};f.prototype.Pl=function(a,b,c,g){var p=c?c.U:b?b.U:this.U,l=1,h=0,e=0,f=0,C=this.b.L,s=this.b.K;c?(l=c.i.kc(),h=c.i.Ra(),e=c.i.na,f=c.i.pa,C=c.i.xa,s=c.i.wa):b&&(l=b.kc(),h=b.Ra(),e=b.na,f=b.pa,C=b.xa,s=
b.wa);var w=this.b.uk,t,m,q,r,B=0,ca=1,K,J=this.b.L,D=this.b.K,A=J/2,Q=D/2,E=b?b.Nl:this.Nl,x=b?b.Ol:this.Ol,z=0,O=0,G=0,I=0,H=J,fa=J,L=D,la=D,ha=q=0,ta=c?c.i.Ra():0;if(c){t=0;for(m=p.length;t<m;t++)q+=a.Ls(p[t].cb),ha+=a.Ms(p[t].cb);r=c.Xa;z=b.oc(r.left,r.top,!0);G=b.oc(r.left,r.top,!1);H=b.oc(r.right,r.bottom,!0);L=b.oc(r.right,r.bottom,!1);0!==ta&&(t=b.oc(r.right,r.top,!0),m=b.oc(r.right,r.top,!1),O=b.oc(r.left,r.bottom,!0),I=b.oc(r.left,r.bottom,!1),r=Math.min(z,H,t,O),H=Math.max(z,H,t,O),z=r,
r=Math.min(G,L,m,I),L=Math.max(G,L,m,I),G=r);z-=q;G-=ha;H+=q;L+=ha;x.left=z/J;x.top=1-G/D;x.right=H/J;x.bottom=1-L/D;O=z=U(z);I=G=U(G);fa=H=qa(H);la=L=qa(L);O-=q;I-=ha;fa+=q;la+=ha;0>z&&(z=0);0>G&&(G=0);H>J&&(H=J);L>D&&(L=D);0>O&&(O=0);0>I&&(I=0);fa>J&&(fa=J);la>D&&(la=D);E.left=z/J;E.top=1-G/D;E.right=H/J;E.bottom=1-L/D}else E.left=x.left=0,E.top=x.top=0,E.right=x.right=1,E.bottom=x.bottom=1;ha=c&&((c.j||ta)&&a.Zg(p[0].cb)||0!==q||0!==ha||1!==c.opacity||c.type.ha.zo)||b&&!c&&1!==b.opacity;a.lp();
if(ha){w[B]||(w[B]=a.Pd(J,D,this.b.P));if(w[B].dg!==J||w[B].bg!==D)a.deleteTexture(w[B]),w[B]=a.Pd(J,D,this.b.P);a.$c(0);a.Zc(w[B]);K=la-I;a.clearRect(O,D-I-K,fa-O,K);c?c.Gb(a):(a.Nb(this.b.Zb),a.Se(b.opacity),a.fe(),a.translate(-A,-Q),a.me(),a.de(z,L,H,L,H,G,z,G,E));x.left=x.top=0;x.right=x.bottom=1;c&&(r=E.top,E.top=E.bottom,E.bottom=r);B=1;ca=0}a.Se(1);q=p.length-1;var ta=a.Jl(p[q].cb)||!b&&!c&&!this.b.jc,ua=0;t=0;for(m=p.length;t<m;t++){w[B]||(w[B]=a.Pd(J,D,this.b.P));if(w[B].dg!==J||w[B].bg!==
D)a.deleteTexture(w[B]),w[B]=a.Pd(J,D,this.b.P);a.$c(p[t].cb);ua=p[t].index;a.bj(p[t].cb)&&(this.b.ca=!0);0!=t||ha?(a.Lf(g,1/J,1/D,x.left,x.top,x.right,x.bottom,l,h,e,f,(e+C)/2,(f+s)/2,c?c.ua[ua]:b?b.ua[ua]:this.ua[ua]),a.Nb(null),t!==q||ta?(a.Zc(w[B]),K=la-I,r=D-I-K,a.clearRect(O,r,fa-O,K)):(c?a.ge(c.ib,c.hb):b&&a.ge(b.ib,b.hb),a.Zc(g)),a.Nb(w[ca]),a.fe(),a.translate(-A,-Q),a.me(),a.de(z,L,H,L,H,G,z,G,E),t!==q||ta||a.Nb(null)):(a.Zc(w[B]),K=la-I,r=D-I-K,a.clearRect(O,r,fa-O,K),c?(a.Lf(g,1/c.width,
1/c.height,x.left,x.top,x.right,x.bottom,l,h,e,f,(e+C)/2,(f+s)/2,c.ua[ua]),c.Gb(a)):(a.Lf(g,1/J,1/D,0,0,1,1,l,h,e,f,(e+C)/2,(f+s)/2,b?b.ua[ua]:this.ua[ua]),a.Nb(b?this.b.Zb:this.b.Jb),a.fe(),a.translate(-A,-Q),a.me(),a.de(z,L,H,L,H,G,z,G,E)),x.left=x.top=0,x.right=x.bottom=1,c&&!ta&&(r=L,L=G,G=r));B=0===B?1:0;ca=0===B?1:0}ta&&(a.$c(0),c?a.ge(c.ib,c.hb):b?a.ge(b.ib,b.hb):this.b.jc||(a.Mf(this.b.width,this.b.height),A=this.b.width/2,Q=this.b.height/2,G=z=0,H=this.b.width,L=this.b.height),a.Zc(g),a.Nb(w[ca]),
a.fe(),a.translate(-A,-Q),a.me(),c&&1===p.length&&!ha?a.de(z,G,H,G,H,L,z,L,E):a.de(z,L,H,L,H,G,z,G,E),a.Nb(null))};f.prototype.ei=function(a){var b,c;b=0;for(c=this.J.length;b<c;b++)if(this.J[b].M===a)return this.J[b];return null};f.prototype.mb=function(){var a,b,c,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.kf,persist:this.be,fx:[],layers:{}};a=0;for(b=this.F.length;a<b;a++)c=this.F[a],g.fx.push({name:c.name,active:c.Qa,params:this.ua[c.index]});a=
0;for(b=this.J.length;a<b;a++)c=this.J[a],g.layers[c.M.toString()]=c.mb();return g};f.prototype.Kb=function(a){var b,c,g,p;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.be=a.persist;"undefined"!==typeof a.fv&&(this.kf=a.fv);var l=a.fx;b=0;for(c=l.length;b<c;b++)if(g=this.Ak(l[b].name))g.Qa=l[b].active,this.ua[g.index]=l[b].params;this.Ad();b=a.layers;for(p in b)b.hasOwnProperty(p)&&(a=this.ei(parseInt(p,10)))&&a.Kb(b[p])};Cb=f;m.prototype.Ad=function(){this.U.length=
0;var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Qa&&this.U.push(c)};m.prototype.Ak=function(a){var b,c,g;b=0;for(c=this.F.length;b<c;b++)if(g=this.F[b],g.name===a)return g;return null};m.prototype.ur=function(){var a,b,l,g,p,f;b=a=0;for(l=this.Vb.length;a<l;a++){g=this.Vb[a];p=this.b.m[g[1]];f=this.b.lm(p);p=!0;if(!f||this.Ja.kf)g=this.b.Qd(g,this,!0),c.push(g),g.type.global&&(p=!1,this.gg.push(g.uid));p&&(this.Vb[b]=this.Vb[a],b++)}this.Vb.length=b;this.b.fb();!this.b.n&&this.F.length&&
(this.nb=this.Rr);this.fg=eb(this.nb);this.b.k&&fb(this,this.nb,this.b.k);this.ud=!0};m.prototype.Jf=function(a,b){var c=Aa(this.c,a);0>c||(b&&this.Lc&&a.zb&&a.zb.right>=a.zb.left&&(a.eb(),this.Mb.update(a,a.zb,null),a.zb.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(xa(this.c,c),this.eh(c)),this.ud=!0)};m.prototype.$f=function(a,b){a.Mc=this.c.length;this.c.push(a);b&&this.Lc&&a.zb&&a.Na();this.ud=!0};m.prototype.Vt=function(a){this.c.unshift(a);this.eh(0)};m.prototype.Dt=function(a,b,c){var g=
a.Tc();b=b.Tc();xa(this.c,g);g<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.eh(g<b?g:b)};m.prototype.eh=function(a){-1===this.Cd?this.Cd=a:a<this.Cd&&(this.Cd=a);this.ud=this.Xe=!0};m.prototype.pm=function(){if(this.Xe){-1===this.Cd&&(this.Cd=0);var a,b,c;if(this.Lc)for(a=this.Cd,b=this.c.length;a<b;++a)c=this.c[a],c.Mc=a,this.Mb.zt(c.zb);else for(a=this.Cd,b=this.c.length;a<b;++a)this.c[a].Mc=a;this.Xe=!1;this.Cd=-1}};m.prototype.kc=function(a){return this.Is()*(this.b.jc||
a?this.b.ag:1)};m.prototype.Is=function(){return(this.scale*this.Ja.scale-1)*this.Db+1};m.prototype.Ra=function(){return this.ue?0:Fa(this.Ja.j+this.j)};var b=[],s=[],l=[];m.prototype.Fn=function(){this.pm();this.Mb.ep(this.na,this.pa,this.xa,this.wa,l);if(!l.length)return r();if(1===l.length){var a=r();ya(a,l[0]);l.length=0;return a}for(var b=!0;1<l.length;){for(var a=l,c=void 0,g=void 0,p=void 0,f=void 0,h=void 0,c=0,g=a.length;c<g-1;c+=2){var p=a[c],f=a[c+1],h=r(),e=p,v=f,C=h,m=0,w=0,q=0,F=e.length,
y=v.length,Z=void 0,B=void 0;for(C.length=F+y;m<F&&w<y;++q)Z=e[m],B=v[w],Z.Mc<B.Mc?(C[q]=Z,++m):(C[q]=B,++w);for(;m<F;++m,++q)C[q]=e[m];for(;w<y;++w,++q)C[q]=v[w];b||(t(p),t(f));s.push(h)}1===g%2&&(b?(p=r(),ya(p,a[g-1]),s.push(p)):s.push(a[g-1]));ya(a,s);s.length=0;b=!1}a=l[0];l.length=0;return a};m.prototype.Dc=function(a){this.ee=this.rk||1!==this.opacity||0!==this.nb;var b=this.b.canvas,c=a,g=!1;this.ee&&(this.b.Ci||(this.b.Ci=document.createElement("canvas"),b=this.b.Ci,b.width=this.b.L,b.height=
this.b.K,this.b.bo=b.getContext("2d"),g=!0),b=this.b.Ci,c=this.b.bo,b.width!==this.b.L&&(b.width=this.b.L,g=!0),b.height!==this.b.K&&(b.height=this.b.K,g=!0),g&&(c.webkitImageSmoothingEnabled=this.b.P,c.mozImageSmoothingEnabled=this.b.P,c.msImageSmoothingEnabled=this.b.P,c.imageSmoothingEnabled=this.b.P),this.zd&&c.clearRect(0,0,this.b.L,this.b.K));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.zd||(c.fillStyle="rgb("+this.Jd[0]+","+this.Jd[1]+","+this.Jd[2]+")",c.fillRect(0,0,this.b.L,
this.b.K));c.save();this.ue=!0;var g=this.Ya(0,0,!0,!0),l=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(g=Math.round(g),l=Math.round(l));this.Rl(g,l,c);var f=this.kc();c.scale(f,f);c.translate(-g,-l);this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.xa),this.gc.bottom=this.Mb.Sb(this.wa),this.ud||!this.gc.Sh(this.Ai)?(t(this.wf),g=this.Fn(),this.ud=!1,this.Ai.Jh(this.gc)):g=this.wf):g=this.c;for(var h,e=null,l=0,f=g.length;l<f;++l)h=g[l],h!==e&&(this.Or(h,
c),e=h);this.Lc&&(this.wf=g);c.restore();this.ee&&(a.globalCompositeOperation=this.fg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.Or=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var c=a.Xa;c.right<this.na||c.bottom<this.pa||c.left>this.xa||c.top>this.wa||(b.globalCompositeOperation=a.fg,a.Dc(b))}};m.prototype.om=function(){this.ue=!0;var a=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(a=Math.round(a),b=Math.round(b));this.Rl(a,b,null)};m.prototype.Rl=
function(a,b,c){var g=this.kc();this.na=a;this.pa=b;this.xa=a+1/g*this.b.L;this.wa=b+1/g*this.b.K;a=this.Ra();0!==a&&(c&&(c.translate(this.b.L/2,this.b.K/2),c.rotate(-a),c.translate(this.b.L/-2,this.b.K/-2)),this.yd.set(this.na,this.pa,this.xa,this.wa),this.yd.offset((this.na+this.xa)/-2,(this.pa+this.wa)/-2),this.Ap.op(this.yd,a),this.Ap.$m(this.yd),this.yd.offset((this.na+this.xa)/2,(this.pa+this.wa)/2),this.na=this.yd.left,this.pa=this.yd.top,this.xa=this.yd.right,this.wa=this.yd.bottom)};m.prototype.Gb=
function(a){var b=0,c=0;if(this.ee=this.rk||1!==this.opacity||0<this.U.length||0!==this.nb){this.b.Zb||(this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Zb.dg!==this.b.L||this.b.Zb.bg!==this.b.K)a.deleteTexture(this.b.Zb),this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P);a.Zc(this.b.Zb);this.zd&&a.clear(0,0,0,0)}this.zd||a.clear(this.Jd[0]/255,this.Jd[1]/255,this.Jd[2]/255,1);this.ue=!0;var g=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(g=Math.round(g),b=Math.round(b));this.Rl(g,b,
null);g=this.kc();a.fe();a.scale(g,g);a.ip(-this.Ra());a.translate((this.na+this.xa)/-2,(this.pa+this.wa)/-2);a.me();this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.xa),this.gc.bottom=this.Mb.Sb(this.wa),this.ud||!this.gc.Sh(this.Ai)?(t(this.wf),b=this.Fn(),this.ud=!1,this.Ai.Jh(this.gc)):b=this.wf):b=this.c;var l,f,h=null,c=0;for(l=b.length;c<l;++c)f=b[c],f!==h&&(this.Pr(b[c],a),h=f);this.Lc&&(this.wf=b);this.ee&&(b=this.U.length?this.U[0].cb:
0,c=this.U.length?this.U[0].index:0,0===this.U.length||1===this.U.length&&!a.Jl(b)&&1===this.opacity?(1===this.U.length?(a.$c(b),a.Lf(this.Ja.pg(),1/this.b.L,1/this.b.K,0,0,1,1,g,this.Ra(),this.na,this.pa,(this.na+this.xa)/2,(this.pa+this.wa)/2,this.ua[c]),a.bj(b)&&(this.b.ca=!0)):a.$c(0),a.Zc(this.Ja.pg()),a.Se(this.opacity),a.Nb(this.b.Zb),a.ge(this.ib,this.hb),a.fe(),a.me(),g=this.b.L/2,b=this.b.K/2,a.ah(-g,b,g,b,g,-b,-g,-b),a.Nb(null)):this.Ja.Pl(a,this,null,this.Ja.pg()))};m.prototype.Pr=function(a,
b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var c=a.Xa;c.right<this.na||c.bottom<this.pa||c.left>this.xa||c.top>this.wa||(a.Mp?this.Qr(a,b):(b.$c(0),b.ge(a.ib,a.hb),a.Gb(b)))}};m.prototype.Qr=function(a,b){var c=a.U[0].cb,g=a.U[0].index,l=this.kc();if(1!==a.U.length||b.Jl(c)||b.Xt(c)||(a.j||a.i.Ra())&&b.Zg(c)||1!==a.opacity||a.type.ha.zo)this.Ja.Pl(b,this,a,this.ee?this.b.Zb:this.Ja.pg()),b.fe(),b.scale(l,l),b.ip(-this.Ra()),b.translate((this.na+this.xa)/-2,(this.pa+this.wa)/-2),b.me();else{b.$c(c);
b.ge(a.ib,a.hb);b.bj(c)&&(this.b.ca=!0);var f=0,h=0,e=0,v=0;b.Zg(c)&&(c=a.Xa,f=this.oc(c.left,c.top,!0),h=this.oc(c.left,c.top,!1),e=this.oc(c.right,c.bottom,!0),c=this.oc(c.right,c.bottom,!1),f/=windowWidth,h=1-h/windowHeight,e/=windowWidth,v=1-c/windowHeight);b.Lf(this.ee?this.b.Zb:this.Ja.pg(),1/a.width,1/a.height,f,h,e,v,l,this.Ra(),this.na,this.pa,(this.na+this.xa)/2,(this.pa+this.wa)/2,a.ua[g]);a.Gb(b)}};m.prototype.Ya=function(a,b,c,g){var l=this.b.devicePixelRatio;this.b.qf&&(a*=l,b*=l);var l=
this.b.To,f=this.b.Uo,l=(this.Ja.scrollX-l)*this.rc+l,f=(this.Ja.scrollY-f)*this.tc+f,h=l,e=f,v=1/this.kc(!g);g?(h-=this.b.L*v/2,e-=this.b.K*v/2):(h-=this.b.width*v/2,e-=this.b.height*v/2);h+=a*v;e+=b*v;b=this.Ra();0!==b&&(h-=l,e-=f,a=Math.cos(b),b=Math.sin(b),g=h*a-e*b,e=e*a+h*b,h=g+l,e+=f);return c?h:e};m.prototype.oc=function(a,b,c){var g=this.b.To,l=this.b.Uo,g=(this.Ja.scrollX-g)*this.rc+g,f=(this.Ja.scrollY-l)*this.tc+l,l=g,h=f,e=this.Ra();if(0!==e){a-=g;b-=f;var v=Math.cos(-e),e=Math.sin(-e),
C=a*v-b*e;b=b*v+a*e;a=C+g;b+=f}g=1/this.kc(!1);l-=this.b.L*g/2;h-=this.b.K*g/2;l=(a-l)/g;return c?l:(b-h)/g};m.prototype.mb=function(){var a,b,c,g={s:this.scale,a:this.j,vl:this.na,vt:this.pa,vr:this.xa,vb:this.wa,v:this.visible,bc:this.Jd,t:this.zd,px:this.rc,py:this.tc,o:this.opacity,zr:this.Db,fx:[],cg:this.gg,instances:[]};a=0;for(b=this.F.length;a<b;a++)c=this.F[a],g.fx.push({name:c.name,active:c.Qa,params:this.ua[c.index]});return g};m.prototype.Kb=function(a){var b,c,g;this.scale=a.s;this.j=
a.a;this.na=a.vl;this.pa=a.vt;this.xa=a.vr;this.wa=a.vb;this.visible=a.v;this.Jd=a.bc;this.zd=a.t;this.rc=a.px;this.tc=a.py;this.opacity=a.o;this.Db=a.zr;this.gg=a.cg||[];ya(this.Vb,this.vp);var l=new ba;b=0;for(g=this.gg.length;b<g;++b)l.add(this.gg[b]);c=b=0;for(g=this.Vb.length;b<g;++b)l.contains(this.Vb[b][2])||(this.Vb[c]=this.Vb[b],++c);this.Vb.length=c;c=a.fx;b=0;for(g=c.length;b<g;b++)if(a=this.Ak(c[b].name))a.Qa=c[b].active,this.ua[a.index]=c[b].params;this.Ad();this.c.sort(q);this.Xe=!0};
Qb=m})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function q(a,b){return a.index-b.index}function m(a){var b,c,d,g;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(q);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);g=p[a.length];b=0;for(c=g.length;b<c;b++)if(d=g[b],f(a,d))return d;g.push(a);return a}
function r(a,b){this.b=a;this.Dp={};this.un={};this.Lk=!1;this.Ln=new ba;this.kk=[];this.Rj=[];this.name=b[0];var c=b[1];this.Td=[];var d,g;d=0;for(g=c.length;d<g;d++)this.Nn(c[d],null,this.Td)}function t(a){this.type=a;this.c=[];this.O=[];this.ma=!0}function c(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.he=[];this.Kn=this.wj=this.im=this.Qk=this.group=this.up=!1;this.gb=[];this.yc=[];this.wc=[];this.sg="";this.rg=this.Qk=this.group=!1;this.Hh=null;c[1]&&(this.sg=c[1][1].toLowerCase(),
this.group=!0,this.Qk=!!c[1][0],this.Hh=[],this.rg=this.Qk,this.b.cf.push(this),this.b.ii[this.sg]=this);this.Vc=c[2];this.M=c[4];this.group||(this.b.Zm[this.M.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var g=new Rb(this,d[a]);g.index=a;this.gb.push(g);this.Om(g.type)}d=c[6];a=0;for(b=d.length;a<b;a++)g=new Sb(this,d[a]),g.index=a,this.yc.push(g);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Nn(c[a],this,this.wc);this.ri=!1;this.gb.length&&(this.ri=null==this.gb[0].type&&
this.gb[0].Za==X.prototype.d.zm)}function a(a,b){var c,d,g;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Yb))for(c=0,d=a.Fb.length;c<d;c++)g=a.Fb[c],a!==g&&-1===b.indexOf(g)&&b.push(g)}function b(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.va=[];this.X={};this.index=-1;this.Yf=!1;this.Za=this.b.Ed(b[1]);this.trigger=0<b[3];this.tn=2===b[3];this.Uc=b[4];this.Wk=b[5];this.ut=b[6];this.M=b[7];this.b.gf[this.M.toString()]=this;-1===b[0]?(this.type=null,this.Ma=this.Ul,this.qe=null,this.Ac=-1):
(this.type=this.b.m[b[0]],this.Ma=this.ut?this.gu:this.Tl,b[2]?(this.qe=this.type.di(b[2]),this.Ac=this.type.xk(b[2])):(this.qe=null,this.Ac=-1),this.Tb.parent&&this.Tb.parent.hj());this.tn&&(this.Ma=this.hu);if(10===b.length){var c,d,g=b[9];c=0;for(d=g.length;c<d;c++){var h=new Tb(this,g[c]);this.I.push(h)}this.va.length=g.length}}function s(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.va=[];this.X={};this.index=-1;this.Yf=!1;this.Za=this.b.Ed(b[1]);-1===b[0]?(this.type=null,this.Ma=
this.Ul,this.qe=null,this.Ac=-1):(this.type=this.b.m[b[0]],this.Ma=this.Tl,b[2]?(this.qe=this.type.di(b[2]),this.Ac=this.type.xk(b[2])):(this.qe=null,this.Ac=-1));this.M=b[3];this.b.bf[this.M.toString()]=this;if(6===b.length){var c,d,g=b[5];c=0;for(d=g.length;c<d;c++){var h=new Tb(this,g[c]);this.I.push(h)}this.va.length=g.length}}function l(){h++;u.length===h&&u.push(new Ub);return u[h]}function d(a,b){this.la=a;this.Tb=a.Tb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rc=null;this.xd=0;this.get=
null;this.jn=0;this.Ja=null;this.key=0;this.object=null;this.index=0;this.vh=this.Ue=this.vh=this.Ue=this.vn=this.xe=this.wh=null;this.xc=!1;var c,d,g;switch(b[0]){case 0:case 7:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Rs;break;case 1:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Ss;break;case 5:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Ws;break;case 3:case 8:this.jn=b[1];this.get=this.Ps;break;case 6:this.Ja=this.b.il[b[1]];this.get=this.Xs;break;case 9:this.key=b[1];this.get=
this.Vs;break;case 4:this.object=this.b.m[b[1]];this.get=this.Ys;this.Tb.Om(this.object);this.la instanceof Sb?this.Tb.hj():this.Tb.parent&&this.Tb.parent.hj();break;case 10:this.index=b[1];a.type.A?(this.get=this.Ts,this.xc=!0):this.get=this.Us;break;case 11:this.wh=b[1];this.xe=null;this.get=this.Qs;break;case 2:case 12:this.vn=b[1];this.get=this.Os;break;case 13:for(this.get=this.Zs,this.Ue=[],this.vh=[],c=1,d=b.length;c<d;c++)g=new Tb(this.la,b[c]),this.Ue.push(g),this.vh.push(0)}}function k(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.name=c[1];this.rm=c[2];this.Pk=c[3];this.Bg=!!c[4];this.qi=!!c[5];this.M=c[6];this.b.Wf[this.M.toString()]=this;this.data=this.Pk;this.parent?(this.Oe=this.Bg||this.qi?-1:this.b.ru++,this.b.ir.push(this)):(this.Oe=-1,this.b.hr.push(this))}function n(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.ug=null;this.gt=c[1];this.Qa=!0}function g(){this.xp=[];this.reset(null)}var p=[];r.prototype.toString=function(){return this.name};
r.prototype.Nn=function(a,b,c){switch(a[0]){case 0:a=new Wb(this,b,a);if(a.Vc)for(c.push(a),c=0,b=a.gb.length;c<b;c++)a.gb[c].trigger&&this.On(a,c);else a.Vn()?this.On(a,0):c.push(a);break;case 1:a=new Nb(this,b,a);c.push(a);break;case 2:a=new Xb(this,b,a),c.push(a)}};r.prototype.Ba=function(){var a,b;a=0;for(b=this.Td.length;a<b;a++)this.Td[a].Ba(a<b-1&&this.Td[a+1].ri)};r.prototype.mm=function(){this.kk.length=0;this.Rj.length=0;this.Nm(this);this.Rj.length=0};r.prototype.Nm=function(a){var b,c,
d,g,h=a.kk,l=a.Rj,k=this.Ln.Bd();b=0;for(c=k.length;b<c;++b)d=k[b],g=d.ug,!d.Qa||a===g||-1<l.indexOf(g)||(l.push(g),g.Nm(a),h.push(g))};r.prototype.Ma=function(a){this.b.Tv||(this.Lk=!0,a||(this.b.$k=!0));var b,c;b=0;for(c=this.Td.length;b<c;b++){var d=this.Td[b];d.Ma();this.b.dk(d.Ca);this.b.Vd&&this.b.fb()}a||(this.b.$k=!1)};r.prototype.On=function(a,b){a.Vc||this.b.zj.push(a);var c,d,g=a.gb[b],h;h=g.type?g.type.name:"system";var l=(c=g.tn)?this.un:this.Dp;l[h]||(l[h]=[]);h=l[h];l=g.Za;if(c){if(g.I.length&&
(g=g.I[0],1===g.type&&2===g.Rc.type)){g=g.Rc.value.toLowerCase();c=0;for(d=h.length;c<d;c++)if(h[c].method==l){c=h[c].kg;c[g]?c[g].push([a,b]):c[g]=[[a,b]];return}c={};c[g]=[[a,b]];h.push({method:l,kg:c})}}else{c=0;for(d=h.length;c<d;c++)if(h[c].method==l){h[c].kg.push([a,b]);return}ic&&l===ic.prototype.d.$e?h.unshift({method:l,kg:[[a,b]]}):h.push({method:l,kg:[[a,b]]})}};Db=r;t.prototype.Kk=function(){return this.ma?this.type.c.length:this.c.length};t.prototype.Ec=function(){return this.ma?this.type.c:
this.c};t.prototype.Yg=function(a){a&&(a.b.Hb().Cc.Vc?(this.ma&&(this.c.length=0,ya(this.O,a.type.c),this.ma=!1),a=this.O.indexOf(a),-1!==a&&(this.c.push(this.O[a]),this.O.splice(a,1))):(this.ma=!1,this.c.length=1,this.c[0]=a))};lb=t;window._c2hh_="";c.prototype.Ba=function(a){var b,c=this.parent;if(this.group)for(this.wj=!0;c;){if(!c.group){this.wj=!1;break}c=c.parent}this.im=!this.Vn()&&(!this.parent||this.parent.group&&this.parent.wj);this.Kn=!!a;this.he=this.Ca.slice(0);for(c=this.parent;c;){a=
0;for(b=c.Ca.length;a<b;a++)this.er(c.Ca[a]);c=c.parent}this.Ca=m(this.Ca);this.he=m(this.he);a=0;for(b=this.gb.length;a<b;a++)this.gb[a].Ba();a=0;for(b=this.yc.length;a<b;a++)this.yc[a].Ba();a=0;for(b=this.wc.length;a<b;a++)this.wc[a].Ba(a<b-1&&this.wc[a+1].ri)};c.prototype.lu=function(a){if(this.rg!==!!a){this.rg=!!a;var b;a=0;for(b=this.Hh.length;a<b;++a)this.Hh[a].Jp();0<b&&this.b.ja.we&&this.b.ja.we.mm()}};c.prototype.Om=function(b){a(b,this.Ca)};c.prototype.er=function(b){a(b,this.he)};c.prototype.hj=
function(){this.up=!0;this.parent&&this.parent.hj()};c.prototype.Vn=function(){return this.gb.length?this.gb[0].trigger:!1};c.prototype.Ma=function(){var a,b=!1,c,d=this.b,g=this.b.Hb();g.Cc=this;var h=this.gb;this.ri||(g.mk=!1);if(this.Vc){0===h.length&&(b=!0);g.sb=0;for(a=h.length;g.sb<a;g.sb++)h[g.sb].trigger||(c=h[g.sb].Ma())&&(b=!0);(g.Je=b)&&this.Sl()}else{g.sb=0;for(a=h.length;g.sb<a;g.sb++)if(c=h[g.sb].Ma(),!c){g.Je=!1;this.im&&d.Vd&&d.fb();return}g.Je=!0;this.Sl()}this.Tr(g)};c.prototype.Tr=
function(a){a.Je&&this.Kn&&(a.mk=!0);this.im&&this.b.Vd&&this.b.fb()};c.prototype.eu=function(a){this.b.Hb().Cc=this;this.gb[a].Ma()&&(this.Sl(),this.b.Hb().Je=!0)};c.prototype.Sl=function(){var a=this.b.Hb(),b;a.ac=0;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].Ma())return;this.jp()};c.prototype.cu=function(){var a=this.b.Hb(),b;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].Ma())return;this.jp()};c.prototype.jp=function(){if(this.wc.length){var a,b,c,d,g=this.wc.length-1;this.b.Ll(this);
if(this.up)for(a=0,b=this.wc.length;a<b;a++)c=this.wc[a],(d=!this.wj||!this.group&&a<g)&&this.b.Kl(c.Ca),c.Ma(),d?this.b.Hf(c.Ca):this.b.dk(c.Ca);else for(a=0,b=this.wc.length;a<b;a++)this.wc[a].Ma();this.b.Zo()}};c.prototype.fu=function(){var a=this.b.Hb();a.Cc=this;var b=!1,c;a.sb=0;for(c=this.gb.length;a.sb<c;a.sb++)if(this.gb[a.sb].Ma())b=!0;else if(!this.Vc)return!1;return this.Vc?b:!0};c.prototype.mt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.gb[b].type===a.type)return!1;
return!0};Wb=c;b.prototype.Ba=function(){var a,b,c;a=0;for(b=this.I.length;a<b;a++)c=this.I[a],c.Ba(),c.xc&&(this.Yf=!0)};b.prototype.hu=function(){return!0};b.prototype.Ul=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.va[a]=this.I[a].get();return Ta(this.Za.apply(this.b.ad,this.va),this.Wk)};b.prototype.gu=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.va[a]=this.I[a].get();a=this.Za.apply(this.qe?this.qe:this.type,this.va);this.type.Id();return a};b.prototype.Tl=function(){var a,
b,c,d,g,h,l,k,p=this.type,f=p.fa(),n=this.Tb.Vc&&!this.trigger;b=0;var s=p.Yb,t=p.A,m=p.md,q=this.Ac,r=-1<q,u=this.Yf,x=this.I,z=this.va,O=this.Wk,G=this.Za,I;if(u)for(b=0,g=x.length;b<g;++b)h=x[b],h.xc||(z[b]=h.get(0));else for(b=0,g=x.length;b<g;++b)z[b]=x[b].get(0);if(f.ma){f.c.length=0;f.O.length=0;I=p.c;a=0;for(d=I.length;a<d;++a){k=I[a];if(u)for(b=0,g=x.length;b<g;++b)h=x[b],h.xc&&(z[b]=h.get(a));r?(b=0,t&&(b=k.type.jf[m]),b=G.apply(k.G[q+b],z)):b=G.apply(k,z);(l=Ta(b,O))?f.c.push(k):n&&f.O.push(k)}p.finish&&
p.finish(!0);f.ma=!1;p.Id();return f.Kk()}c=0;I=(l=n&&!this.Tb.mt(this))?f.O:f.c;var H=!1;a=0;for(d=I.length;a<d;++a){k=I[a];if(u)for(b=0,g=x.length;b<g;++b)h=x[b],h.xc&&(z[b]=h.get(a));r?(b=0,t&&(b=k.type.jf[m]),b=G.apply(k.G[q+b],z)):b=G.apply(k,z);if(Ta(b,O))if(H=!0,l){if(f.c.push(k),s)for(b=0,g=k.siblings.length;b<g;b++)h=k.siblings[b],h.type.fa().c.push(h)}else{I[c]=k;if(s)for(b=0,g=k.siblings.length;b<g;b++)h=k.siblings[b],h.type.fa().c[c]=h;c++}else if(l){I[c]=k;if(s)for(b=0,g=k.siblings.length;b<
g;b++)h=k.siblings[b],h.type.fa().O[c]=h;c++}else if(n&&(f.O.push(k),s))for(b=0,g=k.siblings.length;b<g;b++)h=k.siblings[b],h.type.fa().O.push(h)}I.length=c;if(s)for(t=p.Fb,a=0,d=t.length;a<d;a++)k=t[a].fa(),l?k.O.length=c:k.c.length=c;c=H;if(l&&!H)for(a=0,d=f.c.length;a<d;a++){k=f.c[a];if(u)for(b=0,g=x.length;b<g;b++)h=x[b],h.xc&&(z[b]=h.get(a));b=r?G.apply(k.G[q],z):G.apply(k,z);if(Ta(b,O)){H=!0;break}}p.finish&&p.finish(c||n);return n?H:f.Kk()};Rb=b;s.prototype.Ba=function(){var a,b,c;a=0;for(b=
this.I.length;a<b;a++)c=this.I[a],c.Ba(),c.xc&&(this.Yf=!0)};s.prototype.Ul=function(){var a=this.b,b,c,d=this.I,g=this.va;b=0;for(c=d.length;b<c;++b)g[b]=d[b].get();return this.Za.apply(a.ad,g)};s.prototype.Tl=function(){var a=this.type,b=this.Ac,c=a.md,d=this.Yf,g=this.I,h=this.va,k=this.Za,l=a.fa().Ec(),a=a.A,p=-1<b,f,n,s,t,m,q;if(d)for(n=0,t=g.length;n<t;++n)m=g[n],m.xc||(h[n]=m.get(0));else for(n=0,t=g.length;n<t;++n)h[n]=g[n].get(0);f=0;for(s=l.length;f<s;++f){q=l[f];if(d)for(n=0,t=g.length;n<
t;++n)m=g[n],m.xc&&(h[n]=m.get(f));p?(n=0,a&&(n=q.type.jf[c]),k.apply(q.G[b+n],h)):k.apply(q,h)}return!1};Sb=s;var u=[],h=-1;d.prototype.Ba=function(){var a,b;if(11===this.type)this.xe=this.b.Bn(this.wh,this.Tb.parent);else if(13===this.type)for(a=0,b=this.Ue.length;a<b;a++)this.Ue[a].Ba();this.Rc&&this.Rc.Ba()};d.prototype.Bt=function(a){this.xc||!a||a.ha.kj||(this.xc=!0)};d.prototype.np=function(){this.xc=!0};d.prototype.Rs=function(a){this.xd=a||0;a=l();this.Rc.get(a);h--;return a.data};d.prototype.Ss=
function(a){this.xd=a||0;a=l();this.Rc.get(a);h--;return S(a.data)?a.data:""};d.prototype.Ys=function(){return this.object};d.prototype.Ps=function(){return this.jn};d.prototype.Ws=function(a){this.xd=a||0;a=l();this.Rc.get(a);h--;return a.Ia()?this.b.od(a.data):this.b.ng(a.data)};d.prototype.Xs=function(){return this.Ja};d.prototype.Vs=function(){return this.key};d.prototype.Us=function(){return this.index};d.prototype.Ts=function(a){a=a||0;var b=this.la.type,c=null,c=b.fa(),d=c.Ec();if(d.length)c=
d[a%d.length].type;else if(c.O.length)c=c.O[a%c.O.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.Xh[b.md]};d.prototype.Qs=function(){return this.xe};d.prototype.Os=function(){return this.vn};d.prototype.Zs=function(){var a,b;a=0;for(b=this.Ue.length;a<b;a++)this.vh[a]=this.Ue[a].get();return this.vh};Tb=d;k.prototype.Ba=function(){this.Ca=m(this.Ca)};k.prototype.Nf=function(a){var b=this.b.An();this.parent&&!this.Bg&&b?(this.Oe>=b.length&&(b.length=this.Oe+
1),b[this.Oe]=a):this.data=a};k.prototype.hi=function(){var a=this.b.An();return!this.parent||this.Bg||!a||this.qi?this.data:this.Oe>=a.length||"undefined"===typeof a[this.Oe]?this.Pk:a[this.Oe]};k.prototype.Ma=function(){!this.parent||this.Bg||this.qi||this.Nf(this.Pk)};Nb=k;n.prototype.toString=function(){return"include:"+this.ug.toString()};n.prototype.Ba=function(){this.ug=this.b.ok[this.gt];this.sheet.Ln.add(this);this.Ca=m(this.Ca);for(var a=this.parent;a;)a.group&&a.Hh.push(this),a=a.parent;
this.Jp()};n.prototype.Ma=function(){this.parent&&this.b.$g(this.b.m);this.ug.Lk||this.ug.Ma(!0);this.parent&&this.b.Hf(this.b.m)};n.prototype.Jp=function(){for(var a=this.parent;a;){if(a.group&&!a.rg){this.Qa=!1;return}a=a.parent}this.Qa=!0};Xb=n;g.prototype.reset=function(a){this.Cc=a;this.ac=this.sb=0;this.xp.length=0;this.mk=this.Je=!1};Mb=g})();
(function(){function f(a,b){this.la=a;this.b=a.b;this.type=b[0];this.get=[this.gs,this.bs,this.qs,this.us,this.Vr,this.rs,this.ls,this.Zr,this.ks,this.ps,this.Wr,this.os,this.$r,this.ms,this.hs,this.js,this.cs,this.ds,this.Yr,this.ts,this.ns,this.es,this.Xr,this.as][this.type];var c=null;this.sd=this.I=this.va=this.Za=this.uj=this.Ua=this.first=this.value=null;this.Ac=-1;this.Wd=null;this.Op=-1;this.xe=this.wh=null;this.Kf=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Vb(a,b[1]);break;case 18:this.first=new Vb(a,b[1]);this.Ua=new Vb(a,b[2]);this.uj=new Vb(a,b[3]);break;case 19:this.Za=this.b.Ed(b[1]);this.Za!==X.prototype.Fa.random&&this.Za!==X.prototype.Fa.gn||this.la.np();this.va=[];this.I=[];3===b.length?(c=b[2],this.va.length=c.length+1):this.va.length=1;break;case 20:this.sd=this.b.m[b[1]];this.Ac=-1;this.Za=this.b.Ed(b[2]);this.Kf=b[3];Zb.Function&&this.Za===Zb.Function.prototype.Fa.Mu&&this.la.np();this.Wd=b[4]?new Vb(a,b[4]):null;this.va=[];this.I=
[];6===b.length?(c=b[5],this.va.length=c.length+1):this.va.length=1;break;case 21:this.sd=this.b.m[b[1]];this.Kf=b[2];this.Wd=b[3]?new Vb(a,b[3]):null;this.Op=b[4];break;case 22:this.sd=this.b.m[b[1]];this.sd.di(b[2]);this.Ac=this.sd.xk(b[2]);this.Za=this.b.Ed(b[3]);this.Kf=b[4];this.Wd=b[5]?new Vb(a,b[5]):null;this.va=[];this.I=[];7===b.length?(c=b[6],this.va.length=c.length+1):this.va.length=1;break;case 23:this.wh=b[1],this.xe=null}this.la.Bt(this.sd);4<=this.type&&17>=this.type&&(this.first=new Vb(a,
b[1]),this.Ua=new Vb(a,b[2]));if(c){var l,d;l=0;for(d=c.length;l<d;l++)this.I.push(new Vb(a,c[l]))}}function q(){++c;t.length===c&&t.push(new Ub);return t[c]}function m(a,b,c){var l,d;l=0;for(d=a.length;l<d;++l)a[l].get(c),b[l+1]=c.data}function r(a,b){this.type=a||W.Ze;this.data=b||0;this.Pe=null;this.type==W.Ze&&(this.data=Math.floor(this.data))}f.prototype.Ba=function(){23===this.type&&(this.xe=this.la.b.Bn(this.wh,this.la.Tb.parent));this.first&&this.first.Ba();this.Ua&&this.Ua.Ba();this.uj&&
this.uj.Ba();this.Wd&&this.Wd.Ba();if(this.I){var a,b;a=0;for(b=this.I.length;a<b;a++)this.I[a].Ba()}};var t=[],c=-1;f.prototype.ts=function(a){var b=this.I,f=this.va;f[0]=a;a=q();m(b,f,a);--c;this.Za.apply(this.b.ad,f)};f.prototype.ns=function(a){var b=this.sd,f=this.va,l=this.I,d=this.Wd,k=this.Za,n=this.la.xd,g=b.fa(),p=g.Ec();if(!p.length)if(g.O.length)p=g.O;else{this.Kf?a.bb(""):a.da(0);return}f[0]=a;a.Pe=b;a=q();m(l,f,a);d&&(d.get(a),a.Ia()&&(n=a.data,p=b.c));--c;b=p.length;if(n>=b||n<=-b)n%=
b;0>n&&(n+=b);k.apply(p[n],f)};f.prototype.Xr=function(a){var b=this.sd,f=this.va,l=this.I,d=this.Wd,k=this.Ac,n=this.Za,g=this.la.xd,p=b.fa(),t=p.Ec();if(!t.length)if(p.O.length)t=p.O;else{this.Kf?a.bb(""):a.da(0);return}f[0]=a;a.Pe=b;a=q();m(l,f,a);d&&(d.get(a),a.Ia()&&(g=a.data,t=b.c));--c;l=t.length;if(g>=l||g<=-l)g%=l;0>g&&(g+=l);g=t[g];t=0;b.A&&(t=g.type.jf[b.md]);n.apply(g.G[k+t],f)};f.prototype.es=function(a){var b=this.Wd,f=this.sd,l=this.Op,d=this.la.xd,k=f.fa(),n=k.Ec();if(!n.length)if(k.O.length)n=
k.O;else{this.Kf?a.bb(""):a.da(0);return}if(b){k=q();b.get(k);if(k.Ia()){d=k.data;f=f.c;d%=f.length;0>d&&(d+=f.length);l=f[d].Ha[l];S(l)?a.bb(l):a.q(l);--c;return}--c}b=n.length;if(d>=b||d<=-b)d%=b;0>d&&(d+=b);d=n[d];n=0;f.A&&(n=d.type.Xh[f.md]);l=d.Ha[l+n];S(l)?a.bb(l):a.q(l)};f.prototype.gs=function(a){a.type=W.Ze;a.data=this.value};f.prototype.bs=function(a){a.type=W.Ye;a.data=this.value};f.prototype.qs=function(a){a.type=W.String;a.data=this.value};f.prototype.us=function(a){this.first.get(a);
a.Ia()&&(a.data=-a.data)};f.prototype.Vr=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data+=b.data,b.sf()&&a.Bf());--c};f.prototype.rs=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data-=b.data,b.sf()&&a.Bf());--c};f.prototype.ls=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data*=b.data,b.sf()&&a.Bf());--c};f.prototype.Zr=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data/=b.data,a.Bf());
--c};f.prototype.ks=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data%=b.data,b.sf()&&a.Bf());--c};f.prototype.ps=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data=Math.pow(a.data,b.data),b.sf()&&a.Bf());--c};f.prototype.Wr=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()?b.si()?a.bb(a.data.toString()+b.data):a.data&&b.data?a.da(1):a.da(0):a.si()&&(a.data=b.si()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());--c};
f.prototype.os=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data||b.data?a.da(1):a.da(0));--c};f.prototype.Yr=function(a){this.first.get(a);a.data?this.Ua.get(a):this.uj.get(a)};f.prototype.$r=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data===b.data?1:0);--c};f.prototype.ms=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data!==b.data?1:0);--c};f.prototype.hs=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data<b.data?1:0);
--c};f.prototype.js=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data<=b.data?1:0);--c};f.prototype.cs=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data>b.data?1:0);--c};f.prototype.ds=function(a){this.first.get(a);var b=q();this.Ua.get(b);a.da(a.data>=b.data?1:0);--c};f.prototype.as=function(a){var b=this.xe.hi();R(b)?a.q(b):a.bb(b)};Vb=f;r.prototype.sf=function(){return this.type===W.Ye};r.prototype.Ia=function(){return this.type===W.Ze||this.type===W.Ye};r.prototype.si=
function(){return this.type===W.String};r.prototype.Bf=function(){this.sf()||(this.si()&&(this.data=parseFloat(this.data)),this.type=W.Ye)};r.prototype.da=function(a){this.type=W.Ze;this.data=Math.floor(a)};r.prototype.q=function(a){this.type=W.Ye;this.data=a};r.prototype.bb=function(a){this.type=W.String;this.data=a};r.prototype.pu=function(a){R(a)?(this.type=W.Ye,this.data=a):S(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.Ze,this.data=0)};Ub=r;W={Ze:0,Ye:1,String:2}})();
function X(f){this.b=f;this.Qb=[]}X.prototype.mb=function(){var f={},q,m,r,t,c,a,b,s;f.waits=[];var l=f.waits,d;q=0;for(m=this.Qb.length;q<m;q++){a=this.Qb[q];d={t:a.time,st:a.qu,s:a.sp,ev:a.jg.M,sm:[],sols:{}};a.jg.yc[a.ac]&&(d.act=a.jg.yc[a.ac].M);r=0;for(t=a.Ca.length;r<t;r++)d.sm.push(a.Ca[r].M);for(c in a.Ob)if(a.Ob.hasOwnProperty(c)){b=this.b.m[parseInt(c,10)];s={sa:a.Ob[c].kp,insts:[]};r=0;for(t=a.Ob[c].Ee.length;r<t;r++)s.insts.push(a.Ob[c].Ee[r].uid);d.sols[b.M.toString()]=s}l.push(d)}return f};
X.prototype.Kb=function(f){f=f.waits;var q,m,r,t,c,a,b,s,l,d,k;q=this.Qb.length=0;for(m=f.length;q<m;q++)if(a=f[q],s=this.b.Zm[a.ev.toString()]){l=-1;r=0;for(t=s.yc.length;r<t;r++)if(s.yc[r].M===a.act){l=r;break}if(-1!==l){b={Ob:{},Ca:[],nn:!1};b.time=a.t;b.qu=a.st||"";b.sp=!!a.s;b.jg=s;b.ac=l;r=0;for(t=a.sm.length;r<t;r++)(s=this.b.gi(a.sm[r]))&&b.Ca.push(s);for(c in a.sols)if(a.sols.hasOwnProperty(c)&&(s=this.b.gi(parseInt(c,10)))){l=a.sols[c];d={kp:l.sa,Ee:[]};r=0;for(t=l.insts.length;r<t;r++)(k=
this.b.fi(l.insts[r]))&&d.Ee.push(k);b.Ob[s.index.toString()]=d}this.Qb.push(b)}}};
(function(){function f(){}function q(){}function m(){}var r=X.prototype;f.prototype.$p=function(){return!0};f.prototype.xq=function(){return!0};f.prototype.wq=function(){return!0};f.prototype.Zp=function(a){var b=this.b.zn(),c=b.X.Every_lastTime||0,l=this.b.yb.V;"undefined"===typeof b.X.Every_seconds&&(b.X.Every_seconds=a);var d=b.X.Every_seconds;if(l>=c+d)return b.X.Every_lastTime=c+d,l>=b.X.Every_lastTime+.04&&(b.X.Every_lastTime=l),b.X.Every_seconds=a,!0;l<c-.1&&(b.X.Every_lastTime=l);return!1};
f.prototype.Wp=function(a,b,c){return Yb(a.hi(),b,c)};f.prototype.zm=function(){var a=this.b.Hb();return a.mk?!1:!a.Je};f.prototype.Kj=function(){return!0};f.prototype.lq=function(){return!0};f.prototype.Mj=function(){return!0};f.prototype.yq=function(){return!0};f.prototype.Jj=function(){return!0};f.prototype.Sp=function(a,b,c){return Ka(V(a),V(c))<=V(b)};f.prototype.cq=function(a,b){return Ma(V(a),V(b))};f.prototype.bq=function(a,b,c){a=Ha(a);b=Ha(b);c=Ha(c);return Ma(c,b)?Ma(a,b)&&!Ma(a,c):!(!Ma(a,
b)&&Ma(a,c))};r.d=new f;q.prototype.Yp=function(a,b,c,l){if(b&&a&&(b=this.b.ln(a,b,c,l))){this.b.Fc++;var d;this.b.trigger(Object.getPrototypeOf(a.ha).d.Hj,b);if(b.Yb)for(c=0,l=b.siblings.length;c<l;c++)d=b.siblings[c],this.b.trigger(Object.getPrototypeOf(d.type.ha).d.Hj,d);this.b.Fc--;a=a.fa();a.ma=!1;a.c.length=1;a.c[0]=b;if(b.Yb)for(c=0,l=b.siblings.length;c<l;c++)d=b.siblings[c],a=d.type.fa(),a.ma=!1,a.c.length=1,a.c[0]=d}};q.prototype.Qq=function(a,b){0===a.rm?R(b)?a.Nf(b):a.Nf(parseFloat(b)):
1===a.rm&&a.Nf(b.toString())};q.prototype.Vq=function(a,b){0===a.rm&&(R(b)?a.Nf(a.hi()-b):a.Nf(a.hi()-parseFloat(b)))};var t=[],c=[];r.ba=new q;m.prototype["int"]=function(a,b){S(b)?(a.da(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.da(b)};m.prototype["float"]=function(a,b){S(b)?(a.q(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.q(b)};m.prototype.random=function(a,b,c){void 0===c?a.q(Math.random()*b):a.q(Math.random()*(c-b)+b)};m.prototype.sqrt=function(a,b){a.q(Math.sqrt(b))};m.prototype.abs=function(a,
b){a.q(Math.abs(b))};m.prototype.round=function(a,b){a.da(Math.round(b))};m.prototype.floor=function(a,b){a.da(Math.floor(b))};m.prototype.ceil=function(a,b){a.da(Math.ceil(b))};m.prototype.sin=function(a,b){a.q(Math.sin(V(b)))};m.prototype.cos=function(a,b){a.q(Math.cos(V(b)))};m.prototype.tan=function(a,b){a.q(Math.tan(V(b)))};m.prototype.asin=function(a,b){a.q(Ca(Math.asin(b)))};m.prototype.acos=function(a,b){a.q(Ca(Math.acos(b)))};m.prototype.atan=function(a,b){a.q(Ca(Math.atan(b)))};m.prototype.exp=
function(a,b){a.q(Math.exp(b))};m.prototype.log10=function(a,b){a.q(Math.log(b)/Math.LN10)};m.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,l,d;c=2;for(l=arguments.length;c<l;c++)d=arguments[c],"number"===typeof d&&b<d&&(b=d);a.q(b)};m.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,l,d;c=2;for(l=arguments.length;c<l;c++)d=arguments[c],"number"===typeof d&&b>d&&(b=d);a.q(b)};m.prototype.ve=function(a){a.q(this.b.ve)};m.prototype.We=function(a){a.q(this.b.We)};
m.prototype.time=function(a){a.q(this.b.yb.V)};m.prototype.sh=function(a){a.da(this.b.sh)};m.prototype.Oi=function(a){a.da(this.b.Oi)};m.prototype.sk=function(a){a.da(this.b.sk)};m.prototype.j=function(a,b,c,l,d){a.q(Ca(Ja(b,c,l,d)))};m.prototype.find=function(a,b,c){S(b)&&S(c)?a.da(b.search(new RegExp(ab(c),"i"))):a.da(-1)};m.prototype.left=function(a,b,c){a.bb(S(b)?b.substr(0,c):"")};m.prototype.right=function(a,b,c){a.bb(S(b)?b.substr(b.length-c):"")};m.prototype.replace=function(a,b,c,l){S(b)&&
S(c)&&S(l)?a.bb(b.replace(new RegExp(ab(c),"gi"),l)):a.bb(S(b)?b:"")};m.prototype.trim=function(a,b){a.bb(S(b)?b.trim():"")};m.prototype.gn=function(a){var b=U(Math.random()*(arguments.length-1));a.pu(arguments[b+1])};m.prototype.fk=function(a){a.q(this.b.fk/1E3)};m.prototype.zf=function(a){a.q(this.b.zf)};r.Fa=new m;r.du=function(){var a,b,f,l,d,k,n=this.b.Hb();a=0;for(f=this.Qb.length;a<f;a++){l=this.Qb[a];if(-1===l.time){if(!l.sp)continue}else if(l.time>this.b.yb.V)continue;n.Cc=l.jg;n.ac=l.ac;
n.sb=0;for(b in l.Ob)l.Ob.hasOwnProperty(b)&&(d=this.b.m[parseInt(b,10)].fa(),k=l.Ob[b],d.ma=k.kp,ya(d.c,k.Ee),d=k,d.Ee.length=0,c.push(d));l.jg.cu();this.b.dk(l.Ca);l.nn=!0}b=a=0;for(f=this.Qb.length;a<f;a++)l=this.Qb[a],this.Qb[b]=l,l.nn?(Va(l.Ob),l.Ca.length=0,t.push(l)):b++;this.Qb.length=b}})();
(function(){kb=function(f,m){var r=f[1],t=f[3],c=f[4],a=f[5],b=f[6],s=f[7],l=f[8];m.d||(m.d={});m.ba||(m.ba={});m.Fa||(m.Fa={});var d=m.d,k=m.ba,n=m.Fa;t&&(d.Qu=function(a,b){return Yb(this.x,a,b)},d.Xp=function(a,b){return Yb(this.y,a,b)},d.Xu=function(){var a=this.i;this.eb();var b=this.Xa;return!(b.right<a.na||b.bottom<a.pa||b.left>a.xa||b.top>a.wa)},d.Yu=function(){this.eb();var a=this.Xa,b=this.b.ja;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.lv=function(a,b,c){var d=this.fa(),
e=d.Ec();if(!e.length)return!1;var k=e[0],l=k,f=Sa(k.x,k.y,b,c),n,t,m;n=1;for(t=e.length;n<t;n++)if(k=e[n],m=Sa(k.x,k.y,b,c),0===a&&m<f||1===a&&m>f)f=m,l=k;d.Yg(l);return!0},k.Cv=function(a){this.x!==a&&(this.x=a,this.Na())},k.Dv=function(a){this.y!==a&&(this.y=a,this.Na())},k.Oq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Na()},k.zv=function(a,b){var c=a.Js(this);if(c){var d;c.Ck?(d=c.Ck(b,!0),c=c.Ck(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Na()}},
k.cv=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.Na())},k.bv=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.Na())},n.yh=function(a){a.q(this.x)},n.Nj=function(a){a.q(this.y)},n.ve=function(a){a.q(this.b.zk(this))});c&&(d.Pu=function(a,b){return Yb(this.width,a,b)},d.Nu=function(a,b){return Yb(this.height,a,b)},k.Sq=function(a){this.width!==a&&(this.width=a,this.Na())},k.xv=function(a){this.height!==a&&(this.height=a,this.Na())},k.Av=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Na()},n.Hv=function(a){a.q(this.width)},n.Tu=function(a){a.q(this.height)},n.Ju=function(a){this.eb();a.q(this.Xa.left)},n.Lu=function(a){this.eb();a.q(this.Xa.top)},n.Ku=function(a){this.eb();a.q(this.Xa.right)},n.Iu=function(a){this.eb();a.q(this.Xa.bottom)});a&&(d.Sp=function(a,b){return Ka(this.j,V(b))<=V(a)},d.cq=function(a){return Ma(this.j,V(a))},d.bq=function(a,b){var c=Ha(a),d=Ha(b),e=Fa(this.j);return Ma(d,
c)?Ma(e,c)&&!Ma(e,d):!(!Ma(e,c)&&Ma(e,d))},k.tv=function(a){a=V(Da(a));isNaN(a)||this.j===a||(this.j=a,this.Na())},k.pv=function(a){0===a||isNaN(a)||(this.j+=V(a),this.j=Fa(this.j),this.Na())},k.qv=function(a){0===a||isNaN(a)||(this.j-=V(a),this.j=Fa(this.j),this.Na())},k.rv=function(a,b){var c=La(this.j,V(b),V(a));isNaN(c)||this.j===c||(this.j=c,this.Na())},k.sv=function(a,b,c){a=La(this.j,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.j===a||(this.j=a,this.Na())},k.Bv=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.j===c||(this.j=c,this.Na())},n.Hu=function(a){a.q(Ga(this.j))});r||(d.Vp=function(a,b,c){return Yb(this.Ha[a],b,c)},d.Vu=function(a){return this.Ha[a]},d.mv=function(a,b){var c=this.fa(),d=c.Ec();if(!d.length)return!1;var e=d[0],k=e,l=e.Ha[b],f,n,t;f=1;for(n=d.length;f<n;f++)if(e=d[f],t=e.Ha[b],0===a&&t<l||1===a&&t>l)l=t,k=e;c.Yg(k);return!0},d.kv=function(a){var b,c,d,e,k;if(this.b.zn().Wk){k=this.fa();if(k.ma)for(k.ma=!1,k.c.length=0,k.O.length=0,d=this.c,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?k.O.push(e):k.c.push(e);else{d=b=0;for(c=k.c.length;b<c;b++)e=k.c[b],k.c[d]=e,e.uid===a?k.O.push(e):d++;k.c.length=d}this.Id();return!!k.c.length}e=this.b.fi(a);if(!e)return!1;k=this.fa();if(!k.ma&&-1===k.c.indexOf(e))return!1;if(this.A)for(a=e.type.qa,b=0,c=a.length;b<c;b++){if(a[b]===this)return k.Yg(e),this.Id(),!0}else if(e.type===this)return k.Yg(e),this.Id(),!0;return!1},d.Hj=function(){return!0},d.mq=function(){return!0},k.Nq=function(a,b){var c=this.Ha;R(c[a])?c[a]=
R(b)?b:parseFloat(b):S(c[a])&&(c[a]=S(b)?b:b.toString())},k.Rp=function(a,b){var c=this.Ha;R(c[a])?c[a]=R(b)?c[a]+b:c[a]+parseFloat(b):S(c[a])&&(c[a]=S(b)?c[a]+b:c[a]+b.toString())},k.Ev=function(a,b){var c=this.Ha;R(c[a])&&(c[a]=R(b)?c[a]-b:c[a]-parseFloat(b))},k.Mq=function(a,b){this.Ha[a]=b?1:0},k.Fv=function(a){this.Ha[a]=1-this.Ha[a]},k.Su=function(){this.b.Dd(this)},k.fq||(k.fq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Fi(this,b,!0);this.Gd&&this.Gd();if(this.G)for(a=0,
b=this.G.length;a<b;++a)c=this.G[a],c.Gd&&c.Gd()}),n.Ru=function(a){var b=a.Pe.c.length,c,d,e;c=0;for(d=this.b.Qc.length;c<d;c++)e=this.b.Qc[c],a.Pe.A?0<=e.type.qa.indexOf(a.Pe)&&b++:e.type===a.Pe&&b++;a.da(b)},n.ov=function(a){a.da(a.Pe.fa().Ec().length)},n.Gv=function(a){a.da(this.uid)},n.Uu=function(a){a.da(this.qg())},n.ym||(n.ym=function(a){a.bb(JSON.stringify(this.b.Vl(this,!0)))}));b&&(d.Zu=function(){return this.visible},k.Rq=function(a){!a!==!this.visible&&(this.visible=a,this.b.ca=!0)},
d.Ou=function(a,b){return Yb(gb(100*this.opacity),a,b)},k.yv=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ca=!0)},n.Opacity=function(a){a.q(gb(100*this.opacity))});s&&(d.Wu=function(a){return a?this.i===a:!1},d.nv=function(a){var b=this.fa(),c=b.Ec();if(!c.length)return!1;var d=c[0],e=d,k,l;k=1;for(l=c.length;k<l;k++)if(d=c[k],0===a){if(d.i.index>e.i.index||d.i.index===e.i.index&&d.Tc()>e.Tc())e=d}else if(d.i.index<e.i.index||d.i.index===e.i.index&&d.Tc()<e.Tc())e=
d;b.Yg(e);return!0},k.hv=function(){var a=this.i,b=a.c;b.length&&b[b.length-1]===this||(a.Jf(this,!1),a.$f(this,!1),this.b.ca=!0)},k.dv=function(){var a=this.i,b=a.c;b.length&&b[0]===this||(a.Jf(this,!1),a.Vt(this),this.b.ca=!0)},k.gv=function(a){a&&a!=this.i&&(this.i.Jf(this,!0),this.i=a,a.$f(this,!0),this.b.ca=!0)},k.Jv=function(a,b){var c=0===a;if(b){var d=b.Es(this);d&&d.uid!==this.uid&&(this.i.index!==d.i.index&&(this.i.Jf(this,!0),this.i=d.i,d.i.$f(this,!0)),this.i.Dt(this,d,c),this.b.ca=!0)}},
n.av=function(a){a.da(this.i.Do)},n.$u=function(a){a.bb(this.i.name)},n.Iv=function(a){a.da(this.Tc())});l&&(k.vv=function(a,b){if(this.b.n){var c=this.type.Bk(b);if(!(0>c)){var d=1===a;this.Fd[c]!==d&&(this.Fd[c]=d,this.Ad(),this.b.ca=!0)}}},k.wv=function(a,b,c){if(this.b.n){var d=this.type.Bk(a);0>d||(a=this.type.F[d],d=this.ua[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.n.Ns(a.cb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Qa&&(this.b.ca=!0))))}})};Eb=function(){this.Zj=this.Ah=!0;this.type.Sm=!0;this.b.ca=
!0;var f,m,r=this.Uj;f=0;for(m=r.length;f<m;++f)r[f](this);this.i.Lc&&this.eb()};Fb=function(f){f&&this.Uj.push(f)};Hb=function(){if(this.Ah){var f=this.Xa,m=this.ef;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.wb*this.width,-this.xb*this.height);this.j?(f.offset(-this.x,-this.y),m.op(f,this.j),m.offset(this.x,this.y),m.$m(f)):m.fh(f);f.normalize();this.Ah=!1;this.Cu()}};var f=new sa(0,0,0,0);Ib=function(){if(this.i.Lc){var q=this.i.Mb,m=this.Xa;f.set(q.Rb(m.left),q.Sb(m.top),
q.Rb(m.right),q.Sb(m.bottom));this.zb.Sh(f)||(this.zb.right<this.zb.left?q.update(this,null,f):q.update(this,this.zb,f),this.zb.Jh(f),this.i.ud=!0)}};Jb=function(){if(this.Zj&&this.eg){this.eb();var q=this.type.hn,m=this.Xa;f.set(q.Rb(m.left),q.Sb(m.top),q.Rb(m.right),q.Sb(m.bottom));this.Od.Sh(f)||(this.Od.right<this.Od.left?q.update(this,null,f):q.update(this,this.Od,f),this.Od.Jh(f),this.Zj=!1)}};Gb=function(f,m){return this.Xa.ec(f,m)&&this.ef.ec(f,m)?this.Pc&&!this.Pc.qt()?(this.Pc.or(this.width,
this.height,this.j),this.Pc.ec(f-this.x,m-this.y)):!0:!1};Ab=function(){this.type.Bj();return this.Ce};Kb=function(){this.i.pm();return this.Mc};Lb=function(){this.U.length=0;var f,m;f=0;for(m=this.Fd.length;f<m;f++)this.Fd[f]&&this.U.push(this.type.F[f]);this.Mp=!!this.U.length};Bb=function(){return"Inst"+this.dp};nb=function(f){if(f&&f.Yb&&f.type!=this){var m,r,t;m=0;for(r=f.siblings.length;m<r;m++)if(t=f.siblings[m],t.type==this)return t}f=this.fa().Ec();return f.length?f[0]:null};ob=function(f){var m=
this.fa().Ec();return m.length?m[f.qg()%m.length]:null};mb=function(){if(this.Qf&&!this.A){var f,m;f=0;for(m=this.c.length;f<m;f++)this.c[f].Ce=f;var r=f,t=this.b.Qc;f=0;for(m=t.length;f<m;++f)t[f].type===this&&(t[f].Ce=r++);this.Qf=!1}};yb=function(f){if(f<this.c.length)return this.c[f];f-=this.c.length;var m=this.b.Qc,r,t;r=0;for(t=m.length;r<t;++r)if(m[r].type===this){if(0===f)return m[r];--f}return null};pb=function(){return this.ie[this.kd]};qb=function(){this.kd++;this.kd===this.ie.length?this.ie.push(new lb(this)):
this.ie[this.kd].ma=!0};rb=function(){this.kd++;this.kd===this.ie.length&&this.ie.push(new lb(this));var f=this.ie[this.kd],m=this.ie[this.kd-1];m.ma?f.ma=!0:(f.ma=!1,ya(f.c,m.c),ya(f.O,m.O))};sb=function(){this.kd--};tb=function(f){var m,r,t,c,a,b=0;if(!this.A)for(m=0,r=this.qa.length;m<r;m++)for(a=this.qa[m],t=0,c=a.Da.length;t<c;t++){if(f===a.Da[t].name)return this.X.lastBehIndex=b,a.Da[t];b++}m=0;for(r=this.Da.length;m<r;m++){if(f===this.Da[m].name)return this.X.lastBehIndex=b,this.Da[m];b++}return null};
vb=function(f){return this.di(f)?this.X.lastBehIndex:-1};wb=function(f){var m,r;m=0;for(r=this.F.length;m<r;m++)if(this.F[m].name===f)return m;return-1};xb=function(){if(this.Yb&&!this.A){var f,m,r,t,c,a,b;this.Bj();a=this.fa();var s=a.ma,l=(f=this.b.Hb())&&f.Cc&&f.Cc.Vc;f=0;for(m=this.Fb.length;f<m;f++)if(c=this.Fb[f],c!==this&&(c.Bj(),b=c.fa(),b.ma=s,!s)){b.c.length=a.c.length;r=0;for(t=a.c.length;r<t;r++)b.c[r]=c.Cn(a.c[r].Ce);if(l)for(b.O.length=a.O.length,r=0,t=a.O.length;r<t;r++)b.O[r]=c.Cn(a.O[r].Ce)}}};
zb=function(){return"Type"+this.M};Yb=function(f,m,r){if("undefined"===typeof f||"undefined"===typeof r)return!1;switch(m){case 0:return f===r;case 1:return f!==r;case 2:return f<r;case 3:return f<=r;case 4:return f>r;case 5:return f>=r;default:return!1}}})();
var gc={tint:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float red;\nuniform lowp float green;\nuniform lowp float blue;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = front * vec4(red, green, blue, 1.0);\n}",Vh:0,Wh:0,hk:!1,Sj:!1,I:[["red",0,1],["green",0,1],["blue",0,1]]}};function jc(f){this.b=f}
(function(){function f(a){a=Math.pow(10,a/20);0>a&&(a=0);1<a&&(a=1);return a}function q(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function m(a){a=a.toLowerCase();return T.hasOwnProperty(a)&&T[a].length?T[a][0].Ub():A.destination}function r(){return A.createGain?A.createGain():A.createGainNode()}function t(a){return A.createDelay?A.createDelay(a):A.createDelayNode(a)}function c(a){a.start?a.start(0):a.noteOn(0)}function a(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function b(a){try{a.stop?
a.stop(0):a.noteOff(0)}catch(b){}}function s(a,b,c,d,e,g){this.type="filter";this.Ic=[a,b,c,d,e,g];this.N=r();this.D=r();this.D.gain.value=g;this.B=r();this.B.gain.value=1-g;this.Ea=A.createBiquadFilter();this.Ea.type="number"===typeof this.Ea.type?a:tc[a];this.Ea.frequency.value=b;this.Ea.detune&&(this.Ea.detune.value=c);this.Ea.Q.value=d;this.Ea.gain.value=e;this.N.connect(this.Ea);this.N.connect(this.B);this.Ea.connect(this.D)}function l(a,b,c){this.type="delay";this.Ic=[a,b,c];this.N=r();this.D=
r();this.D.gain.value=c;this.B=r();this.B.gain.value=1-c;this.Qg=r();this.ic=t(a);this.ic.delayTime.value=a;this.Qh=r();this.Qh.gain.value=b;this.N.connect(this.Qg);this.N.connect(this.B);this.Qg.connect(this.D);this.Qg.connect(this.ic);this.ic.connect(this.Qh);this.Qh.connect(this.Qg)}function d(a,b,c,d){this.type="convolve";this.Ic=[b,c,d];this.N=r();this.D=r();this.D.gain.value=c;this.B=r();this.B.gain.value=1-c;this.re=A.createConvolver();a&&(this.re.normalize=b,this.re.buffer=a);this.N.connect(this.re);
this.N.connect(this.B);this.re.connect(this.D)}function k(a,b,d,e,g){this.type="flanger";this.Ic=[a,b,d,e,g];this.N=r();this.B=r();this.B.gain.value=1-g/2;this.D=r();this.D.gain.value=g/2;this.Yh=r();this.Yh.gain.value=e;this.ic=t(a+b);this.ic.delayTime.value=a;this.Ta=A.createOscillator();this.Ta.frequency.value=d;this.Lb=r();this.Lb.gain.value=b;this.N.connect(this.ic);this.N.connect(this.B);this.ic.connect(this.D);this.ic.connect(this.Yh);this.Yh.connect(this.ic);this.Ta.connect(this.Lb);this.Lb.connect(this.ic.delayTime);
c(this.Ta)}function n(a,b,d,e,g,k){this.type="phaser";this.Ic=[a,b,d,e,g,k];this.N=r();this.B=r();this.B.gain.value=1-k/2;this.D=r();this.D.gain.value=k/2;this.Ea=A.createBiquadFilter();this.Ea.type="number"===typeof this.Ea.type?7:"allpass";this.Ea.frequency.value=a;this.Ea.detune&&(this.Ea.detune.value=b);this.Ea.Q.value=d;this.Ta=A.createOscillator();this.Ta.frequency.value=g;this.Lb=r();this.Lb.gain.value=e;this.N.connect(this.Ea);this.N.connect(this.B);this.Ea.connect(this.D);this.Ta.connect(this.Lb);
this.Lb.connect(this.Ea.frequency);c(this.Ta)}function g(a){this.type="gain";this.Ic=[a];this.R=r();this.R.gain.value=a}function p(a,b){this.type="tremolo";this.Ic=[a,b];this.R=r();this.R.gain.value=1-b/2;this.Ta=A.createOscillator();this.Ta.frequency.value=a;this.Lb=r();this.Lb.gain.value=b/2;this.Ta.connect(this.Lb);this.Lb.connect(this.R.gain);c(this.Ta)}function u(a,b){this.type="ringmod";this.Ic=[a,b];this.N=r();this.D=r();this.D.gain.value=b;this.B=r();this.B.gain.value=1-b;this.bh=r();this.bh.gain.value=
0;this.Ta=A.createOscillator();this.Ta.frequency.value=a;this.Ta.connect(this.bh.gain);c(this.Ta);this.N.connect(this.bh);this.N.connect(this.B);this.bh.connect(this.D)}function h(a,b,c,d,e){this.type="distortion";this.Ic=[a,b,c,d,e];this.N=r();this.$i=r();this.Zi=r();this.ku(c,Math.pow(10,d/20));this.D=r();this.D.gain.value=e;this.B=r();this.B.gain.value=1-e;this.Dj=A.createWaveShaper();this.Oh=new Float32Array(65536);this.Bs(a,b);this.Dj.Oh=this.Oh;this.N.connect(this.$i);this.N.connect(this.B);
this.$i.connect(this.Dj);this.Dj.connect(this.Zi);this.Zi.connect(this.D)}function e(a,b,c,d,e){this.type="compressor";this.Ic=[a,b,c,d,e];this.R=A.createDynamicsCompressor();try{this.R.threshold.value=a,this.R.knee.value=b,this.R.ratio.value=c,this.R.attack.value=d,this.R.release.value=e}catch(g){}}function v(a,b){this.type="analyser";this.Ic=[a,b];this.R=A.createAnalyser();this.R.fftSize=a;this.R.smoothingTimeConstant=b;this.zs=new Float32Array(this.R.frequencyBinCount);this.rp=new Uint8Array(a);
this.Xg=0}function C(){this.C=null;this.Hi=0;this.je=[];this.ul=this.yi=this.xi=0}function N(a,b){this.src=a;this.H=D;this.Gc=b;this.Qm=!1;var c=this;this.sl=this.Gl=null;this.Ff=[];this.fj=0;this.wm=this.pk=this.wp=this.Wi=!1;1===D&&b&&(this.H=0,this.Gl=r());this.pe=this.Z=null;var d;switch(this.H){case 0:this.Z=new Audio;this.Z.addEventListener("canplaythrough",function(){c.wm=!0});1===D&&A.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.wp=!0,this.Z.addEventListener("canplay",
function(){c.sl||(c.sl=A.createMediaElementSource(c.Z),c.sl.connect(c.Gl))}));this.Z.autoplay=!1;this.Z.Rv="auto";this.Z.src=a;break;case 1:d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){c.pe=d.response;c.wr()};d.onerror=function(){c.pk=!0};d.send();break;case 2:this.Z=!0;break;case 3:this.Z=!0}}function w(a,b){var c=this;this.tag=b;this.Pb=this.Sc=!0;this.src=a.src;this.buffer=a;this.H=D;this.Gc=a.Gc;this.playbackRate=1;this.ek=!0;this.nc=this.vd=!1;this.Ab=
0;this.Ag=this.tf=this.Uc=!1;this.volume=1;this.Ge=1===O&&!this.Gc||2===O;this.Cf=1;this.startTime=this.Ge?B.yb.V:B.dd.V;this.Aa=this.Ga=null;this.Wc=!1;this.za=null;this.Qo=this.Po=this.Oo=this.No=this.So=this.Ro=0;this.e=null;var d=!1;1!==this.H||0!==this.buffer.H||this.buffer.wp||(this.H=0);switch(this.H){case 0:this.Gc?(this.e=a.Z,d=!a.Qm,a.Qm=!0):(this.e=new Audio,this.e.autoplay=!1,this.e.src=a.Z.src,d=!0);d&&this.e.addEventListener("ended",function(){K=c.tag;c.Pb=!0;B.trigger(jc.prototype.d.Ij,
ca)});break;case 1:this.Ga=r();this.Ga.connect(m(b));1===this.buffer.H?a.Z&&(this.e=A.createBufferSource(),this.e.buffer=a.Z,this.e.connect(this.Ga)):(this.e=this.buffer.Z,this.buffer.Gl.connect(this.Ga));break;case 2:this.e=new window.Media(J+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.ek=!0,c.Pb=!0,K=c.tag,B.trigger(jc.prototype.d.Ij,ca))});break;case 3:this.e=!0}}function P(a,b){T.hasOwnProperty(a)?T[a].push(b):T[a]=[b];var c,d,e,g,k=A.destination;if(T.hasOwnProperty(a)&&
(e=T[a],e.length))for(k=e[0].Ub(),c=0,d=e.length;c<d;c++)g=e[c],c+1===d?g.cc(A.destination):g.cc(e[c+1].Ub());Ia.length=0;if(a.length)for(c=0,d=E.length;c<d;c++)e=E[c],hb(a,e.tag)&&Ia.push(e);else x&&!x.Be()&&(Ia.length=1,Ia[0]=x);c=0;for(d=Ia.length;c<d;c++)Ia[c].Zt(k);Ea&&ub===a&&(Ea.disconnect(),Ea.connect(k))}function F(){}function y(){}var Z=jc.prototype;Z.ra=function(a){this.ha=a;this.b=a.b};Z.ra.prototype.S=function(){};var B=null,ca=null,K="",J="",D=0,A=null,Q=[],E=[],x=null,z=!1,O=0,G=!1,
I=1,H=0,fa=0,L=1,la=1,ha=10,ta=1E4,ua=1,Ea=null,ub="",Oa=!1,Pa=[],T={},tc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");s.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};s.prototype.remove=function(){this.N.disconnect();this.Ea.disconnect();this.D.disconnect();this.B.disconnect()};s.prototype.Ub=function(){return this.N};l.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};
l.prototype.remove=function(){this.N.disconnect();this.Qg.disconnect();this.ic.disconnect();this.Qh.disconnect();this.D.disconnect();this.B.disconnect()};l.prototype.Ub=function(){return this.N};d.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};d.prototype.remove=function(){this.N.disconnect();this.re.disconnect();this.D.disconnect();this.B.disconnect()};d.prototype.Ub=function(){return this.N};k.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);
this.D.disconnect();this.D.connect(a)};k.prototype.remove=function(){this.N.disconnect();this.ic.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect();this.Yh.disconnect()};k.prototype.Ub=function(){return this.N};n.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);this.D.disconnect();this.D.connect(a)};n.prototype.remove=function(){this.N.disconnect();this.Ea.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect()};
n.prototype.Ub=function(){return this.N};g.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};g.prototype.remove=function(){this.R.disconnect()};g.prototype.Ub=function(){return this.R};p.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};p.prototype.remove=function(){this.Ta.disconnect();this.Lb.disconnect();this.R.disconnect()};p.prototype.Ub=function(){return this.R};u.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};
u.prototype.remove=function(){this.Ta.disconnect();this.bh.disconnect();this.N.disconnect();this.D.disconnect();this.B.disconnect()};u.prototype.Ub=function(){return this.N};h.prototype.ku=function(a,b){.01>a&&(a=.01);this.$i.gain.value=a;this.Zi.gain.value=Math.pow(1/a,.6)*b};h.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};h.prototype.Bs=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,g=0;32768>g;++g)e=
g/32768,e=this.shape(e,c,d),this.Oh[32768+g]=e,this.Oh[32768-g-1]=-e};h.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};h.prototype.remove=function(){this.N.disconnect();this.$i.disconnect();this.Dj.disconnect();this.Zi.disconnect();this.D.disconnect();this.B.disconnect()};h.prototype.Ub=function(){return this.N};e.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};e.prototype.remove=function(){this.R.disconnect()};e.prototype.Ub=
function(){return this.R};v.prototype.Pa=function(){this.R.getFloatFrequencyData(this.zs);this.R.getByteTimeDomainData(this.rp);for(var a=this.R.fftSize,b=0,c=this.Xg=0,d=0;b<a;b++)d=(this.rp[b]-128)/128,0>d&&(d=-d),this.Xg<d&&(this.Xg=d),c+=d*d;this.Xg=q(this.Xg);q(Math.sqrt(c/a))};v.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};v.prototype.remove=function(){this.R.disconnect()};v.prototype.Ub=function(){return this.R};C.prototype.dh=function(a){if(this.C=a)this.xi=this.C.x,this.yi=
this.C.y;this.je.length=0};C.prototype.li=function(){return!!this.C};C.prototype.Pa=function(a){this.C&&0!==a&&(this.ul=Ja(this.xi,this.yi,this.C.x,this.C.y),a=Sa(this.xi,this.yi,this.C.x,this.C.y)/a,4>this.je.length||this.je.shift(),this.je.push(a),this.xi=this.C.x,this.yi=this.C.y)};C.prototype.Gn=function(){if(!this.je.length)return 0;var a,b,c=0;a=0;for(b=this.je.length;a<b;a++)c+=this.je[a];return c/this.je.length};C.prototype.Fk=function(){return Math.cos(this.ul)*this.Gn()};C.prototype.Gk=
function(){return Math.sin(this.ul)*this.Gn()};var qc=!1;N.prototype.wr=function(){if(!this.Z&&this.pe){var a=this;if(A.decodeAudioData)A.decodeAudioData(this.pe,function(b){a.Z=b;a.pe=null;var c,d,e;if(ga(a.Xi)||G)ga(a.Ih)||(c=a.Ih.re,c.normalize=a.Co,c.buffer=b);else if(a.Ff.length){c=0;for(d=a.Ff.length;c<d;c++){b=a.Ff[c];e=new w(a,b.yp);e.gj(!0);if("undefined"!==typeof b.Eo&&(b.C=B.fi(b.Eo),!b.C))continue;if(b.C){var g=Na(b.C.x,b.C.y,-b.C.i.Ra(),H,fa,!0),k=Na(b.C.x,b.C.y,-b.C.i.Ra(),H,fa,!1);
e.Zl(g,k,Ca(b.C.j-b.C.i.Ra()),b.Mk,b.wl,b.zl);e.dh(b.C)}else e.Zl(b.x,b.y,b.Zq,b.Mk,b.wl,b.zl);e.play(a.ol,a.um,a.fj);a.Wi&&e.pause();E.push(e)}a.Ff.length=0}else e=new w(a,a.Xi),e.play(a.ol,a.um,a.fj),a.Wi&&e.pause(),E.push(e)},function(){a.pk=!0});else if(this.Z=A.createBuffer(this.pe,!1),this.pe=null,ga(this.Xi)||G)ga(this.Ih)||(b=this.Ih.re,b.normalize=this.Co,b.buffer=this.Z);else{var b=new w(this,this.Xi);b.play(this.ol,this.um,this.fj);this.Wi&&b.pause();E.push(b)}}};N.prototype.Qn=function(){switch(this.H){case 0:var a=
4<=this.Z.readyState;a&&(this.wm=!0);return a||this.wm;case 1:return!!this.pe||!!this.Z;case 2:return!0;case 3:return!0}return!1};N.prototype.nt=function(){switch(this.H){case 0:return this.Qn();case 1:return!!this.Z;case 2:return!0;case 3:return!0}return!1};N.prototype.et=function(){switch(this.H){case 0:return!!this.Z.error;case 1:return this.pk}return!1};w.prototype.Be=function(){var a;switch(this.H){case 0:return this.e.ended;case 1:if(1===this.buffer.H){if(!this.Sc&&!this.Pb&&this.e.loop||this.nc)return!1;
a=this.Ge?B.yb.V:B.dd.V;var b=this.playbackRate;0===b&&(b=1E-6);return a-this.startTime>this.buffer.Z.duration/b}return this.e.ended;case 2:return this.ek;case 3:!0}return!0};w.prototype.pr=function(){return this.Sc||this.Pb?!0:this.Be()};w.prototype.gj=function(a){1===D&&(!this.Wc&&a?this.Ga&&(this.Aa||(this.Aa=A.createPanner(),this.Aa.panningModel="number"===typeof this.Aa.panningModel?L:["equalpower","HRTF","soundfield"][L],this.Aa.distanceModel="number"===typeof this.Aa.distanceModel?la:["linear",
"inverse","exponential"][la],this.Aa.refDistance=ha,this.Aa.maxDistance=ta,this.Aa.rolloffFactor=ua),this.Ga.disconnect(),this.Ga.connect(this.Aa),this.Aa.connect(m(this.tag)),this.Wc=!0):this.Wc&&!a&&this.Ga&&(this.Aa.disconnect(),this.Ga.disconnect(),this.Ga.connect(m(this.tag)),this.Wc=!1))};w.prototype.Zl=function(a,b,c,d,e,g){this.Wc&&1===D&&(this.Aa.setPosition(a,b,0),this.Aa.setOrientation(Math.cos(V(c)),Math.sin(V(c)),0),this.Aa.coneInnerAngle=d,this.Aa.coneOuterAngle=e,this.Aa.coneOuterGain=
g,this.Ro=a,this.So=b,this.No=c,this.Oo=d,this.Po=e,this.Qo=g)};w.prototype.dh=function(a){this.Wc&&1===D&&(this.za||(this.za=new C),this.za.dh(a))};w.prototype.Pa=function(a){if(this.Wc&&1===D&&this.za&&this.za.li()&&this.pf()){this.za.Pa(a);a=this.za.C;var b=Na(a.x,a.y,-a.i.Ra(),H,fa,!0),c=Na(a.x,a.y,-a.i.Ra(),H,fa,!1);this.Aa.setPosition(b,c,0);b=0;"undefined"!==typeof this.za.C.j&&(b=a.j-a.i.Ra(),this.Aa.setOrientation(Math.cos(b),Math.sin(b),0));b=Na(this.za.Fk(),this.za.Gk(),-a.i.Ra(),0,0,!0);
c=Na(this.za.Fk(),this.za.Gk(),-a.i.Ra(),0,0,!1);this.Aa.setVelocity(b,c,0)}};w.prototype.play=function(b,d,e){var g=this.e;this.Uc=b;this.volume=d;e=e||0;switch(this.H){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==d*I&&(g.volume=d*I);g.loop!==b&&(g.loop=b);g.muted&&(g.muted=!1);if(g.currentTime!==e)try{g.currentTime=e}catch(k){}if(this.Gc&&Oa&&!B.ya)Pa.push(this);else try{this.e.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+
"': ",h)}break;case 1:this.muted=!1;this.Cf=1;if(1===this.buffer.H)this.Ga.gain.value=d*I,this.Sc||(this.e=A.createBufferSource(),this.e.buffer=this.buffer.Z,this.e.connect(this.Ga)),this.e.loop=b,0===e?c(this.e):a(this.e,e,this.ze());else{1!==g.playbackRate&&(g.playbackRate=1);g.loop!==b&&(g.loop=b);g.volume=d*I;if(g.currentTime!==e)try{g.currentTime=e}catch(l){}this.Gc&&Oa&&!B.ya?Pa.push(this):g.play()}break;case 2:(!this.Sc&&this.Pb||0!==e)&&g.seekTo(e);g.play();this.ek=!1;break;case 3:B.$a?AppMobi.context.playSound(this.src,
b):AppMobi.player.playSound(this.src,b)}this.playbackRate=1;this.startTime=(this.Ge?B.yb.V:B.dd.V)-e;this.nc=this.Pb=this.Sc=!1};w.prototype.stop=function(){switch(this.H){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.H?b(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:B.$a&&AppMobi.context.stopSound(this.src)}this.Pb=!0;this.nc=!1};w.prototype.pause=function(){if(!(this.Sc||this.Pb||this.Be()||this.nc)){switch(this.H){case 0:this.e.paused||this.e.pause();
break;case 1:1===this.buffer.H?(this.Ab=this.Dk(),this.Uc&&(this.Ab%=this.ze()),b(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:B.$a&&AppMobi.context.stopSound(this.src)}this.nc=!0}};w.prototype.bu=function(){if(!(this.Sc||this.Pb||this.Be())&&this.nc){switch(this.H){case 0:this.e.play();break;case 1:1===this.buffer.H?(this.e=A.createBufferSource(),this.e.buffer=this.buffer.Z,this.e.connect(this.Ga),this.e.loop=this.Uc,this.Ga.gain.value=I*this.volume*this.Cf,this.startTime=
(this.Ge?B.yb.V:B.dd.V)-this.Ab,a(this.e,this.Ab,this.ze())):this.e.play();break;case 2:this.e.play();break;case 3:B.$a&&AppMobi.context.resumeSound(this.src)}this.nc=!1}};w.prototype.seek=function(a){if(!(this.Sc||this.Pb||this.Be()))switch(this.H){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.H)this.nc?this.Ab=a:(this.pause(),this.Ab=a,this.bu());else try{this.e.currentTime=a}catch(c){}break;case 3:B.$a&&AppMobi.context.seekSound(this.src,a)}};w.prototype.Zt=function(a){1===
this.H&&(this.Wc?(this.Aa.disconnect(),this.Aa.connect(a)):(this.Ga.disconnect(),this.Ga.connect(a)))};w.prototype.ze=function(){switch(this.H){case 0:if("undefined"!==typeof this.e.duration)return this.e.duration;break;case 1:return this.buffer.Z.duration;case 2:return this.e.getDuration();case 3:if(B.$a)return AppMobi.context.getDurationSound(this.src)}return 0};w.prototype.Dk=function(){var a=this.ze(),b=0;switch(this.H){case 0:"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;
case 1:if(1===this.buffer.H){if(this.nc)return this.Ab;b=(this.Ge?B.yb.V:B.dd.V)-this.startTime}else"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case 3:B.$a&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Uc&&b>a&&(b=a);return b};w.prototype.pf=function(){return!this.nc&&!this.Sc&&!this.Pb&&!this.Be()};w.prototype.zu=function(){var a=this.volume*I;switch(this.H){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case 1:1===this.buffer.H?
this.Ga.gain.value=a*this.Cf:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a)}};w.prototype.Rh=function(a){switch(this.H){case 0:this.e.muted!==!!a&&(this.e.muted=!!a);break;case 1:1===this.buffer.H?(this.Cf=a?0:1,this.Ga.gain.value=I*this.volume*this.Cf):this.e.muted!==!!a&&(this.e.muted=!!a)}};w.prototype.mu=function(){this.tf=!0;this.Rh(this.tf||this.Ag)};w.prototype.mp=function(a){this.Ag=!!a;this.Rh(this.tf||this.Ag)};w.prototype.Lp=function(){var a=this.playbackRate;
this.Ge&&(a*=B.We);switch(this.H){case 0:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case 1:1===this.buffer.H?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};w.prototype.ou=function(c){switch(this.H){case 0:c?this.pf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play();break;case 1:c?this.pf()?(1===this.buffer.H?(this.Ab=this.Dk(),this.Uc&&(this.Ab%=this.ze()),b(this.e)):this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&
(1===this.buffer.H?(this.e=A.createBufferSource(),this.e.buffer=this.buffer.Z,this.e.connect(this.Ga),this.e.loop=this.Uc,this.Ga.gain.value=I*this.volume*this.Cf,this.startTime=(this.Ge?B.yb.V:B.dd.V)-this.Ab,a(this.e,this.Ab,this.ze())):this.e.play());break;case 2:c?this.pf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play()}};Z.ka=function(a){this.type=a;B=this.b=a.b;ca=this;this.jb=null;this.Ig=-600;!(this.b.ti||this.b.mi&&(this.b.wg||this.b.ni))||this.b.xg||this.b.ga||this.b.Xk||
(Oa=!0);A=null;"undefined"!==typeof AudioContext?(D=1,A=new AudioContext):"undefined"!==typeof webkitAudioContext&&(D=1,A=new webkitAudioContext);(this.b.ti&&1===D||Oa)&&document.addEventListener("touchstart",function(){var a,b,d;!qc&&A&&(a=A.createBuffer(1,1,22050),b=A.createBufferSource(),b.buffer=a,b.connect(A.destination),c(b),qc=!0);if(Oa){if(!G)for(a=0,b=Pa.length;a<b;++a)d=Pa[a],d.Pb||d.nc||d.e.play();Pa.length=0}},!0);1!==D&&(this.b.Xb&&"undefined"!==typeof window.Media?D=2:this.b.of&&(D=
3));2===D&&(J=location.href,a=J.lastIndexOf("/"),-1<a&&(J=J.substr(0,a+1)),J=J.replace("file://",""));if(this.b.Rn&&this.b.ot&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Dd(this);else{if(this.b.$a)z=this.b.mi;else try{z=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){z=!1}this.b.rh(this)}};var ma=Z.ka.prototype;ma.S=function(){this.b.df=this;O=this.Y[0];this.wd=this.Y[1];
this.Pt=0!==this.Y[2];L=this.Y[3];la=this.Y[4];this.Ig=-this.Y[5];ha=this.Y[6];ta=this.Y[7];ua=this.Y[8];this.jb=new C;var a=this.b.L||this.b.width,b=this.b.K||this.b.height;1===D&&("undefined"!==typeof A.listener.dopplerFactor&&(A.listener.dopplerFactor=0),A.listener.setPosition(a/2,b/2,this.Ig),A.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ea&&Ea.disconnect();ub=b.toLowerCase();Ea=A.createMediaStreamSource(a);Ea.connect(m(ub))});this.b.Pm(function(a){ca.Mt(a)});
var c=this;this.b.dr(function(a){c.It(a)})};ma.It=function(a){var b,c,d;b=0;for(c=E.length;b<c;b++)d=E[b],d.za&&d.za.C===a&&(d.za.C=null,d.Wc&&d.pf()&&d.Uc&&d.stop());this.jb.C===a&&(this.jb.C=null)};ma.mb=function(){var a={silent:G,masterVolume:I,listenerZ:this.Ig,listenerUid:this.jb.li()?this.jb.C.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,g,k,h;c=0;for(d=E.length;c<d;c++)e=E[c],!e.pf()||3===this.wd||e.Gc&&1===this.wd||!e.Gc&&2===this.wd||(g=e.Dk(),e.Uc&&(g%=e.ze()),g={tag:e.tag,buffersrc:e.buffer.src,
is_music:e.Gc,playbackTime:g,volume:e.volume,looping:e.Uc,muted:e.tf,playbackRate:e.playbackRate,paused:e.nc,resume_position:e.Ab},e.Wc&&(g.pan={},h=g.pan,e.za&&e.za.li()?h.objUid=e.za.C.uid:(h.x=e.Ro,h.y=e.So,h.a=e.No),h.ia=e.Oo,h.oa=e.Po,h.og=e.Qo),b.push(g));b=a.effects;for(k in T)if(T.hasOwnProperty(k)){e=[];c=0;for(d=T[k].length;c<d;c++)e.push({type:T[k][c].type,params:T[k][c].Ic});b[k]=e}return a};var Qa=[];ma.Kb=function(a){var b=a.silent;I=a.masterVolume;this.Ig=a.listenerZ;this.jb.dh(null);
var c=a.listenerUid;-1!==c&&(this.jb.Hi=c,Qa.push(this.jb));var c=a.playing,f,t,m,r,q,w,B,N,F,y,x;if(3!==this.wd)for(f=0,t=E.length;f<t;f++)F=E[f],F.Gc&&1===this.wd||(F.Gc||2!==this.wd)&&F.stop();for(q in T)if(T.hasOwnProperty(q))for(f=0,t=T[q].length;f<t;f++)T[q][f].remove();Va(T);for(q in a.effects)if(a.effects.hasOwnProperty(q))for(w=a.effects[q],f=0,t=w.length;f<t;f++)switch(m=w[f].type,y=w[f].params,m){case "filter":P(q,new s(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":P(q,new l(y[0],
y[1],y[2]));break;case "convolve":m=y[2];F=this.ci(m,!1);F.Z?m=new d(F.Z,y[0],y[1],m):(m=new d(null,y[0],y[1],m),F.Co=y[0],F.Ih=m);P(q,m);break;case "flanger":P(q,new k(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":P(q,new n(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":P(q,new g(y[0]));break;case "tremolo":P(q,new p(y[0],y[1]));break;case "ringmod":P(q,new u(y[0],y[1]));break;case "distortion":P(q,new h(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":P(q,new e(y[0],y[1],y[2],y[3],y[4]));
break;case "analyser":P(q,new v(y[0],y[1]))}f=0;for(t=c.length;f<t;f++)3===this.wd||(a=c[f],m=a.buffersrc,r=a.is_music,q=a.tag,w=a.playbackTime,B=a.looping,N=a.volume,x=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,r&&1===this.wd)||!r&&2===this.wd||((F=this.wk(m,q,r,B,N))?(F.Ab=a.resume_position,F.gj(!!y),F.play(B,N,w),F.Lp(),F.zu(),F.Rh(F.tf||F.Ag),a.paused&&F.pause(),a.muted&&F.mu(),F.Rh(F.tf||F.Ag),y&&(-1!==x?(F.za=F.za||new C,F.za.Hi=x,Qa.push(F.za)):F.Zl(y.x,y.y,y.a,y.ia,y.oa,y.og))):(F=
this.ci(m,r),F.fj=w,F.Wi=a.paused,y&&(-1!==x?F.Ff.push({Eo:x,Mk:y.ia,wl:y.oa,zl:y.og,yp:q}):F.Ff.push({x:y.x,y:y.y,Zq:y.a,Mk:y.ia,wl:y.oa,zl:y.og,yp:q}))));if(b&&!G){f=0;for(t=E.length;f<t;f++)E[f].mp(!0);G=!0}else if(!b&&G){f=0;for(t=E.length;f<t;f++)E[f].mp(!1);G=!1}};ma.Gd=function(){var a,b,c,d;a=0;for(b=Qa.length;a<b;a++)c=Qa[a],d=this.b.fi(c.Hi),c.dh(d),c.Hi=-1,d&&(H=d.x,fa=d.y);Qa.length=0};ma.Mt=function(a){if(!this.Pt){!a&&A&&A.resume&&A.resume();var b,c;b=0;for(c=E.length;b<c;b++)E[b].ou(a);
a&&A&&A.suspend&&A.suspend()}};ma.Pa=function(){var a=this.b.ve,b,c,d;b=0;for(c=E.length;b<c;b++)d=E[b],d.Pa(a),0===d.H||3===d.H||d.Sc||d.Pb||!d.Be()||(d.Pb=!0,K=d.tag,B.trigger(jc.prototype.d.Ij,ca)),0!==O&&d.Lp();var e,g;for(e in T)if(T.hasOwnProperty(e))for(d=T[e],b=0,c=d.length;b<c;b++)g=d[b],g.Pa&&g.Pa();1===D&&this.jb.li()&&(this.jb.Pa(a),H=this.jb.C.x,fa=this.jb.C.y,A.listener.setPosition(this.jb.C.x,this.jb.C.y,this.Ig),A.listener.setVelocity(this.jb.Fk(),this.jb.Gk(),0))};var Ra=[];ma.nu=
function(a){var b,c,d,e,g,k=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(g=4<e.length&&".ogg"===e.substr(e.length-4))&&z||!g&&!z)Ra.push({filename:e,size:d,C:null}),k+=d;return k};ma.su=function(){var a,b,c,d;a=0;for(b=Ra.length;a<b;++a)c=Ra[a],d=this.b.Zh+c.filename,c.C=this.ci(d,!1)};ma.Ks=function(){var a=0,b,c,d;b=0;for(c=Ra.length;b<c;++b)d=Ra[b],d.C.nt()||d.C.et()||this.b.ga||this.b.ni?a+=d.size:d.C.Qn()&&(a+=Math.floor(d.size/2));return a};ma.ci=function(a,b){var c,d,e,g=null;c=
0;for(d=Q.length;c<d;c++)if(e=Q[c],e.src===a){g=e;break}g||(g=new N(a,b),Q.push(g));return g};ma.wk=function(a,b,c,d,e){var g,k,h;g=0;for(k=E.length;g<k;g++)if(h=E[g],h.src===a&&(h.pr()||c))return h.tag=b,h;a=this.ci(a,c);if(!a.Z)return"<preload>"!==b&&(a.Xi=b,a.ol=d,a.um=e),null;h=new w(a,b);E.push(h);return h};var Ia=[];F.prototype.Ij=function(a){return hb(K,a)};Z.d=new F;y.prototype.Play=function(a,b,c,d){!G&&(c=f(c),x=this.wk(this.b.Zh+a[0]+(z?".ogg":".m4a"),d,a[1],0!==b,c))&&(x.gj(!1),x.play(0!==
b,c))};y.prototype.Jq=function(a,b,c,d,e){!G&&(d=f(d),x=this.wk(this.b.Zh+b.toLowerCase()+(z?".ogg":".m4a"),e,1===a,0!==c,d))&&(x.gj(!1),x.play(0!==c,d))};Z.ba=new y;Z.Fa=new function(){}})();function kc(f){this.b=f}
(function(){function f(){}function q(){}function m(){}var r=kc.prototype;r.ra=function(f){this.ha=f;this.b=f.b};r.ra.prototype.S=function(){};r.ka=function(f){this.type=f;this.b=f.b};r.ka.prototype.S=function(){var f=this;window.addEventListener("resize",function(){f.b.trigger(kc.prototype.d.Eq,f)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){f.b.trigger(kc.prototype.d.Aq,f)}),window.addEventListener("offline",function(){f.b.trigger(kc.prototype.d.zq,f)}));
"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){f.b.zf=1;f.b.trigger(kc.prototype.d.Jm,f)}),window.applicationCache.addEventListener("progress",function(c){f.b.zf=c.loaded/c.total}));this.b.$a||(document.addEventListener("appMobi.device.update.available",function(){f.b.trigger(kc.prototype.d.Jm,f)}),document.addEventListener("backbutton",function(){f.b.trigger(kc.prototype.d.Gj,f)}),document.addEventListener("menubutton",function(){f.b.trigger(kc.prototype.d.Dm,
f)}),document.addEventListener("searchbutton",function(){f.b.trigger(kc.prototype.d.Fq,f)}),document.addEventListener("tizenhwkey",function(c){var a;switch(c.keyName){case "back":a=f.b.trigger(kc.prototype.d.Gj,f);!a&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(a=f.b.trigger(kc.prototype.d.Dm,f))||c.preventDefault()}}));this.b.oi&&(WinJS.Application.onbackclick=function(){return!!f.b.trigger(kc.prototype.d.Gj,f)});this.b.Pm(function(c){c?f.b.trigger(kc.prototype.d.Bq,
f):f.b.trigger(kc.prototype.d.Cq,f)});this.pi="undefined"!==typeof window.is_scirra_arcade};f.prototype.Aq=function(){return!0};f.prototype.zq=function(){return!0};f.prototype.Jm=function(){return!0};f.prototype.Cq=function(){return!0};f.prototype.Bq=function(){return!0};f.prototype.Eq=function(){return!0};f.prototype.Gj=function(){return!0};f.prototype.Dm=function(){return!0};f.prototype.Fq=function(){return!0};r.d=new f;q.prototype.aq=function(f,c){this.b.Wb?CocoonJS.App.openURL(f):this.b.mc?ejecta.openURL(f):
this.b.bl?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(f)):navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(f,{openExternal:!0}):this.b.Xb?window.open(f,"_system"):this.pi||this.b.ga||(2!==c||this.pi?1!==c||this.pi?window.location=f:window.parent.location=f:window.top.location=f)};q.prototype.Kq=function(){this.pi||this.b.ga||window.location.reload()};r.ba=new q;m.prototype.URL=function(f){f.bb(this.b.ga?"":window.location.toString())};r.Fa=new m})();
function lc(f){this.b=f}
(function(){function f(){}var q=lc.prototype;q.ra=function(f){this.ha=f;this.b=f.b};q.ra.prototype.S=function(){};q.ka=function(f){this.type=f;this.b=f.b;this.el=Array(256);this.Cj=Array(256);this.le=0};var m=q.ka.prototype;m.S=function(){var f=this;this.b.ga||(jQuery(document).keydown(function(c){f.Jt(c)}),jQuery(document).keyup(function(c){f.Kt(c)}))};var r=[32,33,34,35,36,37,38,39,40,44];m.Jt=function(f){var c=!1;window!=window.top&&-1<r.indexOf(f.which)&&(f.preventDefault(),c=!0,f.stopPropagation());
if(this.el[f.which])this.Cj[f.which]&&!c&&f.preventDefault();else{this.el[f.which]=!0;this.le=f.which;this.b.ya=!0;this.b.trigger(lc.prototype.d.jq,this);var a=this.b.trigger(lc.prototype.d.tq,this),b=this.b.trigger(lc.prototype.d.Cm,this);this.b.ya=!1;if(a||b)this.Cj[f.which]=!0,c||f.preventDefault()}};m.Kt=function(f){this.el[f.which]=!1;this.le=f.which;this.b.ya=!0;this.b.trigger(lc.prototype.d.kq,this);var c=this.b.trigger(lc.prototype.d.vq,this),a=this.b.trigger(lc.prototype.d.uq,this);this.b.ya=
!1;if(c||a||this.Cj[f.which])this.Cj[f.which]=!0,f.preventDefault()};m.mb=function(){return{triggerKey:this.le}};m.Kb=function(f){this.le=f.triggerKey};f.prototype.tq=function(f){return f===this.le};f.prototype.jq=function(){return!0};f.prototype.kq=function(){return!0};f.prototype.vq=function(f){return f===this.le};f.prototype.Cm=function(f){return f===this.le};f.prototype.uq=function(f){return f===this.le};q.d=new f;q.ba=new function(){};q.Fa=new function(){}})();function mc(f){this.b=f}
(function(){function f(){}function q(){}var m=mc.prototype;m.ra=function(c){this.ha=c;this.b=c.b};m.ra.prototype.S=function(){};m.ka=function(c){this.type=c;this.b=c.b;this.Bh=Array(4);this.Bp=this.xj=this.Sf=this.ae=this.$d=0;this.Jk=!1};var r=m.ka.prototype;r.S=function(){var c=this;if(!this.b.ga){jQuery(document).mousemove(function(a){c.Cl(a)});jQuery(document).mousedown(function(a){c.Bl(a)});jQuery(document).mouseup(function(a){c.Dl(a)});jQuery(document).dblclick(function(a){c.Ht(a)});var a=function(a){c.Nt(a)};
document.addEventListener("mousewheel",a,!1);document.addEventListener("DOMMouseScroll",a,!1)}};var t={left:0,top:0};r.Cl=function(c){var a=this.b.ga?t:jQuery(this.b.canvas).offset();this.$d=c.pageX-a.left;this.ae=c.pageY-a.top};r.yo=function(){return 0<this.b.tb?!0:0<=this.$d&&0<=this.ae&&this.$d<this.b.width&&this.ae<this.b.height};r.Bl=function(c){this.yo()&&(this.b.nf&&!this.b.qd&&c.preventDefault(),this.Bh[c.which]=!0,this.b.ya=!0,this.b.trigger(mc.prototype.d.iq,this),this.Sf=c.which-1,this.xj=
0,this.b.trigger(mc.prototype.d.Bm,this),this.b.trigger(mc.prototype.d.Lj,this),this.b.ya=!1)};r.Dl=function(c){this.Bh[c.which]&&(this.b.nf&&!this.b.qd&&c.preventDefault(),this.b.nf=!0,this.Bh[c.which]=!1,this.b.ya=!0,this.Sf=c.which-1,this.b.trigger(mc.prototype.d.Dq,this),this.b.ya=!1)};r.Ht=function(c){this.yo()&&(c.preventDefault(),this.b.ya=!0,this.Sf=c.which-1,this.xj=1,this.b.trigger(mc.prototype.d.Bm,this),this.b.trigger(mc.prototype.d.Lj,this),this.b.ya=!1)};r.Nt=function(c){this.Bp=0>(c.wheelDelta?
c.wheelDelta:c.detail?-c.detail:0)?0:1;this.Jk=!1;this.b.ya=!0;this.b.trigger(mc.prototype.d.Iq,this);this.b.ya=!1;this.Jk&&ib(c)&&c.preventDefault()};f.prototype.Bm=function(c,a){return c===this.Sf&&a===this.xj};f.prototype.iq=function(){return!0};f.prototype.Am=function(c){return this.Bh[c+1]};f.prototype.Dq=function(c){return c===this.Sf};f.prototype.Lj=function(c,a,b){return c!==this.Sf||a!==this.xj?!1:this.b.nh(b,this.$d,this.ae)};f.prototype.Iq=function(c){this.Jk=!0;return c===this.Bp};m.d=
new f;m.ba=new function(){};q.prototype.yh=function(c,a){var b,f,l,d,k;ga(a)?(b=this.b.od(0),f=b.scale,l=b.Db,d=b.rc,k=b.j,b.scale=1,b.Db=1,b.rc=1,b.j=0,c.q(b.Ya(this.$d,this.ae,!0)),b.scale=f,b.Db=l,b.rc=d,b.j=k):(b=R(a)?this.b.od(a):this.b.ng(a))?c.q(b.Ya(this.$d,this.ae,!0)):c.q(0)};q.prototype.Nj=function(c,a){var b,f,l,d,k;ga(a)?(b=this.b.od(0),f=b.scale,l=b.Db,d=b.tc,k=b.j,b.scale=1,b.Db=1,b.tc=1,b.j=0,c.q(b.Ya(this.$d,this.ae,!1)),b.scale=f,b.Db=l,b.tc=d,b.j=k):(b=R(a)?this.b.od(a):this.b.ng(a))?
c.q(b.Ya(this.$d,this.ae,!1)):c.q(0)};m.Fa=new q})();function nc(f){this.b=f}
(function(){function f(f){this.la=f;this.Qa=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.Hd=this.mf=this.size=this.ji=0}var q=nc.prototype;q.ra=function(f){this.ha=f;this.b=f.b};var m=q.ra.prototype;m.S=function(){this.A||(this.W=new Image,this.W.kn=this.gm,this.T=null,this.b.vm(this.W,this.tj))};m.Pi=function(){this.A||(this.T=null)};m.Ri=function(){this.A||!this.c.length||this.T||(this.T=this.b.n.xf(this.W,!0,this.b.P,this.qh))};m.jl=function(){this.A||this.T||!this.b.n||(this.T=this.b.n.xf(this.W,
!0,this.b.P,this.qh))};m.Aj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};m.aj=function(f){f.drawImage(this.W,0,0)};f.prototype.init=function(){var f=this.la;this.x=f.x-f.Ej/2+Math.random()*f.Ej;this.y=f.y-f.Fj/2+Math.random()*f.Fj;this.speed=f.Tk-f.nj/2+Math.random()*f.nj;this.j=f.j-f.oj/2+Math.random()*f.oj;this.opacity=f.Rk;this.size=f.Sk-f.lj/2+Math.random()*f.lj;this.ji=f.Ik-f.ki/2+Math.random()*f.ki;this.Hd=this.mf=0};f.prototype.Pa=function(f){var c=
this.la;this.x+=Math.cos(this.j)*this.speed*f;this.y+=Math.sin(this.j)*this.speed*f;this.y+=this.mf*f;this.speed+=c.Oj*f;this.size+=this.ji*f;this.mf+=c.vk*f;this.Hd+=f;1>this.size?this.Qa=!1:(0!==c.Fg&&(this.j+=Math.random()*c.Fg*f-c.Fg*f/2),0!==c.Hg&&(this.speed+=Math.random()*c.Hg*f-c.Hg*f/2),0!==c.Gg&&(this.opacity+=Math.random()*c.Gg*f-c.Gg*f/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=c.hf&&this.Hd>=c.timeout&&(this.Qa=!1),2===c.hf&&0>=this.speed&&(this.Qa=!1))};f.prototype.Dc=
function(f){var c=this.la.opacity*this.opacity;if(0!==c){0===this.la.hf&&(c*=1-this.Hd/this.la.timeout);f.globalAlpha=c;var c=this.x-this.size/2,a=this.y-this.size/2;this.la.b.Yc&&(c=c+.5|0,a=a+.5|0);f.drawImage(this.la.type.W,c,a,this.size,this.size)}};f.prototype.Gb=function(f){var c=this.la.opacity*this.opacity;0===this.la.hf&&(c*=1-this.Hd/this.la.timeout);var a=this.size,b=a*this.la.Vo,m=this.x-a/2,l=this.y-a/2;this.la.b.Yc&&(m=m+.5|0,l=l+.5|0);1>b||0===c||(b<f.Ct||b>f.ql?(f.Se(c),f.ah(m,l,m+
a,l,m+a,l+a,m,l+a)):f.Qt(this.x,this.y,b,c))};f.prototype.left=function(){return this.x-this.size/2};f.prototype.right=function(){return this.x+this.size/2};f.prototype.top=function(){return this.y-this.size/2};f.prototype.bottom=function(){return this.y+this.size/2};q.ka=function(f){this.type=f;this.b=f.b};var m=q.ka.prototype,r=[];m.S=function(){var f=this.Y;this.dj=f[0];this.oj=V(f[1]);this.Of=f[2];this.am=!0;this.Tk=f[3];this.Sk=f[4];this.Rk=f[5]/100;this.Ik=f[6];this.Ej=f[7];this.Fj=f[8];this.nj=
f[9];this.lj=f[10];this.ki=f[11];this.Oj=f[12];this.vk=f[13];this.Fg=f[14];this.Hg=f[15];this.Gg=f[16];this.hf=f[17];this.timeout=f[18];this.Qe=0;this.Vo=1;this.Ti=this.x;this.Vi=this.y;this.Ui=this.x;this.Si=this.y;this.fr(function(c){c.Xa.set(c.Ti,c.Vi,c.Ui,c.Si);c.ef.fh(c.Xa);c.Ah=!1;c.Bu()});this.vc||(this.lb=[]);this.b.rh(this);this.type.jl();if(1===this.Of)for(f=0;f<this.dj;f++)this.Pj().opacity=0;this.ai=!0};m.mb=function(){var f={r:this.dj,sc:this.oj,st:this.Of,s:this.am,isp:this.Tk,isz:this.Sk,
io:this.Rk,gr:this.Ik,xr:this.Ej,yr:this.Fj,spr:this.nj,szr:this.lj,grnd:this.ki,acc:this.Oj,g:this.vk,lar:this.Fg,lsr:this.Hg,lor:this.Gg,dm:this.hf,to:this.timeout,pcc:this.Qe,ft:this.ai,p:[]},c,a,b,m=f.p;c=0;for(a=this.lb.length;c<a;c++)b=this.lb[c],m.push([b.x,b.y,b.speed,b.j,b.opacity,b.ji,b.size,b.mf,b.Hd]);return f};m.Kb=function(f){this.dj=f.r;this.oj=f.sc;this.Of=f.st;this.am=f.s;this.Tk=f.isp;this.Sk=f.isz;this.Rk=f.io;this.Ik=f.gr;this.Ej=f.xr;this.Fj=f.yr;this.nj=f.spr;this.lj=f.szr;this.ki=
f.grnd;this.Oj=f.acc;this.vk=f.g;this.Fg=f.lar;this.Hg=f.lsr;this.Gg=f.lor;this.hf=f.dm;this.timeout=f.to;this.Qe=f.pcc;this.ai=f.ft;r.push.apply(r,this.lb);this.lb.length=0;var c,a,b,m=f.p;f=0;for(c=m.length;f<c;f++)a=this.Pj(),b=m[f],a.x=b[0],a.y=b[1],a.speed=b[2],a.j=b[3],a.opacity=b[4],a.ji=b[5],a.size=b[6],a.mf=b[7],a.Hd=b[8]};m.Tg=function(){r.push.apply(r,this.lb);this.lb.length=0};m.Pj=function(){var m;r.length?(m=r.pop(),m.la=this):m=new f(this);this.lb.push(m);m.Qa=!0;return m};m.Pa=function(){var f=
this.b.zk(this),c,a,b,m;if(0===this.Of&&this.am)for(this.Qe+=f*this.dj,a=U(this.Qe),this.Qe-=a,c=0;c<a;c++)b=this.Pj(),b.init();this.Ti=this.x;this.Vi=this.y;this.Ui=this.x;this.Si=this.y;m=c=0;for(a=this.lb.length;c<a;c++)b=this.lb[c],this.lb[m]=b,this.b.ca=!0,1===this.Of&&this.ai&&b.init(),b.Pa(f),b.Qa?(b.left()<this.Ti&&(this.Ti=b.left()),b.right()>this.Ui&&(this.Ui=b.right()),b.top()<this.Vi&&(this.Vi=b.top()),b.bottom()>this.Si&&(this.Si=b.bottom()),m++):r.push(b);this.lb.length=m;this.Na();
this.ai=!1;1===this.Of&&0===this.lb.length&&this.b.Dd(this)};m.Dc=function(f){var c,a,b,m=this.i;c=0;for(a=this.lb.length;c<a;c++)b=this.lb[c],b.right()>=m.na&&b.bottom()>=m.pa&&b.left()<=m.xa&&b.top()<=m.wa&&b.Dc(f)};m.Gb=function(f){this.Vo=this.i.kc();f.Nb(this.type.T);var c,a,b,m=this.i;c=0;for(a=this.lb.length;c<a;c++)b=this.lb[c],b.right()>=m.na&&b.bottom()>=m.pa&&b.left()<=m.xa&&b.top()<=m.wa&&b.Gb(f)};q.d=new function(){};q.ba=new function(){};q.Fa=new function(){}})();
function ic(f){this.b=f}
(function(){function f(){if(0===this.jk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Pf?b.drawImage(this.W,this.Df,this.Ef,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.W,0,0,this.width,this.height);this.jk=a.toDataURL("image/png")}return this.jk}function q(){}function m(){}var r=ic.prototype;r.ra=function(a){this.ha=a;this.b=a.b};var t=r.ra.prototype;t.S=function(){if(!this.A){var a,b,c,n,g,p,m,h,e;this.zc=
[];this.tg=!1;a=0;for(b=this.Eb.length;a<b;a++){g=this.Eb[a];m={};m.name=g[0];m.speed=g[1];m.loop=g[2];m.Ql=g[3];m.ej=g[4];m.Wo=g[5];m.M=g[6];m.frames=[];c=0;for(n=g[7].length;c<n;c++)p=g[7][c],h={},h.tj=p[0],h.gm=p[1],h.Df=p[2],h.Ef=p[3],h.width=p[4],h.height=p[5],h.duration=p[6],h.wb=p[7],h.xb=p[8],h.Nk=p[9],h.Yi=p[10],h.Xo=p[11],h.Pf=0!==h.width,h.jk="",h.Nv=f,e={left:0,top:0,right:1,bottom:1},h.$l=e,h.T=null,(e=this.b.xs(p[0]))?h.W=e:(h.W=new Image,h.W.sr=p[0],h.W.kn=p[1],h.W.nr=null,this.b.vm(h.W,
p[0])),m.frames.push(h),this.zc.push(h);this.Eb[a]=m}}};t.Kp=function(){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.Mh=c.fc.T};t.Pi=function(){if(!this.A){var a,b,c;a=0;for(b=this.zc.length;a<b;++a)c=this.zc[a],c.W.nr=null,c.T=null;this.tg=!1;this.Kp()}};t.Ri=function(){if(!this.A&&this.c.length){var a,b,c;a=0;for(b=this.zc.length;a<b;++a)c=this.zc[a],c.T=this.b.n.xf(c.W,!1,this.b.P,c.Xo);this.Kp()}};t.jl=function(){if(!this.A&&!this.tg&&this.b.n){var a,b,c;a=0;for(b=this.zc.length;a<
b;++a)c=this.zc[a],c.T=this.b.n.xf(c.W,!1,this.b.P,c.Xo);this.tg=!0}};t.Aj=function(){if(!this.A&&!this.c.length&&this.tg){var a,b,c;a=0;for(b=this.zc.length;a<b;++a)c=this.zc[a],this.b.n.deleteTexture(c.T),c.T=null;this.tg=!1}};var c=[];t.aj=function(a){var b,f,n;b=c.length=0;for(f=this.zc.length;b<f;++b)n=this.zc[b].W,-1===c.indexOf(n)&&(a.drawImage(n,0,0),c.push(n))};r.ka=function(a){this.type=a;this.b=a.b;a=this.type.Eb[0].frames[0].Yi;this.vc?this.Pc.gh(a):this.Pc=new bb(a)};var a=r.ka.prototype;
a.S=function(){this.visible=0===this.Y[0];this.Ok=this.al=!1;this.eg=0!==this.Y[3];1===this.type.Eb.length&&1===this.type.Eb[0].frames.length||0===this.type.Eb[0].speed||(this.b.rh(this),this.al=!0);this.ta=this.yn(this.Y[1])||this.type.Eb[0];this.u=this.Y[2];0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);var a=this.ta.frames[this.u];this.Pc.gh(a.Yi);this.wb=a.wb;this.xb=a.xb;this.hg=this.ta.speed;this.vc?this.Nc.reset():this.Nc=new $a;this.nd=this.Nc.V;this.oe=
!0;this.ed=0;this.ne=!0;this.bk=this.Rm="";this.qr=0;this.Dh=-1;this.type.jl();var b,c,f,g,p,m,h,a=0;for(b=this.type.Eb.length;a<b;a++)for(g=this.type.Eb[a],c=0,f=g.frames.length;c<f;c++)p=g.frames[c],0===p.width&&(p.width=p.W.width,p.height=p.W.height),p.Pf&&(h=p.W,m=p.$l,m.left=p.Df/h.width,m.top=p.Ef/h.height,m.right=(p.Df+p.width)/h.width,m.bottom=(p.Ef+p.height)/h.height,0===p.Df&&0===p.Ef&&p.width===h.width&&p.height===h.height&&(p.Pf=!1));this.fc=this.ta.frames[this.u];this.Mh=this.fc.T};a.mb=
function(){var a={a:this.ta.M,f:this.u,cas:this.hg,fs:this.nd,ar:this.ed,at:this.Nc.V};this.oe||(a.ap=this.oe);this.ne||(a.af=this.ne);return a};a.Kb=function(a){var b=this.Cs(a.a);b&&(this.ta=b);this.u=a.f;0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);this.hg=a.cas;this.nd=a.fs;this.ed=a.ar;this.Nc.reset();this.Nc.V=a.at;this.oe=a.hasOwnProperty("ap")?a.ap:!0;this.ne=a.hasOwnProperty("af")?a.af:!0;this.fc=this.ta.frames[this.u];this.Mh=this.fc.T;this.Pc.gh(this.fc.Yi);
this.wb=this.fc.wb;this.xb=this.fc.xb};a.Tj=function(a){this.u=a?0:this.ta.frames.length-1;this.oe=!1;this.Rm=this.ta.name;this.Ok=!0;this.b.trigger(ic.prototype.d.hq,this);this.b.trigger(ic.prototype.d.gq,this);this.Ok=!1;this.ed=0};a.Pv=function(){return this.Nc.V};a.Pa=function(){this.Nc.add(this.b.zk(this));this.bk.length&&this.Br();0<=this.Dh&&this.pn();var a=this.Nc.V,b=this.ta,c=b.frames[this.u],f=c.duration/this.hg;this.oe&&a>=this.nd+f&&(this.ne?this.u++:this.u--,this.nd+=f,this.u>=b.frames.length&&
(b.Wo?(this.ne=!1,this.u=b.frames.length-2):b.loop?this.u=b.ej:(this.ed++,this.ed>=b.Ql?this.Tj(!1):this.u=b.ej)),0>this.u&&(b.Wo?(this.u=1,this.ne=!0,b.loop||(this.ed++,this.ed>=b.Ql&&this.Tj(!0))):b.loop?this.u=b.ej:(this.ed++,this.ed>=b.Ql?this.Tj(!0):this.u=b.ej)),0>this.u?this.u=0:this.u>=b.frames.length&&(this.u=b.frames.length-1),a>this.nd+b.frames[this.u].duration/this.hg&&(this.nd=a),a=b.frames[this.u],this.$e(c,a),this.b.ca=!0)};a.yn=function(a){var b,c,f;b=0;for(c=this.type.Eb.length;b<
c;b++)if(f=this.type.Eb[b],hb(f.name,a))return f;return null};a.Cs=function(a){var b,c,f;b=0;for(c=this.type.Eb.length;b<c;b++)if(f=this.type.Eb[b],f.M===a)return f;return null};a.Br=function(){var a=this.ta.frames[this.u],b=this.yn(this.bk);this.bk="";!b||hb(b.name,this.ta.name)&&this.oe||(this.ta=b,this.hg=b.speed,0>this.u&&(this.u=0),this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1),1===this.qr&&(this.u=0),this.oe=!0,this.nd=this.Nc.V,this.ne=!0,this.$e(a,this.ta.frames[this.u]),
this.b.ca=!0)};a.pn=function(){var a=this.ta.frames[this.u],b=this.u;this.u=U(this.Dh);0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);b!==this.u&&(this.$e(a,this.ta.frames[this.u]),this.nd=this.Nc.V,this.b.ca=!0);this.Dh=-1};a.$e=function(a,b){var c=a.width,f=a.height,g=b.width,p=b.height;c!=g&&(this.width*=g/c);f!=p&&(this.height*=p/f);this.wb=b.wb;this.xb=b.xb;this.Pc.gh(b.Yi);this.Na();this.fc=b;this.Mh=b.T;c=0;for(f=this.G.length;c<f;c++)g=this.G[c],g.Lt&&
g.Lt(a,b);this.b.trigger(ic.prototype.d.$e,this)};a.Dc=function(a){a.globalAlpha=this.opacity;var b=this.fc,c=b.Pf,f=b.W,g=this.x,p=this.y,m=this.width,h=this.height;if(0===this.j&&0<=m&&0<=h)g-=this.wb*m,p-=this.xb*h,this.b.Yc&&(g=Math.round(g),p=Math.round(p)),c?a.drawImage(f,b.Df,b.Ef,b.width,b.height,g,p,m,h):a.drawImage(f,g,p,m,h);else{this.b.Yc&&(g=Math.round(g),p=Math.round(p));a.save();var e=0<m?1:-1,r=0<h?1:-1;a.translate(g,p);1===e&&1===r||a.scale(e,r);a.rotate(this.j*e*r);g=0-this.wb*ka(m);
p=0-this.xb*ka(h);c?a.drawImage(f,b.Df,b.Ef,b.width,b.height,g,p,ka(m),ka(h)):a.drawImage(f,g,p,ka(m),ka(h));a.restore()}};a.Gb=function(a){a.Nb(this.Mh);a.Se(this.opacity);var b=this.fc,c=this.ef;if(this.b.Yc){var f=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;b.Pf?a.de(c.Va+f,c.Wa+g,c.Bb+f,c.Cb+g,c.qb+f,c.rb+g,c.ob+f,c.pb+g,b.$l):a.ah(c.Va+f,c.Wa+g,c.Bb+f,c.Cb+g,c.qb+f,c.rb+g,c.ob+f,c.pb+g)}else b.Pf?a.de(c.Va,c.Wa,c.Bb,c.Cb,c.qb,c.rb,c.ob,c.pb,b.$l):a.ah(c.Va,c.Wa,c.Bb,c.Cb,c.qb,c.rb,
c.ob,c.pb)};a.Gs=function(a){var b=this.fc,c,f;c=0;for(f=b.Nk.length;c<f;c++)if(hb(a,b.Nk[c][0]))return c;return-1};a.Ck=function(a,b){var c=this.fc,f=c.Nk,g;g=S(a)?this.Gs(a):a-1;g=U(g);if(0>g||g>=f.length)return b?this.x:this.y;var p=(f[g][1]-c.wb)*this.width,f=f[g][2],f=(f-c.xb)*this.height,c=Math.cos(this.j);g=Math.sin(this.j);var m=p*c-f*g,f=f*c+p*g,p=m+this.x,f=f+this.y;return b?p:f};var b=new ba,s=!1;new sa(0,0,0,0);t.finish=function(a){if(s){if(a){var c=this.b.Hb().Cc.Vc;a=null.fa();var f=
b.Bd(),m,g;if(a.ma){a.ma=!1;a.c.length=f.length;m=0;for(g=f.length;m<g;m++)a.c[m]=f[m];if(c)for(m=a.O.length=0,g=null.c.length;m<g;m++)f=null.c[m],b.contains(f)||a.O.push(f)}else if(c)for(c=a.c.length,a.c.length=c+f.length,m=0,g=f.length;m<g;m++)a.c[c+m]=f[m],Ba(a.O,f[m]);else ya(a.c,f);null.Id()}b.clear();s=!1}};q.prototype.gq=function(a){return hb(this.Rm,a)};q.prototype.hq=function(){return!0};q.prototype.$e=function(){return!0};r.d=new q;m.prototype.Lq=function(a){this.Dh=a;this.al||(this.b.rh(this),
this.al=!0);this.Ok||this.pn()};r.ba=new m;r.Fa=new function(){}})();function oc(f){this.b=f}
(function(){function f(a,b){return a.length?a.pop():new b}function q(a,c,d){if(d){var f;d=0;for(f=c.length;d<f;d++)a.length<b&&a.push(c[d]);c.length=0}else for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a.length<b&&a.push(c[f]),delete c[f])}function m(a,b,c){var d=a.Le;c=c.replace(/\s\s*$/,"");b>=d.length&&d.push(f(s,Object));b=d[b];b.text=c;b.width=a.rl(c);a.Rf=na(a.Rf,b.width)}function r(){}function t(){}var c=oc.prototype;c.S=function(){};c.ra=function(a){this.ha=a;this.b=a.b};var a=c.ra.prototype;
a.S=function(){this.A||(this.W=new Image,this.b.vm(this.W,this.tj),this.T=null)};a.Pi=function(){this.A||(this.T=null)};a.Ri=function(){if(!this.A&&this.c.length){this.T||(this.T=this.b.n.xf(this.W,!1,this.b.P,this.qh));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].T=this.T}};a.Aj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};a.aj=function(a){a.drawImage(this.W,0,0)};c.ka=function(a){this.type=a;this.b=a.b};a=c.ka.prototype;a.Tg=function(){q(s,this.Le,
!0);q(l,this.Fh,!1);q(d,this.Gh,!1);Va(this.Nd)};a.S=function(){this.W=this.type.W;this.Eh=this.Y[0];this.Ld=this.Y[1];this.characterSet=this.Y[2];this.text=this.Y[3];this.Md=this.Y[4];this.visible=0===this.Y[5];this.In=this.Y[6]/2;this.Np=this.Y[7]/2;this.Gu=0===this.Y[9];this.ff=this.Y[10];this.lineHeight=this.Y[11];this.Ve=this.Rf=0;this.vc?(this.Le.length=0,Va(this.Fh),Va(this.Gh),Va(this.Nd)):(this.Le=[],this.Fh={},this.Gh={},this.Nd={});this.ph=!0;this.hl=this.width;this.b.n&&(this.type.T||
(this.type.T=this.b.n.xf(this.type.W,!1,this.b.P,this.type.qh)),this.T=this.type.T);this.Uq()};a.mb=function(){var a={t:this.text,csc:this.Md,csp:this.ff,lh:this.lineHeight,tw:this.Rf,th:this.Ve,lrt:this.wt,cw:{}},b;for(b in this.Nd)a.cw[b]=this.Nd[b];return a};a.Kb=function(a){this.text=a.t;this.Md=a.csc;this.ff=a.csp;this.lineHeight=a.lh;this.Rf=a.tw;this.Ve=a.th;this.wt=a.lrt;for(var b in a.cw)this.Nd[b]=a.cw[b];this.ph=!0;this.hl=this.width};var b=1E3,s=[],l=[],d=[];a.Uq=function(){for(var a=
this.W,b=a.width,c=a.height,a=this.Eh,h=this.Ld,e=a/b,k=h/c,m=this.characterSet,b=Math.floor(b/a),c=Math.floor(c/h),n=0;n<m.length&&!(n>=b*c);n++){var r=n%b,q=Math.floor(n/b),s=m.charAt(n);if(this.b.n){var t=this.Gh,Z=r*e,B=q*k,r=(r+1)*e,q=(q+1)*k;void 0===t[s]&&(t[s]=f(d,sa));t[s].left=Z;t[s].top=B;t[s].right=r;t[s].bottom=q}else t=this.Fh,r*=a,q*=h,Z=a,B=h,void 0===t[s]&&(t[s]=f(l,Object)),t[s].x=r,t[s].y=q,t[s].Pp=Z,t[s].Hn=B}};var k=[];c.Wq=function(a){k.length=0;for(var b="",c,d=0;d<a.length;)if(c=
a.charAt(d),"\n"===c)b.length&&(k.push(b),b=""),k.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));k.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&k.push(b)};c.Xq=function(a){var b=a.text,c=a.Le;if(b&&b.length){var d=a.width;if(2>=d)q(s,c,!0);else{var e=a.Md,k=a.ff;if(b.length*(a.Eh*e+k)-k<=d&&-1===b.indexOf("\n")&&(k=a.rl(b),k<=d)){q(s,c,!0);c.push(f(s,Object));c[0].text=b;c[0].width=k;a.Rf=k;a.Ve=a.Ld*e+a.lineHeight;
return}this.Yq(a);a.Ve=c.length*(a.Ld*e+a.lineHeight)}}else q(s,c,!0)};c.Yq=function(a){var c=a.Gu,d=a.text,f=a.Le,e=a.width;c&&(this.Wq(d),d=k);var l="",n,r,q,t=0,F=!1;for(q=0;q<d.length;q++)"\n"===d[q]?(!0===F?F=!1:(m(a,t,l),t++),l=""):(F=!1,n=l,l+=d[q],r=a.rl(l.replace(/\s\s*$/,"")),r>e&&(""===n?(m(a,t,l),l="",F=!0):(m(a,t,n),l=d[q]),t++,c||" "!==l||(l="")));l.replace(/\s\s*$/,"").length&&(m(a,t,l),t++);for(q=t;q<f.length;q++)s.length<b&&s.push(f[q]);f.length=t};a.rl=function(a){for(var b=this.ff,
c=a.length,d=0,e=0;e<c;e++)d+=this.yk(a.charAt(e))*this.Md+b;return d-(0<d?b:0)};a.yk=function(a){var b=this.Nd;return void 0!==b[a]?b[a]:this.Eh};a.fp=function(){if(this.ph||this.width!==this.hl)this.Ve=this.Rf=0,this.type.ha.Xq(this),this.ph=!1,this.hl=this.width};a.Dc=function(a){var b=this.W;if(""!==this.text&&null!=b&&(this.fp(),!(this.height<this.Ld*this.Md+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.Yc&&(b=Math.round(b),c=Math.round(c));var d=this.i.na,e=this.i.pa,
f=this.i.xa,k=this.i.wa;a.save();a.translate(b,c);a.rotate(this.j);for(var l=this.In,m=this.Md,n=this.Ld*m,r=this.lineHeight,q=this.ff,s=this.Le,t,ca=-(this.wb*this.width),K=-(this.xb*this.height),K=K+this.Np*na(0,this.height-this.Ve),J,D,A,Q=0;Q<s.length;Q++){var E=s[Q].text;t=l*na(0,this.width-s[Q].width);J=ca+t;K+=r;if(c+K+n<e)K+=n;else{for(var x=0;x<E.length;x++){D=E.charAt(x);t=this.yk(D);var z=this.Fh[D];if(b+J+t*m+q<d)J+=t*m+q;else{if(J+t*m>this.width+1E-5)break;void 0!==z&&(D=J,A=K,0===this.j&&
(D=Math.round(D),A=Math.round(A)),a.drawImage(this.W,z.x,z.y,z.Pp,z.Hn,D,A,z.Pp*m,z.Hn*m));J+=t*m+q;if(b+J>f)break}}K+=n;if(K+n+r>this.height||c+K>k)break}}a.restore()}};var n=new va;a.Gb=function(a){a.Nb(this.T);a.Se(this.opacity);if(this.text&&(this.fp(),!(this.height<this.Ld*this.Md+this.lineHeight))){this.eb();var b=this.ef,c=0,d=0;this.b.Yc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);var e=this.i.na,f=this.i.pa,k=this.i.xa,l=this.i.wa,m=this.j,r=this.In,q=this.Np,s=this.Md,t=this.Ld*
s,B=this.lineHeight,ca=this.ff,K=this.Le,J=this.Ve,D,A,Q;0!==m&&(A=Math.cos(m),Q=Math.sin(m));for(var c=b.Va+c,b=b.Wa+d,E,q=q*na(0,this.height-J),x,z,J=0;J<K.length;J++)if(d=K[J].text,E=D=r*na(0,this.width-K[J].width),q+=B,0===m&&b+q+t<f)q+=t;else{for(var O=0;O<d.length;O++){var G=d.charAt(O);D=this.yk(G);G=this.Gh[G];if(c+E+D*s+ca<e)E+=D*s+ca;else{if(E+D*s>this.width+1E-5)break;if(void 0!==G){var I=this.Eh*s,H=this.Ld*s;x=E;z=q;0===m&&(x=Math.round(x),z=Math.round(z));n.Va=x;n.Wa=z;n.Bb=x+I;n.Cb=
z;n.ob=x;n.pb=z+H;n.qb=x+I;n.rb=z+H;0!==m&&(x=n,z=A,I=Q,H=void 0,H=x.Va*z-x.Wa*I,x.Wa=x.Wa*z+x.Va*I,x.Va=H,H=x.Bb*z-x.Cb*I,x.Cb=x.Cb*z+x.Bb*I,x.Bb=H,H=x.ob*z-x.pb*I,x.pb=x.pb*z+x.ob*I,x.ob=H,H=x.qb*z-x.rb*I,x.rb=x.rb*z+x.qb*I,x.qb=H);n.offset(c,b);a.de(n.Va,n.Wa,n.Bb,n.Cb,n.qb,n.rb,n.ob,n.pb,G)}E+=D*s+ca;if(0===m&&c+E>k)break}}q+=t;if(q+t+B>this.height||b+q>l)break}}};c.d=new function(){};r.prototype.Pq=function(a){R(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=
a,this.ph=!0,this.b.ca=!0)};a.uv=function(a,b){var c=parseInt(b,10);this.Nd[a]!==c&&(this.Nd[a]=c,this.ph=!0,this.b.ca=!0)};c.ba=new r;t.prototype.Text=function(a){a.bb(this.text)};c.Fa=new t})();function Y(f){this.b=f}
(function(){function f(a){l=a.x;d=a.y;k=a.z}function q(a){n=a.x;g=a.y;p=a.z}function m(a,b,c,d){var e;e=u.length?u.pop():new r;e.init(a,b,c,d);return e}function r(){this.jh=this.id=this.y=this.x=this.rj=this.qj=this.gl=this.time=this.em=0;this.uh=this.yj=!1}function t(){}function c(){}var a=Y.prototype;a.ra=function(a){this.ha=a;this.b=a.b};a.ra.prototype.S=function(){};a.ka=function(a){this.type=a;this.b=a.b;this.touches=[];this.tl=!1};var b=a.ka.prototype,s={left:0,top:0};b.mg=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var l=0,d=0,k=0,n=0,g=0,p=0,u=[];r.prototype.init=function(a,b,c,d){var e=Wa();this.em=this.gl=this.time=e;this.qj=a;this.rj=b;this.x=a;this.y=b;this.id=c;this.jh=d;this.uh=this.yj=!1};r.prototype.update=function(a,b,c){this.gl=this.time;this.time=a;this.x=b;this.y=c;!this.uh&&15<=Sa(this.qj,this.rj,this.x,this.y)&&(this.uh=!0)};r.prototype.At=function(a,b){!this.yj&&500<=Wa()-this.em&&!this.uh&&15>Sa(this.qj,this.rj,
this.x,this.y)&&(this.yj=!0,a.bd=this.jh,a.Tf=this.id,a.lf=b,a.b.trigger(Y.prototype.d.rq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.sq,a),a.lf=0)};var h=-1E3,e=-1E3,v=-1E4;r.prototype.xo=function(a,b){if(!this.yj){var c=Wa();333>=c-this.em&&!this.uh&&15>Sa(this.qj,this.rj,this.x,this.y)&&(a.bd=this.jh,a.Tf=this.id,a.lf=b,666>=c-v&&25>Sa(h,e,this.x,this.y)?(a.b.trigger(Y.prototype.d.nq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.oq,a),e=h=-1E3,v=-1E4):(a.b.trigger(Y.prototype.d.Gq,
a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.Hq,a),h=this.x,e=this.y,v=c),a.lf=0)}};b.S=function(){this.pt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.lf=this.Tf=this.bd=this.jd=this.hd=this.Mm=this.Lm=this.Km=this.cr=this.br=this.$q=this.Wg=this.Vg=this.Ug=0;this.Eu=0!==this.Y[0];var a=0<this.b.tb?document:this.b.canvas,b=document;this.b.$a?b=a=window.Canvas:this.b.Wb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Jo(a)},
!1),a.addEventListener("pointermove",function(a){c.Io(a)},!1),b.addEventListener("pointerup",function(a){c.Qi(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Qi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Jo(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Io(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Qi(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Qi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Lo(a)},
!1),a.addEventListener("touchmove",function(a){c.Ko(a)},!1),b.addEventListener("touchend",function(a){c.El(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.El(a,!0)},!1));if(this.pt){var d=function(a){a=a.reading;c.Km=a.accelerationX;c.Lm=a.accelerationY;c.Mm=a.accelerationZ},e=function(a){a=a.reading;c.Ug=a.yawDegrees;c.Vg=a.pitchDegrees;c.Wg=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",
d));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",d),h&&h.removeEventListener("readingchanged",e)):(g&&g.addEventListener("readingchanged",d),h&&h.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.Ug=a.alpha||
0;c.Vg=a.beta||0;c.Wg=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.$q=a.accelerationIncludingGravity.x||0,c.br=a.accelerationIncludingGravity.y||0,c.cr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Km=a.acceleration.x||0,c.Lm=a.acceleration.y||0,c.Mm=a.acceleration.z||0)},!1);this.Eu&&!this.b.ga&&(jQuery(document).mousemove(function(a){c.Cl(a)}),jQuery(document).mousedown(function(a){c.Bl(a)}),jQuery(document).mouseup(function(a){c.Dl(a)}));
this.b.of&&!this.b.$a&&AppMobi.accelerometer.watchAcceleration(f,{frequency:40,adjustForRotation:!0});this.b.Xb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(q,null,{frequency:40});this.b.uu(this)};b.Io=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.mg(a.pointerId),c=Wa();if(0<=b){var d=this.b.ga?s:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};b.Jo=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var b=this.b.ga?s:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Wa();this.bd=this.touches.length;this.Tf=a.pointerId;this.touches.push(m(c,b,a.pointerId,this.bd));this.b.ya=!0;this.b.trigger(Y.prototype.d.Fm,this);this.b.trigger(Y.prototype.d.Im,this);this.hd=c;this.jd=b;this.b.trigger(Y.prototype.d.Hm,this);
this.b.ya=!1}};b.Qi=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var c=this.mg(a.pointerId);this.bd=0<=c?this.touches[c].jh:-1;this.Tf=0<=c?this.touches[c].id:-1;this.b.ya=!0;this.b.trigger(Y.prototype.d.Em,this);this.b.trigger(Y.prototype.d.Gm,this);0<=c&&(b||this.touches[c].xo(this,c),100>u.length&&u.push(this.touches[c]),this.touches.splice(c,1));this.b.ya=!1}};b.Ko=function(a){a.preventDefault&&a.preventDefault();
var b=Wa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.mg(e.identifier),0<=f){var g=this.b.ga?s:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top)}};b.Lo=function(a){a.preventDefault&&ib(a)&&a.preventDefault();var b=this.b.ga?s:jQuery(this.b.canvas).offset();Wa();this.b.ya=!0;var c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.mg(e.identifier),-1===f){f=e.pageX-b.left;var g=e.pageY-
b.top;this.bd=this.touches.length;this.Tf=e.identifier;this.touches.push(m(f,g,e.identifier,this.bd));this.b.trigger(Y.prototype.d.Fm,this);this.b.trigger(Y.prototype.d.Im,this);this.hd=f;this.jd=g;this.b.trigger(Y.prototype.d.Hm,this)}this.b.ya=!1};b.El=function(a,b){a.preventDefault&&ib(a)&&a.preventDefault();this.b.ya=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.mg(e.identifier),0<=e&&(this.bd=this.touches[e].jh,this.Tf=this.touches[e].id,this.b.trigger(Y.prototype.d.Em,
this),this.b.trigger(Y.prototype.d.Gm,this),b||this.touches[e].xo(this,e),100>u.length&&u.push(this.touches[e]),this.touches.splice(e,1));this.b.ya=!1};b.Lv=function(){return this.b.of&&0===this.Ug&&0!==k?90*k:this.b.Xb&&0===this.Ug&&0!==p?90*p:this.Ug};b.Mv=function(){return this.b.of&&0===this.Vg&&0!==d?-90*d:this.b.Xb&&0===this.Vg&&0!==g?90*g:this.Vg};b.Ov=function(){return this.b.of&&0===this.Wg&&0!==l?90*l:this.b.Xb&&0===this.Wg&&0!==n?90*n:this.Wg};b.Bl=function(a){a.preventDefault&&this.b.nf&&
!this.b.qd&&a.preventDefault();this.Lo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.tl=!0};b.Cl=function(a){this.tl&&this.Ko({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Dl=function(a){a.preventDefault&&this.b.nf&&!this.b.qd&&a.preventDefault();this.b.nf=!0;this.El({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.tl=!1};b.vj=function(){var a,b,c,d=Wa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.gl=d),c.At(this,
a)};t.prototype.Im=function(){return!0};t.prototype.Gm=function(){return!0};t.prototype.Hm=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};t.prototype.Fm=function(a){a=Math.floor(a);return a===this.bd};t.prototype.Em=function(a){a=Math.floor(a);return a===this.bd};t.prototype.rq=function(){return!0};t.prototype.Gq=function(){return!0};t.prototype.nq=function(){return!0};t.prototype.sq=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};t.prototype.Hq=function(a){return a?this.b.nh(a,this.hd,
this.jd):!1};t.prototype.oq=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};a.d=new t;c.prototype.yh=function(a,b){var c=this.lf;if(0>c||c>=this.touches.length)a.q(0);else{var d,e,f,g,h;ga(b)?(d=this.b.od(0),e=d.scale,f=d.Db,g=d.rc,h=d.j,d.scale=1,d.Db=1,d.rc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Db=f,d.rc=g,d.j=h):(d=R(b)?this.b.od(b):this.b.ng(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)):a.q(0)}};c.prototype.Nj=function(a,b){var c=this.lf;if(0>c||c>=
this.touches.length)a.q(0);else{var d,e,f,g,h;ga(b)?(d=this.b.od(0),e=d.scale,f=d.Db,g=d.tc,h=d.j,d.scale=1,d.Db=1,d.tc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Db=f,d.tc=g,d.j=h):(d=R(b)?this.b.od(b):this.b.ng(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)):a.q(0)}};a.Fa=new c})();function pc(f){this.b=f}
(function(){function f(){}var q=pc.prototype;q.ra=function(c){this.ha=c;this.b=c.b};q.ra.prototype.S=function(){};q.ka=function(c){this.type=c;this.b=c.b};var m=q.ka.prototype,r="",t="undefined"!==typeof window.is_scirra_arcade;t&&(r="arcade"+window.scirra_arcade_id);m.S=function(){"undefined"===typeof localStorage&&M("[Construct 2] Webstorage plugin: local storage is not supported on this platform.");"undefined"===typeof sessionStorage&&M("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")};
q.d=new function(){};q.ba=new function(){};f.prototype.ym=function(c){if("undefined"===typeof localStorage)c.bb("");else{var a={},b,f,l;b=0;for(f=localStorage.length;b<f;b++)l=localStorage.key(b),t?l.substr(0,r.length)===r&&(a[l.substr(r.length)]=localStorage.getItem(l)):a[l]=localStorage.getItem(l);c.bb(JSON.stringify({c2dictionary:!0,data:a}))}};q.Fa=new f})();function rc(f){this.b=f}
(function(){function f(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function q(d){b[d.gamepad.index]=d.gamepad;c.trigger(rc.prototype.d.pq,a)}function m(d){c.trigger(rc.prototype.d.qq,a);b[d.gamepad.index]=null}function r(){}var t=rc.prototype;t.ra=function(a){this.ha=a;this.b=a.b};t.ra.prototype.S=function(){};var c=null,a=null,b=Array(16),s="",l="",d=null,k={windows:{}};k.windows.firefox={};var n=[0,1,2,3,4,5,8,9,10,11],g=[0,1,[7,6],2,3,[14,15],[12,13]];k.windows.firefox.xbox360=function(a,b){return b?
a>=g.length?-1:R(g[a])?g[a]+16:g[a]:a>=n.length?-1:n[a]};var p=[2,0,1,3,4,6,5,7,8,9],u=[0,1,2,3,[14,15],[12,13]];k.windows.firefox.logitechdualaction=function(a,b){return b?a>=u.length?-1:R(u[a])?u[a]+16:u[a]:a>=p.length?-1:p[a]};t.ka=function(b){this.type=b;c=this.b=b.b;a=this};var h=t.ka.prototype;h.S=function(){this.wi=0;var a=navigator.userAgent;s="windows";/mac/i.test(a)&&(s="mac");d=k[s];l="chrome";/firefox/i.test(a)&&(l="firefox");d&&(d=d[l]);window.addEventListener("webkitgamepadconnected",
q,!1);window.addEventListener("webkitgamepaddisconnected",m,!1);window.addEventListener("MozGamepadConnected",q,!1);window.addEventListener("MozGamepadDisconnected",m,!1);window.addEventListener("gamepadconnected",q,!1);window.addEventListener("gamepaddisconnected",m,!1);this.b.rh(this);this.zh=[]};h.Pa=function(){this.zh.length=0;var a=null,c=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():
navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.Un&&window.cr_getGamepads?(a=window.cr_getGamepads(),c=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||b;if(a){var g,h,k,l,m,n,p;g=0;for(h=a.length;g<h;g++){var r=a[g];if(r){if(r.Bc)for(k=0;20>k;k++)r.Wj[k]=r.Bc[k];else for(r.Bc=Array(20),r.Wj=Array(20),k=0;20>k;k++)r.Wj[k]=0;c?k=f:d?(k="",l=r.id.toLowerCase(),-1<l.indexOf("xbox 360")?k="xbox360":-1<l.indexOf("logitech dual action")&&(k="logitechdualaction"),k=d[k]||
f):k=f;m=k;k=0;for(l=r.buttons.length;k<l;k++)p="undefined"!==typeof r.buttons[k].value?r.buttons[k].value:r.buttons[k],n=m(k,!1,p),0<=n&&20>n&&(r.Bc[n]=100*p,50<=r.Bc[n]&&50>r.Wj[n]&&(this.wi=n));k=0;for(l=r.axes.length;k<l;k++)p=r.axes[k],n=m(k,!0,p),R(n)?0<=n&&20>n&&(r.Bc[n]=100*p):(r.Bc[n[0]]=0,r.Bc[n[1]]=0,0>=p?r.Bc[n[0]]=Math.abs(100*p):r.Bc[n[1]]=Math.abs(100*p));this.zh.push(r)}}}};h.mb=function(){return{lastButton:this.wi}};h.Kb=function(a){this.wi=a.lastButton};r.prototype.pq=function(){return!0};
r.prototype.qq=function(){return!0};r.prototype.Am=function(a,b){a=Math.floor(a);if(0>a||a>=this.zh.length)return!1;var c=this.zh[a];if(!c.Bc)return!1;if(c=50<=c.Bc[b])this.wi=b;return c};t.d=new r;t.ba=new function(){};t.Fa=new function(){}})();function sc(f){this.b=f;this.jj=this.ih=this.Te=this.ij=0}
(function(){function f(){}var q=sc.prototype;q.ra=function(f){this.behavior=f;this.b=f.b};q.ra.prototype.S=function(){};q.ka=function(f,m){this.type=f;this.behavior=f.behavior;this.jt=m;this.b=f.b};var m=q.ka.prototype;m.S=function(){this.enabled=0!==this.Y[0]};m.mb=function(){return{smg:this.behavior.ij,ss:this.behavior.Te,se:this.behavior.ih,smd:this.behavior.jj}};m.Kb=function(f){this.behavior.ij=f.smg;this.behavior.Te=f.ss;this.behavior.ih=f.se;this.behavior.jj=f.smd};m.Pa=function(){};m.vj=function(){if(this.enabled){var f=
this.behavior.Mi.Bd(),m=0,c=0,a,b,q,l=0;a=0;for(b=f.length;a<b;a++){a:{q=f[a];for(var d=void 0,k=void 0,n=void 0,d=0,k=q.G.length;d<k;++d)if(n=q.G[d],n.behavior instanceof sc){q=n;break a}q=null}q&&q.enabled&&(m+=f[a].x,c+=f[a].y,++l)}f=this.jt.i.Ja;b=this.b.yb.V;q=a=0;b>=this.behavior.Te&&b<this.behavior.ih&&(a=this.behavior.ij*Math.min(this.b.We,1),0===this.behavior.jj&&(a*=1-(b-this.behavior.Te)/(this.behavior.ih-this.behavior.Te)),b=Math.random()*Math.PI*2,q=Math.random()*a,a=Math.cos(b)*q,q*=
Math.sin(b));f.Xl(m/l+a);f.Yl(c/l+q)}};f.prototype.Tq=function(f,m,c){this.behavior.ij=f;this.behavior.Te=this.b.yb.V;this.behavior.ih=this.behavior.Te+m;this.behavior.jj=c};q.ba=new f})();
function hc(){return[jc,kc,mc,rc,lc,nc,ic,oc,Y,pc,sc,mc.prototype.d.Lj,ic.prototype.ba.Rp,X.prototype.ba.Qq,jc.prototype.ba.Jq,X.prototype.Fa.gn,X.prototype.d.$p,oc.prototype.ba.Pq,ic.prototype.d.Vp,ic.prototype.ba.Lq,ic.prototype.ba.Nq,X.prototype.d.Wp,ic.prototype.ba.Sq,X.prototype.d.zm,X.prototype.ba.Yp,mc.prototype.Fa.yh,mc.prototype.Fa.Nj,sc.prototype.ba.Tq,mc.prototype.d.Am,ic.prototype.ba.Mq,ic.prototype.ba.Oq,ic.prototype.d.Xp,ic.prototype.Fa.yh,X.prototype.d.Zp,X.prototype.ba.Vq,oc.prototype.ba.Rq,
jc.prototype.ba.Play,lc.prototype.d.Cm,kc.prototype.ba.Kq,kc.prototype.ba.aq,X.prototype.d.Kj]};
