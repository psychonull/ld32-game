// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,N,da,fa,O,Q,ha,ia,ja,ma,na,oa,U,pa,qa,sa,ua,wa,xa,ya,za,Aa,Ba,V,Ca,Da,Ea,Fa,Ha,Ia,Ja,Ka,La,Ma,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,W,Xb,Yb={},Zb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(n){return n.__proto__}:function(n){return n.constructor.prototype});
(function(){function n(f,k,c,a){this.set(f,k,c,a)}function l(){this.pb=this.ob=this.rb=this.qb=this.Cb=this.Bb=this.Wa=this.Va=0}function e(f,k,c,a){f<k?c<a?(r=f<c?f:c,s=k>a?k:a):(r=f<a?f:a,s=k>c?k:c):c<a?(r=k<c?k:c,s=f>a?f:a):(r=k<a?k:a,s=f>c?f:c)}function p(){this.items=this.Jc=null;this.vf=0;F&&(this.Jc=new Set);this.Vf=[];this.Kd=!0}function q(f){y[S++]=f}function d(){this.V=this.qj=this.y=this.Sj=0}function a(f){this.If=[];this.Um=this.Wm=this.Xm=this.Vm=0;this.gh(f)}function b(f,k){this.Yj=
f;this.Xj=k;this.cells={}}function t(f,k){this.Yj=f;this.Xj=k;this.cells={}}function g(f,k,c){var a;return x.length?(a=x.pop(),a.Ek=f,a.x=k,a.y=c,a):new aa(f,k,c)}function c(f,k,a){this.Ek=f;this.x=k;this.y=a;this.Sa=new ba}function m(f,k,a){var c;return P.length?(c=P.pop(),c.Ek=f,c.x=k,c.y=a,c):new ca(f,k,a)}function u(f,k,c){this.Ek=f;this.x=k;this.y=c;this.Sa=[];this.uf=!0;this.Xc=new ba;this.Zf=!1}function h(f,k){return f.Mc-k.Mc}N=function(f){window.console&&window.console.log&&window.console.log(f)};
da=function(f){window.console&&window.console.error&&window.console.error(f)};fa=function(f){return"undefined"===typeof f};O=function(f){return"number"===typeof f};Q=function(f){return"string"===typeof f};ha=function(f){return 0<f&&0===(f-1&f)};ia=function(f){--f;for(var k=1;32>k;k<<=1)f|=f>>k;return f+1};ja=function(f){return 0>f?-f:f};ma=function(f,k){return f>k?f:k};na=function(f,k){return f<k?f:k};oa=Math.PI;U=function(f){return 0<=f?f|0:(f|0)-1};pa=function(f){var k=f|0;return k===f?k:k+1};qa=
function(f,k,c,a,v,b,d,B){var h,m,y,r;f<c?(m=f,h=c):(m=c,h=f);v<d?(r=v,y=d):(r=d,y=v);if(h<r||m>y)return!1;k<a?(m=k,h=a):(m=a,h=k);b<B?(r=b,y=B):(r=B,y=b);if(h<r||m>y)return!1;h=v-f+d-c;m=b-k+B-a;f=c-f;k=a-k;v=d-v;b=B-b;B=ja(k*v-b*f);return ja(v*m-b*h)>B?!1:ja(f*m-k*h)<=B};n.prototype.set=function(f,k,c,a){this.left=f;this.top=k;this.right=c;this.bottom=a};n.prototype.Jh=function(f){this.left=f.left;this.top=f.top;this.right=f.right;this.bottom=f.bottom};n.prototype.width=function(){return this.right-
this.left};n.prototype.height=function(){return this.bottom-this.top};n.prototype.offset=function(f,k){this.left+=f;this.top+=k;this.right+=f;this.bottom+=k;return this};n.prototype.normalize=function(){var f=0;this.left>this.right&&(f=this.left,this.left=this.right,this.right=f);this.top>this.bottom&&(f=this.top,this.top=this.bottom,this.bottom=f)};n.prototype.ec=function(f,k){return f>=this.left&&f<=this.right&&k>=this.top&&k<=this.bottom};n.prototype.Sh=function(f){return this.left===f.left&&this.top===
f.top&&this.right===f.right&&this.bottom===f.bottom};sa=n;l.prototype.fh=function(f){this.Va=f.left;this.Wa=f.top;this.Bb=f.right;this.Cb=f.top;this.qb=f.right;this.rb=f.bottom;this.ob=f.left;this.pb=f.bottom};l.prototype.np=function(f,k){if(0===k)this.fh(f);else{var c=Math.sin(k),a=Math.cos(k),v=f.left*c,b=f.top*c,d=f.right*c,c=f.bottom*c,B=f.left*a,h=f.top*a,m=f.right*a,a=f.bottom*a;this.Va=B-b;this.Wa=h+v;this.Bb=m-b;this.Cb=h+d;this.qb=m-c;this.rb=a+d;this.ob=B-c;this.pb=a+v}};l.prototype.offset=
function(f,k){this.Va+=f;this.Wa+=k;this.Bb+=f;this.Cb+=k;this.qb+=f;this.rb+=k;this.ob+=f;this.pb+=k;return this};var r=0,s=0;l.prototype.Zm=function(f){e(this.Va,this.Bb,this.qb,this.ob);f.left=r;f.right=s;e(this.Wa,this.Cb,this.rb,this.pb);f.top=r;f.bottom=s};l.prototype.ec=function(f,k){var c=this.Bb-this.Va,a=this.Cb-this.Wa,v=this.qb-this.Va,b=this.rb-this.Wa,d=f-this.Va,B=k-this.Wa,h=c*c+a*a,m=c*v+a*b,a=c*d+a*B,y=v*v+b*b,r=v*d+b*B,g=1/(h*y-m*m),c=(y*a-m*r)*g,h=(h*r-m*a)*g;if(0<=c&&0<h&&1>c+
h)return!0;c=this.ob-this.Va;a=this.pb-this.Wa;h=c*c+a*a;m=c*v+a*b;a=c*d+a*B;g=1/(h*y-m*m);c=(y*a-m*r)*g;h=(h*r-m*a)*g;return 0<=c&&0<h&&1>c+h};ua=l;wa=function(f,k){for(var c in k)k.hasOwnProperty(c)&&(f[c]=k[c]);return f};xa=function(f,k){var c,a;k=U(k);if(!(0>k||k>=f.length)){c=k;for(a=f.length-1;c<a;c++)f[c]=f[c+1];f.length=a}};ya=function(f,k){f.length=k.length;var c,a;c=0;for(a=k.length;c<a;c++)f[c]=k[c]};za=function(f,k){f.push.apply(f,k)};Aa=function(f,k){var c,a;c=0;for(a=f.length;c<a;++c)if(f[c]===
k)return c;return-1};Ba=function(f,k){var c=Aa(f,k);-1!==c&&xa(f,c)};V=function(f){return f/(180/oa)};Ca=function(f){return 180/oa*f};Da=function(f){f%=360;0>f&&(f+=360);return f};Ea=function(f){f%=2*oa;0>f&&(f+=2*oa);return f};Fa=function(f){return Da(Ca(f))};Ha=function(f){return Ea(V(f))};Ia=function(f,k,c,a){return Math.atan2(a-k,c-f)};Ja=function(f,k){if(f===k)return 0;var c=Math.sin(f),a=Math.cos(f),v=Math.sin(k),b=Math.cos(k),c=c*v+a*b;return 1<=c?0:-1>=c?oa:Math.acos(c)};Ka=function(f,k,c){var a=
Math.sin(f),v=Math.cos(f),b=Math.sin(k),h=Math.cos(k);return Math.acos(a*b+v*h)>c?0<v*b-a*h?Ea(f+c):Ea(f-c):Ea(k)};La=function(f,k){var c=Math.sin(f),a=Math.cos(f),v=Math.sin(k),b=Math.cos(k);return 0>=a*v-c*b};Ma=function(f,k,c,a,v,b){if(0===c)return b?f:k;var h=Math.sin(c);c=Math.cos(c);f-=a;k-=v;var d=f*h;f=f*c-k*h;k=k*c+d;return b?f+a:k+v};Ra=function(f,k,c,a){f=c-f;k=a-k;return Math.sqrt(f*f+k*k)};Sa=function(f,k){return!f!==!k};Ta=function(f){for(var k in f)if(f.hasOwnProperty(k))return!0;return!1};
Ua=function(f){for(var k in f)f.hasOwnProperty(k)&&delete f[k]};var k=+new Date;Va=function(){if("undefined"!==typeof window.performance){var f=window.performance;if("undefined"!==typeof f.now)return f.now();if("undefined"!==typeof f.webkitNow)return f.webkitNow();if("undefined"!==typeof f.mozNow)return f.mozNow();if("undefined"!==typeof f.msNow)return f.msNow()}return Date.now()-k};var f=!1,v=f=!1,B=!1;"undefined"!==typeof window&&(f=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
f=!f&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);var F=!f&&!B&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(f){return this.pd()?!1:F?this.Jc.has(f):this.items&&this.items.hasOwnProperty(f)};p.prototype.add=function(f){if(F)this.Jc.has(f)||(this.Jc.add(f),this.Kd=!1);else{var k=f.toString(),c=this.items;c?c.hasOwnProperty(k)||(c[k]=f,this.vf++,this.Kd=!1):(this.items={},this.items[k]=
f,this.vf=1,this.Kd=!1)}};p.prototype.remove=function(f){if(!this.pd())if(F)this.Jc.has(f)&&(this.Jc["delete"](f),this.Kd=!1);else if(this.items){f=f.toString();var k=this.items;k.hasOwnProperty(f)&&(delete k[f],this.vf--,this.Kd=!1)}};p.prototype.clear=function(){this.pd()||(F?this.Jc.clear():(this.items=null,this.vf=0),this.Vf.length=0,this.Kd=!0)};p.prototype.pd=function(){return 0===this.count()};p.prototype.count=function(){return F?this.Jc.size:this.vf};var y=null,S=0;p.prototype.zu=function(){if(!this.Kd){if(F)this.Vf.length=
this.Jc.size,y=this.Vf,S=0,this.Jc.forEach(q),y=null,S=0;else{var f=this.Vf;f.length=this.vf;var k,c=0,a=this.items;if(a)for(k in a)a.hasOwnProperty(k)&&(f[c++]=a[k])}this.Kd=!0}};p.prototype.Bd=function(){this.zu();return this.Vf};ba=p;new ba;Wa=function(f,k){F?Xa(f,k.Jc):Ya(f,k.Bd())};Xa=function(f,k){var c,a,v,b;a=c=0;for(v=f.length;c<v;++c)b=f[c],k.has(b)||(f[a++]=b);f.length=a};Ya=function(f,k){var c,a,v,b;a=c=0;for(v=f.length;c<v;++c)b=f[c],-1===Aa(k,b)&&(f[a++]=b);f.length=a};d.prototype.add=
function(f){this.y=f-this.Sj;this.qj=this.V+this.y;this.Sj=this.qj-this.V-this.y;this.V=this.qj};d.prototype.reset=function(){this.V=this.qj=this.y=this.Sj=0};Za=d;$a=function(f){return f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};a.prototype.gh=function(f){this.bp=f;this.bj=f.length/2;this.If.length=f.length;this.Uj=this.Vj=-1;this.bn=0};a.prototype.pt=function(){return!this.bp.length};a.prototype.eb=function(){for(var f=this.If,k=f[0],c=k,a=f[1],v=a,b,h,d=1,B=this.bj;d<B;++d)h=2*d,b=f[h],h=f[h+
1],b<k&&(k=b),b>c&&(c=b),h<a&&(a=h),h>v&&(v=h);this.Vm=k;this.Wm=c;this.Xm=a;this.Um=v};a.prototype.fh=function(f,k,c){this.If.length=8;this.bj=4;var a=this.If;a[0]=f.left-k;a[1]=f.top-c;a[2]=f.right-k;a[3]=f.top-c;a[4]=f.right-k;a[5]=f.bottom-c;a[6]=f.left-k;a[7]=f.bottom-c;this.Vj=f.right-f.left;this.Uj=f.bottom-f.top;this.eb()};a.prototype.mr=function(f,k,c){if(this.Vj!==f||this.Uj!==k||this.bn!==c){this.Vj=f;this.Uj=k;this.bn=c;var a,v,b,h,d,B=0,m=1,y=this.bp,r=this.If;0!==c&&(B=Math.sin(c),m=
Math.cos(c));c=0;for(b=this.bj;c<b;c++)a=2*c,v=a+1,h=y[a]*f,d=y[v]*k,r[a]=h*m-d*B,r[v]=d*m+h*B;this.eb()}};a.prototype.ec=function(f,k){var c=this.If;if(f===c[0]&&k===c[1])return!0;var a,v,b,h=this.bj,d=this.Vm-110,B=this.Xm-101,m=this.Wm+131,y=this.Um+120,r,g,S=0,F=0;for(a=0;a<h;a++)v=2*a,b=(a+1)%h*2,r=c[v],v=c[v+1],g=c[b],b=c[b+1],qa(d,B,f,k,r,v,g,b)&&S++,qa(m,y,f,k,r,v,g,b)&&F++;return 1===S%2||1===F%2};ab=a;b.prototype.Ud=function(f,k,c){var a;a=this.cells[f];return a?(a=a[k])?a:c?(a=g(this,f,
k),this.cells[f][k]=a):null:c?(a=g(this,f,k),this.cells[f]={},this.cells[f][k]=a):null};b.prototype.Rb=function(f){return U(f/this.Yj)};b.prototype.Sb=function(f){return U(f/this.Xj)};b.prototype.update=function(f,k,c){var a,v,b,h,d;if(k)for(a=k.left,v=k.right;a<=v;++a)for(b=k.top,h=k.bottom;b<=h;++b)if(!c||!c.ec(a,b))if(d=this.Ud(a,b,!1))d.remove(f),d.pd()&&(d.Sa.clear(),1E3>x.length&&x.push(d),this.cells[a][b]=null);if(c)for(a=c.left,v=c.right;a<=v;++a)for(b=c.top,h=c.bottom;b<=h;++b)k&&k.ec(a,
b)||this.Ud(a,b,!0).Rk(f)};b.prototype.dp=function(f,k){var c,a,v,b,h,d;c=this.Rb(f.left);v=this.Sb(f.top);a=this.Rb(f.right);for(h=this.Sb(f.bottom);c<=a;++c)for(b=v;b<=h;++b)(d=this.Ud(c,b,!1))&&d.dump(k)};bb=b;t.prototype.Ud=function(f,k,c){var a;a=this.cells[f];return a?(a=a[k])?a:c?(a=m(this,f,k),this.cells[f][k]=a):null:c?(a=m(this,f,k),this.cells[f]={},this.cells[f][k]=a):null};t.prototype.Rb=function(f){return U(f/this.Yj)};t.prototype.Sb=function(f){return U(f/this.Xj)};t.prototype.update=
function(f,k,c){var a,v,b,h,d;if(k)for(a=k.left,v=k.right;a<=v;++a)for(b=k.top,h=k.bottom;b<=h;++b)if(!c||!c.ec(a,b))if(d=this.Ud(a,b,!1))d.remove(f),d.pd()&&(d.reset(),1E3>P.length&&P.push(d),this.cells[a][b]=null);if(c)for(a=c.left,v=c.right;a<=v;++a)for(b=c.top,h=c.bottom;b<=h;++b)k&&k.ec(a,b)||this.Ud(a,b,!0).Rk(f)};t.prototype.dp=function(f,k,c,a,v){var b,h;f=this.Rb(f);k=this.Sb(k);c=this.Rb(c);for(b=this.Sb(a);f<=c;++f)for(a=k;a<=b;++a)(h=this.Ud(f,a,!1))&&h.dump(v)};t.prototype.yt=function(f){var k,
c,a,v,b;k=f.left;a=f.top;c=f.right;for(v=f.bottom;k<=c;++k)for(f=a;f<=v;++f)if(b=this.Ud(k,f,!1))b.uf=!1};cb=t;var x=[];c.prototype.pd=function(){return this.Sa.pd()};c.prototype.Rk=function(f){this.Sa.add(f)};c.prototype.remove=function(f){this.Sa.remove(f)};c.prototype.dump=function(f){za(f,this.Sa.Bd())};aa=c;var P=[];u.prototype.pd=function(){if(!this.Sa.length)return!0;if(this.Sa.length>this.Xc.count())return!1;this.ok();return!0};u.prototype.Rk=function(f){this.Xc.contains(f)?(this.Xc.remove(f),
this.Xc.pd()&&(this.Zf=!1)):this.Sa.length?(this.Sa[this.Sa.length-1].Tc()>f.Tc()&&(this.uf=!1),this.Sa.push(f)):(this.Sa.push(f),this.uf=!0)};u.prototype.remove=function(f){this.Xc.add(f);this.Zf=!0;30<=this.Xc.count()&&this.ok()};u.prototype.ok=function(){this.Zf&&(this.Xc.count()===this.Sa.length?this.reset():(Wa(this.Sa,this.Xc),this.Xc.clear(),this.Zf=!1))};u.prototype.Tr=function(){this.uf||(this.Sa.sort(h),this.uf=!0)};u.prototype.reset=function(){this.Sa.length=0;this.uf=!0;this.Xc.clear();
this.Zf=!1};u.prototype.dump=function(f){this.ok();this.Tr();this.Sa.length&&f.push(this.Sa)};ca=u;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");db=function(f){return 0>=f||11<=f?"source-over":w[f-1]};eb=function(f,k,c){if(c)switch(f.ib=c.ONE,f.hb=c.ONE_MINUS_SRC_ALPHA,k){case 1:f.ib=c.ONE;f.hb=c.ONE;break;case 3:f.ib=c.ONE;f.hb=c.ZERO;break;case 4:f.ib=c.ONE_MINUS_DST_ALPHA;f.hb=c.ONE;break;case 5:f.ib=c.DST_ALPHA;
f.hb=c.ZERO;break;case 6:f.ib=c.ZERO;f.hb=c.SRC_ALPHA;break;case 7:f.ib=c.ONE_MINUS_DST_ALPHA;f.hb=c.ZERO;break;case 8:f.ib=c.ZERO;f.hb=c.ONE_MINUS_SRC_ALPHA;break;case 9:f.ib=c.DST_ALPHA;f.hb=c.ONE_MINUS_SRC_ALPHA;break;case 10:f.ib=c.ONE_MINUS_DST_ALPHA,f.hb=c.SRC_ALPHA}};fb=function(f){return Math.round(1E6*f)/1E6};gb=function(f,k){return"string"!==typeof f||"string"!==typeof k||f.length!==k.length?!1:f===k?!0:f.toLowerCase()===k.toLowerCase()};hb=function(f){f=f.target;return!f||f===document||
f===window||document&&document.body&&f===document.body||gb(f.tagName,"canvas")?!0:!1}})();var $b="undefined"!==typeof Float32Array?Float32Array:Array;function ac(n){var l=new $b(3);n&&(l[0]=n[0],l[1]=n[1],l[2]=n[2]);return l}function bc(n){var l=new $b(16);n&&(l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],l[4]=n[4],l[5]=n[5],l[6]=n[6],l[7]=n[7],l[8]=n[8],l[9]=n[9],l[10]=n[10],l[11]=n[11],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]);return l}
function cc(n,l){l[0]=n[0];l[1]=n[1];l[2]=n[2];l[3]=n[3];l[4]=n[4];l[5]=n[5];l[6]=n[6];l[7]=n[7];l[8]=n[8];l[9]=n[9];l[10]=n[10];l[11]=n[11];l[12]=n[12];l[13]=n[13];l[14]=n[14];l[15]=n[15]}function dc(n,l){var e=l[0],p=l[1];l=l[2];n[0]*=e;n[1]*=e;n[2]*=e;n[3]*=e;n[4]*=p;n[5]*=p;n[6]*=p;n[7]*=p;n[8]*=l;n[9]*=l;n[10]*=l;n[11]*=l}
function ec(n,l,e,p){p||(p=bc());var q,d,a,b,t,g,c,m,u=n[0],h=n[1];n=n[2];d=e[0];a=e[1];q=e[2];e=l[1];g=l[2];u===l[0]&&h===e&&n===g?(n=p,n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1):(e=u-l[0],g=h-l[1],c=n-l[2],m=1/Math.sqrt(e*e+g*g+c*c),e*=m,g*=m,c*=m,l=a*c-q*g,q=q*e-d*c,d=d*g-a*e,(m=Math.sqrt(l*l+q*q+d*d))?(m=1/m,l*=m,q*=m,d*=m):d=q=l=0,a=g*d-c*q,b=c*l-e*d,t=e*q-g*l,(m=Math.sqrt(a*a+b*b+t*t))?(m=1/m,a*=m,b*=m,t*=m):t=b=a=0,
p[0]=l,p[1]=a,p[2]=e,p[3]=0,p[4]=q,p[5]=b,p[6]=g,p[7]=0,p[8]=d,p[9]=t,p[10]=c,p[11]=0,p[12]=-(l*u+q*h+d*n),p[13]=-(a*u+b*h+t*n),p[14]=-(e*u+g*h+c*n),p[15]=1)}
(function(){function n(d){this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.cn=ac([0,0,100]);this.fo=ac([0,0,0]);this.Hp=ac([0,1,0]);this.vm=ac([1,1,1]);this.pn=!0;this.ml=bc();this.qc=bc();this.Xn=bc();this.fk=bc();this.k=d;this.Ln()}function l(d,a,b){this.k=d;this.hh=a;this.name=b;this.pc=d.getAttribLocation(a,"aPos");this.Zd=d.getAttribLocation(a,"aTex");this.co=d.getUniformLocation(a,"matP");this.Hi=d.getUniformLocation(a,"matMV");this.Af=
d.getUniformLocation(a,"opacity");this.eo=d.getUniformLocation(a,"samplerFront");this.Mg=d.getUniformLocation(a,"samplerBack");this.Ne=d.getUniformLocation(a,"destStart");this.Me=d.getUniformLocation(a,"destEnd");this.jl=d.getUniformLocation(a,"seconds");this.il=d.getUniformLocation(a,"pixelWidth");this.hl=d.getUniformLocation(a,"pixelHeight");this.Lg=d.getUniformLocation(a,"layerScale");this.Kg=d.getUniformLocation(a,"layerAngle");this.Og=d.getUniformLocation(a,"viewOrigin");this.Ng=d.getUniformLocation(a,
"scrollPos");this.ct=!!(this.il||this.hl||this.jl||this.Mg||this.Ne||this.Me||this.Lg||this.Kg||this.Og||this.Ng);this.po=this.qo=-999;this.Ji=1;this.lo=this.ko=0;this.no=this.jo=this.ho=1;this.so=this.ro=this.vo=this.uo=this.mo=0;this.cl=[];this.oo=bc();this.Af&&d.uniform1f(this.Af,1);this.eo&&d.uniform1i(this.eo,0);this.Mg&&d.uniform1i(this.Mg,1);this.Ne&&d.uniform2f(this.Ne,0,0);this.Me&&d.uniform2f(this.Me,1,1);this.Lg&&d.uniform1f(this.Lg,1);this.Kg&&d.uniform1f(this.Kg,0);this.Og&&d.uniform2f(this.Og,
0,0);this.Ng&&d.uniform2f(this.Ng,0,0);this.Ae=!1}function e(d,a){this.type=d;this.n=a;this.k=a.k;this.lc=this.$b=this.Lo=0;this.aa=this.Kc=null;this.op=[]}n.prototype.Ln=function(){var d=this.k,a;this.Yn=1;this.Ie=this.He=null;this.Nh=1;d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.enable(d.BLEND);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);d.disable(d.CULL_FACE);d.disable(d.DEPTH_TEST);this.Zn=d.ONE;this.Wn=d.ONE_MINUS_SRC_ALPHA;this.Fl=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.Fl);this.xh=
Array(4);this.oh=Array(4);for(a=0;4>a;a++)this.xh[a]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.xh[a]),this.oh[a]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.oh[a]);this.gd=0;this.gt=d.createBuffer();d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,this.gt);this.qm=new Float32Array(16E3);this.cm=new Float32Array(16E3);this.Xo=new Float32Array(32E3);for(var b=new Uint16Array(12E3),e=a=0;12E3>a;)b[a++]=e,b[a++]=e+1,b[a++]=e+2,b[a++]=e,b[a++]=e+2,b[a++]=e+3,e+=4;d.bufferData(d.ELEMENT_ARRAY_BUFFER,b,
d.STATIC_DRAW);this.Gf=this.cd=0;this.Na=[];a=this.dk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Na.push(a);a=this.dk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Na.push(a);for(var g in fc)fc.hasOwnProperty(g)&&this.Na.push(this.dk(fc[g],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,null);this.fd=[];this.Oc=0;this.Ib=this.ub=!1;this.kn=this.Cg=-1;this.ig=null;this.vs=d.createFramebuffer();this.gp=null;this.ke=ac([0,0,0]);d=d.getParameter(d.ALIASED_POINT_SIZE_RANGE);this.Bt=d[0];this.nl=
d[1];2048<this.nl&&(this.nl=2048);this.$c(0)};l.prototype.lm=function(d){var a=this.oo;if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||a[4]!==d[4]||a[5]!==d[5]||a[6]!==d[6]||a[7]!==d[7]||a[8]!==d[8]||a[9]!==d[9]||a[10]!==d[10]||a[11]!==d[11]||a[12]!==d[12]||a[13]!==d[13]||a[14]!==d[14]||a[15]!==d[15])cc(d,this.oo),this.k.uniformMatrix4fv(this.Hi,!1,d)};n.prototype.dk=function(d,a,b){var e=this.k,g=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(g,d.src);e.compileShader(g);if(!e.getShaderParameter(g,
e.COMPILE_STATUS))return e.deleteShader(g),null;var c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,a);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))return e.deleteShader(g),e.deleteShader(c),null;a=e.createProgram();e.attachShader(a,g);e.attachShader(a,c);e.linkProgram(a);if(!e.getProgramParameter(a,e.LINK_STATUS))return e.deleteShader(g),e.deleteShader(c),e.deleteProgram(a),null;e.useProgram(a);e.deleteShader(g);e.deleteShader(c);b=new l(e,a,b);b.Vh=d.Vh||0;b.Wh=d.Wh||0;b.ek=
!!d.ek;b.Pj=!!d.Pj;b.I=d.I||[];d=0;for(g=b.I.length;d<g;d++)b.I[d][1]=e.getUniformLocation(a,b.I[d][0]),b.cl.push(0),e.uniform1f(b.I[d][1],0);return b};n.prototype.Bk=function(d){var a,b;a=0;for(b=this.Na.length;a<b;a++)if(this.Na[a].name===d)return a;return-1};n.prototype.$o=function(d,a,b){var e=this.qc,g=this.ml,c=[0,0,0,0,0,0,0,0];c[0]=e[0]*d+e[4]*a+e[12];c[1]=e[1]*d+e[5]*a+e[13];c[2]=e[2]*d+e[6]*a+e[14];c[3]=e[3]*d+e[7]*a+e[15];c[4]=g[0]*c[0]+g[4]*c[1]+g[8]*c[2]+g[12]*c[3];c[5]=g[1]*c[0]+g[5]*
c[1]+g[9]*c[2]+g[13]*c[3];c[6]=g[2]*c[0]+g[6]*c[1]+g[10]*c[2]+g[14]*c[3];c[7]=-c[2];0!==c[7]&&(c[7]=1/c[7],c[4]*=c[7],c[5]*=c[7],c[6]*=c[7],b[0]=(.5*c[4]+.5)*this.width,b[1]=(.5*c[5]+.5)*this.height)};n.prototype.Mf=function(d,a,b){if(this.width!==d||this.height!==a||b){this.Sd();this.width=d;this.height=a;this.k.viewport(0,0,d,a);a=d/a;var e=this.ml,g;g=1*Math.tan(45*Math.PI/360);a*=g;d=-a;b=-g;e||(e=bc());var c=a-d,m=g-b;e[0]=2/c;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/m;e[6]=0;e[7]=0;e[8]=(a+d)/c;e[9]=
(g+b)/m;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;ec(this.cn,this.fo,this.Hp,this.qc);d=[0,0];a=[0,0];this.$o(0,0,d);this.$o(1,1,a);this.vm[0]=1/(a[0]-d[0]);this.vm[1]=-1/(a[1]-d[1]);d=0;for(a=this.Na.length;d<a;d++)b=this.Na[d],b.Ae=!1,b.co&&(this.k.useProgram(b.hh),this.k.uniformMatrix4fv(b.co,!1,this.ml));this.k.useProgram(this.Na[this.Cg].hh);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE1);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE0);
this.Ie=this.He=null}};n.prototype.fe=function(){ec(this.cn,this.fo,this.Hp,this.qc);dc(this.qc,this.vm)};n.prototype.translate=function(d,a){if(0!==d||0!==a){this.ke[0]=d;this.ke[1]=a;this.ke[2]=0;var b=this.qc,e=this.ke,g=e[0],c=e[1],e=e[2];b[12]=b[0]*g+b[4]*c+b[8]*e+b[12];b[13]=b[1]*g+b[5]*c+b[9]*e+b[13];b[14]=b[2]*g+b[6]*c+b[10]*e+b[14];b[15]=b[3]*g+b[7]*c+b[11]*e+b[15]}};n.prototype.scale=function(d,a){if(1!==d||1!==a)this.ke[0]=d,this.ke[1]=a,this.ke[2]=1,dc(this.qc,this.ke)};n.prototype.hp=
function(d){if(0!==d){var a=this.qc,b,e=Math.sin(d);d=Math.cos(d);var g=a[0],c=a[1],m=a[2],u=a[3],h=a[4],r=a[5],s=a[6],k=a[7];b?a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=g*d+h*e;b[1]=c*d+r*e;b[2]=m*d+s*e;b[3]=u*d+k*e;b[4]=g*-e+h*d;b[5]=c*-e+r*d;b[6]=m*-e+s*d;b[7]=u*-e+k*d}};n.prototype.me=function(){for(var d=!1,a=0;16>a;a++)if(this.Xn[a]!==this.qc[a]){d=!0;break}d&&(d=this.uc(),d.type=5,d.aa?cc(this.qc,d.aa):d.aa=bc(this.qc),cc(this.qc,
this.Xn),this.Ib=this.ub=!1)};e.prototype.Jr=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Kc)};e.prototype.Kr=function(){var d=this.k;d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,this.Kc);d.activeTexture(d.TEXTURE0)};e.prototype.Gr=function(){var d=this.Lo,a=this.n;a.Nh=d;a=a.ig;a.Af&&a.Ji!==d&&(a.Ji=d,this.k.uniform1f(a.Af,d))};e.prototype.Dr=function(){this.k.drawElements(this.k.TRIANGLES,this.lc,this.k.UNSIGNED_SHORT,2*this.$b)};e.prototype.Fr=function(){this.k.blendFunc(this.$b,
this.lc)};e.prototype.Lr=function(){var d,a,b,e=this.n.Na,g=this.n.kn;d=0;for(a=e.length;d<a;d++)b=e[d],d===g&&b.Hi?(b.lm(this.aa),b.Ae=!0):b.Ae=!1;cc(this.aa,this.n.fk)};e.prototype.Er=function(){var d=this.k,a=this.n;this.Kc?(a.Ie===this.Kc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,null),a.Ie=null,d.activeTexture(d.TEXTURE0)),d.bindFramebuffer(d.FRAMEBUFFER,a.vs),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.Kc,0)):(d.framebufferTexture2D(d.FRAMEBUFFER,
d.COLOR_ATTACHMENT0,d.TEXTURE_2D,null,0),d.bindFramebuffer(d.FRAMEBUFFER,null))};e.prototype.Br=function(){var d=this.k;0===this.$b?(d.clearColor(this.aa[0],this.aa[1],this.aa[2],this.aa[3]),d.clear(d.COLOR_BUFFER_BIT)):(d.enable(d.SCISSOR_TEST),d.scissor(this.aa[0],this.aa[1],this.aa[2],this.aa[3]),d.clearColor(0,0,0,0),d.clear(this.k.COLOR_BUFFER_BIT),d.disable(d.SCISSOR_TEST))};e.prototype.Cr=function(){var d=this.k,a=this.n,b=a.Na[1];d.useProgram(b.hh);!b.Ae&&b.Hi&&(b.lm(a.fk),b.Ae=!0);d.enableVertexAttribArray(b.pc);
d.bindBuffer(d.ARRAY_BUFFER,a.Fl);d.vertexAttribPointer(b.pc,4,d.FLOAT,!1,0,0);d.drawArrays(d.POINTS,this.$b/4,this.lc);b=a.ig;d.useProgram(b.hh);0<=b.pc&&(d.enableVertexAttribArray(b.pc),d.bindBuffer(d.ARRAY_BUFFER,a.xh[a.gd]),d.vertexAttribPointer(b.pc,2,d.FLOAT,!1,0,0));0<=b.Zd&&(d.enableVertexAttribArray(b.Zd),d.bindBuffer(d.ARRAY_BUFFER,a.oh[a.gd]),d.vertexAttribPointer(b.Zd,2,d.FLOAT,!1,0,0))};e.prototype.Hr=function(){var d=this.k,a=this.n,b=a.Na[this.$b];a.kn=this.$b;a.ig=b;d.useProgram(b.hh);
!b.Ae&&b.Hi&&(b.lm(a.fk),b.Ae=!0);b.Af&&b.Ji!==a.Nh&&(b.Ji=a.Nh,d.uniform1f(b.Af,a.Nh));0<=b.pc&&(d.enableVertexAttribArray(b.pc),d.bindBuffer(d.ARRAY_BUFFER,a.xh[a.gd]),d.vertexAttribPointer(b.pc,2,d.FLOAT,!1,0,0));0<=b.Zd&&(d.enableVertexAttribArray(b.Zd),d.bindBuffer(d.ARRAY_BUFFER,a.oh[a.gd]),d.vertexAttribPointer(b.Zd,2,d.FLOAT,!1,0,0))};e.prototype.Ir=function(){var d,a,b=this.n.ig,e=this.k;d=this.aa;b.Mg&&this.n.Ie!==this.Kc&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.Kc),
this.n.Ie=this.Kc,e.activeTexture(e.TEXTURE0));var g=d[0];b.il&&g!==b.qo&&(b.qo=g,e.uniform1f(b.il,g));g=d[1];b.hl&&g!==b.po&&(b.po=g,e.uniform1f(b.hl,g));g=d[2];a=d[3];!b.Ne||g===b.ko&&a===b.lo||(b.ko=g,b.lo=a,e.uniform2f(b.Ne,g,a));g=d[4];a=d[5];!b.Me||g===b.ho&&a===b.jo||(b.ho=g,b.jo=g,e.uniform2f(b.Me,g,a));g=d[6];b.Lg&&g!==b.no&&(b.no=g,e.uniform1f(b.Lg,g));g=d[7];b.Kg&&g!==b.mo&&(b.mo=g,e.uniform1f(b.Kg,g));g=d[8];a=d[9];!b.Og||g===b.uo&&a===b.vo||(b.uo=g,b.vo=a,e.uniform2f(b.Og,g,a));g=d[10];
a=d[11];!b.Ng||g===b.ro&&a===b.so||(b.ro=g,b.so=a,e.uniform2f(b.Ng,g,a));b.jl&&e.uniform1f(b.jl,Va()/1E3);if(b.I.length)for(d=0,a=b.I.length;d<a;d++)g=this.op[d],g!==b.cl[d]&&(b.cl[d]=g,e.uniform1f(b.I[d][1],g))};n.prototype.uc=function(){this.Oc===this.fd.length&&this.fd.push(new e(0,this));return this.fd[this.Oc++]};n.prototype.Sd=function(){if(0!==this.Oc&&!this.k.isContextLost()){var d=this.k;0<this.Gf&&(d.bindBuffer(d.ARRAY_BUFFER,this.Fl),d.bufferData(d.ARRAY_BUFFER,this.Xo.subarray(0,this.Gf),
d.STREAM_DRAW),a&&0<=a.pc&&"<point>"===a.name&&d.vertexAttribPointer(a.pc,4,d.FLOAT,!1,0,0));if(0<this.cd){var a=this.ig;d.bindBuffer(d.ARRAY_BUFFER,this.xh[this.gd]);d.bufferData(d.ARRAY_BUFFER,this.qm.subarray(0,this.cd),d.STREAM_DRAW);a&&0<=a.pc&&"<point>"!==a.name&&d.vertexAttribPointer(a.pc,2,d.FLOAT,!1,0,0);d.bindBuffer(d.ARRAY_BUFFER,this.oh[this.gd]);d.bufferData(d.ARRAY_BUFFER,this.cm.subarray(0,this.cd),d.STREAM_DRAW);a&&0<=a.Zd&&"<point>"!==a.name&&d.vertexAttribPointer(a.Zd,2,d.FLOAT,
!1,0,0)}for(var b,d=0,a=this.Oc;d<a;d++)switch(b=this.fd[d],b.type){case 1:b.Dr();break;case 2:b.Jr();break;case 3:b.Gr();break;case 4:b.Fr();break;case 5:b.Lr();break;case 6:b.Er();break;case 7:b.Br();break;case 8:b.Cr();break;case 9:b.Hr();break;case 10:b.Ir();break;case 11:b.Kr()}this.Gf=this.cd=this.Oc=0;this.Ib=this.ub=!1;this.gd++;4<=this.gd&&(this.gd=0)}};n.prototype.Se=function(d){if(d!==this.Yn){var a=this.uc();a.type=3;this.Yn=a.Lo=d;this.Ib=this.ub=!1}};n.prototype.Nb=function(d){if(d!==
this.He){var a=this.uc();a.type=2;this.He=a.Kc=d;this.Ib=this.ub=!1}};n.prototype.ge=function(d,a){if(d!==this.Zn||a!==this.Wn){var b=this.uc();b.type=4;b.$b=d;b.lc=a;this.Zn=d;this.Wn=a;this.Ib=this.ub=!1}};n.prototype.kp=function(){this.ge(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};n.prototype.ah=function(d,a,b,e,g,c,m,u){15992<=this.cd&&this.Sd();var h=this.cd,r=this.qm,s=this.cm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var k=this.uc();k.type=1;k.$b=h/4*3;k.lc=6;this.ub=!0;this.Ib=!1}r[h]=d;s[h++]=
0;r[h]=a;s[h++]=0;r[h]=b;s[h++]=1;r[h]=e;s[h++]=0;r[h]=g;s[h++]=1;r[h]=c;s[h++]=1;r[h]=m;s[h++]=0;r[h]=u;s[h++]=1;this.cd=h};n.prototype.de=function(d,a,b,e,g,c,m,u,h){15992<=this.cd&&this.Sd();var r=this.cd,s=this.qm,k=this.cm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var f=this.uc();f.type=1;f.$b=r/4*3;f.lc=6;this.ub=!0;this.Ib=!1}var f=h.left,v=h.top,B=h.right;h=h.bottom;s[r]=d;k[r++]=f;s[r]=a;k[r++]=v;s[r]=b;k[r++]=B;s[r]=e;k[r++]=v;s[r]=g;k[r++]=B;s[r]=c;k[r++]=h;s[r]=m;k[r++]=f;s[r]=u;k[r++]=
h;this.cd=r};n.prototype.Pt=function(d,a,b,e){7996<=this.Gf&&this.Sd();var g=this.Gf,c=this.Xo;if(this.Ib)this.fd[this.Oc-1].lc++;else{var m=this.uc();m.type=8;m.$b=g;m.lc=1;this.Ib=!0;this.ub=!1}c[g++]=d;c[g++]=a;c[g++]=b;c[g++]=e;this.Gf=g};n.prototype.$c=function(d){if(this.Cg!==d){if(!this.Na[d]){if(0===this.Cg)return;d=0}var a=this.uc();a.type=9;this.Cg=a.$b=d;this.Ib=this.ub=!1}};n.prototype.Zg=function(d){d=this.Na[d];return!(!d.Ne&&!d.Me)};n.prototype.Gl=function(d){d=this.Na[d];return!!(d.Ne||
d.Me||d.ek)};n.prototype.Wt=function(d){d=this.Na[d];return 0!==d.Vh||0!==d.Wh};n.prototype.Ks=function(d){return this.Na[d].Vh};n.prototype.Ls=function(d){return this.Na[d].Wh};n.prototype.Ms=function(d,a){return this.Na[d].I[a][2]};n.prototype.aj=function(d){return this.Na[d].Pj};n.prototype.Lf=function(d,a,b,e,g,c,m,u,h,r,s,k,f,v){var B=this.Na[this.Cg],F,y;if(B.ct||v.length){F=this.uc();F.type=10;F.aa?cc(this.qc,F.aa):F.aa=bc();y=F.aa;y[0]=a;y[1]=b;y[2]=e;y[3]=g;y[4]=c;y[5]=m;y[6]=u;y[7]=h;y[8]=
r;y[9]=s;y[10]=k;y[11]=f;F.Kc=B.Mg?d:null;if(v.length)for(b=F.op,b.length=v.length,d=0,a=v.length;d<a;d++)b[d]=v[d];this.Ib=this.ub=!1}};n.prototype.clear=function(d,a,b,e){var g=this.uc();g.type=7;g.$b=0;g.aa||(g.aa=bc());g.aa[0]=d;g.aa[1]=a;g.aa[2]=b;g.aa[3]=e;this.Ib=this.ub=!1};n.prototype.clearRect=function(d,a,b,e){if(!(0>b||0>e)){var g=this.uc();g.type=7;g.$b=1;g.aa||(g.aa=bc());g.aa[0]=d;g.aa[1]=a;g.aa[2]=b;g.aa[3]=e;this.Ib=this.ub=!1}};n.prototype.Vt=function(){this.Sd();this.k.flush()};
var p=[],q={};n.prototype.qr=function(){p.length=0;q={}};n.prototype.xf=function(d,a,b,e){a=!!a;b=!!b;var g=d.src+","+a+","+b+(a?",undefined":""),c=null;if("undefined"!==typeof d.src&&q.hasOwnProperty(g))return c=q[g],c.Ch++,c;this.Sd();var m=this.k,u=ha(d.width)&&ha(d.height),c=m.createTexture();m.bindTexture(m.TEXTURE_2D,c);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var h=m.RGBA,r=m.RGBA,s=m.UNSIGNED_BYTE;if(e&&!this.Fe)switch(e){case 1:r=h=m.RGB;break;case 2:s=m.UNSIGNED_SHORT_4_4_4_4;
break;case 3:s=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:r=h=m.RGB,s=m.UNSIGNED_SHORT_5_6_5}if(!u&&a){e=document.createElement("canvas");e.width=ia(d.width);e.height=ia(d.height);var k=e.getContext("2d");k.webkitImageSmoothingEnabled=b;k.mozImageSmoothingEnabled=b;k.msImageSmoothingEnabled=b;k.imageSmoothingEnabled=b;k.drawImage(d,0,0,d.width,d.height,0,0,e.width,e.height);m.texImage2D(m.TEXTURE_2D,0,h,r,s,e)}else m.texImage2D(m.TEXTURE_2D,0,h,r,s,d);a?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));b?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),u&&this.pn?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.He=null;c.dg=d.width;c.bg=d.height;c.Ch=1;c.an=g;p.push(c);return q[g]=c};n.prototype.Pd=function(d,a,b){var e;this.Sd();var g=this.k;this.Fe&&(e=!1);var c=g.createTexture();g.bindTexture(g.TEXTURE_2D,c);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,a,0,g.RGBA,e?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,b?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.He=null;c.dg=d;c.bg=a;p.push(c);return c};n.prototype.deleteTexture=function(d){d&&("undefined"!==typeof d.Ch&&1<d.Ch?d.Ch--:(this.Sd(),d===this.He&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.He=null),d===this.Ie&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.Ie=
null),Ba(p,d),"undefined"!==typeof d.an&&delete q[d.an],this.k.deleteTexture(d)))};n.prototype.Zc=function(d){if(d!==this.gp){var a=this.uc();a.type=6;this.gp=a.Kc=d;this.Ib=this.ub=!1}};ib=n})();
(function(){function n(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function l(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function e(k){if(k&&(k.getContext||k.dc)&&!k.c2runtime){k.c2runtime=this;var f=this;this.Xb=(this.xg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.$a=!!k.dc;this.of="undefined"!==typeof window.AppMobi||this.$a;this.Wb=!!window.c2cocoonjs;this.mc=!!window.c2ejecta;this.Wb&&(CocoonJS.App.onSuspended.addEventListener(function(){f.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){f.setSuspended(!1)}));this.mc&&(document.addEventListener("pagehide",function(){f.setSuspended(!0)}),document.addEventListener("pageshow",
function(){f.setSuspended(!1)}),document.addEventListener("resize",function(){f.setSize(window.innerWidth,window.innerHeight)}));this.fa=this.$a||this.Wb||this.mc;this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Rn=/tizen/i.test(navigator.userAgent);this.li=/android/i.test(navigator.userAgent)&&!this.Rn&&!this.Fe;this.al=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Fe;this.Vn=/ipad/i.test(navigator.userAgent);this.si=this.al||this.Vn||this.mc;this.qt=this.al&&/os\s6/i.test(navigator.userAgent);this.wg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Fe;this.Uk=/amazonwebappplatform/i.test(navigator.userAgent);this.kt=/firefox/i.test(navigator.userAgent);this.Qn=/safari/i.test(navigator.userAgent)&&!this.wg&&!this.Fe;this.nt=/windows/i.test(navigator.userAgent);this.Xd="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Sn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Tn=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.rf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ni=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Zk=this.Sn||this.Tn||this.ni;this.jt=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.mi=this.li&&!this.wg&&!this.xg&&!this.kt&&!this.Uk&&!this.fa;this.devicePixelRatio=1;this.qd=this.Xb||this.xg||this.of||this.Wb||this.li||this.si||this.rf||this.ni||this.jt||this.Rn||this.mc;this.qd||(this.qd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Xd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.Xd=!0);this.canvas=k;this.dn=document.getElementById("c2canvasdiv");this.da=this.n=this.k=null;this.rk="";this.Zh=!1;this.Fo=this.Go=0;this.canvas.oncontextmenu=function(f){f.preventDefault&&f.preventDefault();return!1};this.canvas.onselectstart=function(f){f.preventDefault&&f.preventDefault();return!1};this.$a&&(window.c2runtime=this);this.Xd&&(window.ondragover=function(f){f.preventDefault();return!1},window.ondrop=function(f){f.preventDefault();return!1},require("nw.gui").App.clearCache());
this.mi&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=k.width;this.height=k.height;this.L=this.width;this.K=this.height;this.Lh=this.width;this.Kh=this.height;this.Eg=window.innerWidth;this.Dg=window.innerHeight;this.xs=!1;this.ba=!0;this.zg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.m=[];this.Da=[];this.fl={};this.Hc=[];this.lk={};this.ld=[];this.Xf=[];this.xj=[];this.er=[];this.fr=[];this.te={};this.Vk=
this.Vd=!1;this.Fc=0;this.Xk=!1;this.Qc=[];this.rd=this.kb=this.Di=this.Tl="";this.kh=this.sp=!1;this.ck=this.Pg=this.Rd=this.ve=0;this.We=1;this.yb=new Za;this.dd=new Za;this.Ni=this.ai=this.Uh=this.sh=this.Ke=this.qk=this.Ai=0;this.$j=null;this.ik=[];this.kk=[];this.Th=-1;this.kl=[[]];this.im=this.Ii=0;this.Il(null);this.lg=this.Ao=this.Sg=0;this.mh=[];this.fm=this.Jl=-1;this.ti=!0;this.zf=0;this.yg=!1;this.qu=0;this.df=null;this.ya=this.nf=!1;this.Eo=new ba;this.tl=new ba;this.ul=new ba;this.Zt=
[];new ab([]);new ab([]);this.cf=[];this.hi={};this.gf={};this.bf={};this.Wf={};this.Ym={};this.bo=this.Ci=this.Jb=this.Zb=this.ao=this.Bi=this.ja=null;this.Uf=this.$k=!1;this.sk=[null,null];this.ye=0;this.nk="";this.td={};this.kj=this.yf=null;this.Mi=[];this.$t()}}function p(k){k.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(k,f,c,a){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=a;b.onsuccess=function(b){b=b.target.result;b.onerror=a;b.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:k,data:f}).onsuccess=c}}function d(k,f,c){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=p;a.onerror=c;a.onsuccess=function(a){a=a.target.result;a.onerror=c;var b=a.transaction(["saves"]).objectStore("saves").get(k);b.onsuccess=function(){b.result?f(b.result.data):f(null)}}}function a(){N("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+=
"?continuous"}function b(k){var f,c={};for(f in k)!k.hasOwnProperty(f)||k[f]instanceof ba||k[f]&&"undefined"!==typeof k[f].Jv||(c[f]=k[f]);return c}e.prototype.$t=function(){var k=this,f;f=this.rf?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Sn||this.rf||this.ni)c="data.json";f.open("GET",c,!0);var a=!1;if(!this.fa&&"response"in f&&"responseType"in f)try{f.responseType="json",a="json"===f.responseType}catch(b){a=!1}if(!a&&"responseType"in f)try{f.responseType=
"text"}catch(h){}if("overrideMimeType"in f)try{f.overrideMimeType("application/json; charset=utf-8")}catch(d){}this.rf?f.onreadystatechange=function(){4===f.readyState&&k.Fi(JSON.parse(f.responseText))}:(f.onload=function(){if(a)k.Fi(f.response);else if(k.mc){var c=f.responseText,c=c.substr(c.indexOf("{"));k.Fi(JSON.parse(c))}else k.Fi(JSON.parse(f.responseText))},f.onerror=function(f){da("Error requesting "+c+":");da(f)});f.send()};e.prototype.ht=function(){var k=this,f,c,a,b,h,d,m,e,r;this.devicePixelRatio=
(this.qf=(!this.fa||this.mc)&&this.Cu&&!this.mi)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.fb();c=!(!this.xs&&(!this.Nj||this.Xd||this.Zk||this.rf||this.xg||this.Xb||this.Uk));0<this.tb&&this.setSize(n(),l(),!0);try{this.Rr&&(this.Wb||this.mc||!this.fa)&&(f={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",f)||this.canvas.getContext("experimental-webgl",f))}catch(g){}if(this.k){this.fa||
(this.ab=document.createElement("canvas"),jQuery(this.ab).appendTo(this.canvas.parentNode),this.ab.oncontextmenu=function(){return!1},this.ab.onselectstart=function(){return!1},this.ab.width=this.Lh,this.ab.height=this.Kh,jQuery(this.ab).css({width:this.Lh+"px",height:this.Kh+"px"}),this.Zo(),this.El=this.ab.getContext("2d"));this.n=new ib(this.k,this.qd);this.n.Mf(this.canvas.width,this.canvas.height);this.n.pn=0!==this.Mr;this.da=null;this.canvas.addEventListener("webglcontextlost",function(f){f.preventDefault();
k.Et();N("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){k.n.Ln();k.n.Mf(k.n.width,k.n.height,!0);k.Zb=null;k.Jb=null;k.sk[0]=null;k.sk[1]=null;k.Ft();k.ba=!0;N("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);f=0;for(c=this.m.length;f<c;f++)for(h=this.m[f],a=0,b=h.F.length;a<b;a++)m=h.F[a],m.cb=this.n.Bk(m.id),this.Uf=this.Uf||this.n.Zg(m.cb);f=0;for(c=this.Hc.length;f<c;f++){e=this.Hc[f];a=
0;for(b=e.F.length;a<b;a++)m=e.F[a],m.cb=this.n.Bk(m.id);a=0;for(b=e.J.length;a<b;a++)for(r=e.J[a],h=0,d=r.F.length;h<d;h++)m=r.F[h],m.cb=this.n.Bk(m.id),this.Uf=this.Uf||this.n.Zg(m.cb)}}else{if(0<this.tb&&this.$a){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.da=AppMobi.canvas.getContext("2d");try{this.da.samplingMode=this.P?"smooth":"sharp",this.da.globalScale=1,this.da.HTML5CompatibilityMode=!0,this.da.imageSmoothingEnabled=this.P}catch(u){}0!==
this.width&&0!==this.height&&(this.da.width=this.width,this.da.height=this.height)}this.da||(f=this.Wb?{antialias:!!this.P,alpha:c}:{alpha:c},this.da=this.canvas.getContext("2d",f),this.da.webkitImageSmoothingEnabled=this.P,this.da.mozImageSmoothingEnabled=this.P,this.da.msImageSmoothingEnabled=this.P,this.da.imageSmoothingEnabled=this.P);this.El=this.ab=null}this.yp=function(f){k.Oa(!1,f)};window==window.top||this.fa||this.Zk||this.rf||(document.addEventListener("mousedown",function(){window.focus()},
!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Wb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(N("Reloading for continuous preview"),this.Di="__c2_continuouspreview",this.kh=!0),this.Nt&&!this.qd&&(jQuery(window).focus(function(){k.setSuspended(!1)}),jQuery(window).blur(function(){k.setSuspended(!0)})));this.fa||(f=function(f){if(hb(f)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(k){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",f):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",f):document.addEventListener("touchstart",f),document.addEventListener("mousedown",f));0===this.tb&&this.qf&&1<this.devicePixelRatio&&this.setSize(this.Ka,this.Ja,!0);this.Dp();this.Zs();this.go();this.X={}};e.prototype.setSize=
function(k,f,c){var a=0,b=0,h=0,d=0,d=0,m=this.qt&&this.Qn&&!navigator.standalone&&!this.fa&&!this.Xb;m&&(f+=60);if(this.Eg!==k||this.Dg!==f||c){this.Eg=k;this.Dg=f;var e=this.tb,r=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.yg)&&!this.Xb;if(r||0!==this.tb||c)r&&0<this.ye&&(e=this.ye),c=this.devicePixelRatio,4<=e?(h=this.Ka/this.Ja,k/f>h?(h*=f,5===e?(d=h*c/this.Ka,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),h=this.Ka*d/c,d=this.Ja*
d/c,a=(k-h)/2,b=(f-d)/2,k=h,f=d):(a=(k-h)/2,k=h)):(d=k/h,5===e?(d=d*c/this.Ja,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),h=this.Ka*d/c,d=this.Ja*d/c,a=(k-h)/2,b=(f-d)/2,k=h):b=(f-d)/2,f=d),r&&!this.Xd&&(b=a=0)):this.Xd&&this.yg&&0===this.vn&&(a=Math.floor((k-this.Ka)/2),b=Math.floor((f-this.Ja)/2),k=this.Ka,f=this.Ja),2>e&&(this.ag=c),this.qf&&this.Vn&&1<c&&(1024<=k&&(k=1023),1024<=f&&(f=1023)),this.Lh=Math.round(k),this.Kh=Math.round(f),this.width=Math.round(k*c),this.height=Math.round(f*c),this.ba=
!0,this.Pp?(this.L=this.width,this.K=this.height,this.jc=!0):this.width<this.Ka&&this.height<this.Ja||1===e?(this.L=this.width,this.K=this.height,this.jc=!0):(this.L=this.Ka,this.K=this.Ja,this.jc=!1,2===e?(h=this.Ka/this.Ja,e=this.Eg/this.Dg,e<h?this.L=this.K*e:e>h&&(this.K=this.L/e)):3===e&&(h=this.Ka/this.Ja,e=this.Eg/this.Dg,e>h?this.L=this.K*e:e<h&&(this.K=this.L/e))),this.dn&&!this.fa&&(jQuery(this.dn).css({width:Math.round(k)+"px",height:Math.round(f)+"px","margin-left":Math.floor(a)+"px",
"margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(k)+"px",height:Math.round(f)+"px"})),this.canvas&&(this.canvas.width=Math.round(k*c),this.canvas.height=Math.round(f*c),this.mc?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(k)+"px",this.canvas.style.height=Math.round(f)+"px"):this.qf&&!this.fa&&jQuery(this.canvas).css({width:Math.round(k)+"px",height:Math.round(f)+
"px"})),this.ab&&(this.ab.width=Math.round(k),this.ab.height=Math.round(f),jQuery(this.ab).css({width:Math.round(k)+"px",height:Math.round(f)+"px"})),this.n&&this.n.Mf(Math.round(k*c),Math.round(f*c)),this.$a&&this.da&&(this.da.width=Math.round(k),this.da.height=Math.round(f)),this.da&&(this.da.webkitImageSmoothingEnabled=this.P,this.da.mozImageSmoothingEnabled=this.P,this.da.msImageSmoothingEnabled=this.P,this.da.imageSmoothingEnabled=this.P),this.Dp(),this.fa||!m&&!this.al||window.setTimeout(function(){window.scrollTo(0,
1)},100)}};e.prototype.Dp=function(){if(this.ir&&0!==this.Cl){var k="portrait";2===this.Cl&&(k="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(k):screen.lockOrientation?screen.lockOrientation(k):screen.webkitLockOrientation?screen.webkitLockOrientation(k):screen.mozLockOrientation?screen.mozLockOrientation(k):screen.msLockOrientation&&screen.msLockOrientation(k)}};e.prototype.Et=function(){this.n.qr();this.$k=!0;var k,f,c;k=0;for(f=this.m.length;k<f;k++)c=this.m[k],
c.Oi&&c.Oi()};e.prototype.Ft=function(){this.$k=!1;var k,f,c;k=0;for(f=this.m.length;k<f;k++)c=this.m[k],c.Qi&&c.Qi()};e.prototype.Zo=function(){if(!this.fa){var k=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.yg)&&!this.Xb?jQuery(this.canvas).offset():jQuery(this.canvas).position();k.position="absolute";jQuery(this.ab).css(k)}};var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;e.prototype.setSuspended=function(k){var f;if(k&&!this.zg)for(N("[Construct 2] Suspending"),this.zg=!0,-1!==this.Jl&&t&&t(this.Jl),-1!==this.fm&&clearTimeout(this.fm),k=0,f=this.mh.length;k<f;k++)this.mh[k](!0);else if(!k&&this.zg){N("[Construct 2] Resuming");this.zg=!1;this.Ai=Va();this.Ke=Va();k=this.Pg=this.ai=0;for(f=this.mh.length;k<f;k++)this.mh[k](!1);this.Oa(!1)}};e.prototype.Om=function(k){this.mh.push(k)};e.prototype.Ed=function(k){return this.Mi[k]};e.prototype.Fi=
function(k){k&&k.project||da("Project model unavailable");k=k.project;this.name=k[0];this.un=k[1];this.tb=k[12];this.vn=k[12];this.Ka=k[10];this.Ja=k[11];this.So=this.Ka/2;this.To=this.Ja/2;this.fa&&!this.mc&&(4<=k[12]||0===k[12])&&(N("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.vn=this.tb=3);this.om=k[18];this.Jg=k[19];0===this.Jg&&(this.yf=new Image,this.yf.src="loading-logo.png");this.Sg=k[21];this.Mi=gc();this.ad=new X(this);
var f,c,a,b,h,d,m,e,r;f=0;for(c=k[2].length;f<c;f++)m=k[2][f],a=this.Ed(m[0]),jb(m,a.prototype),r=new a(this),r.ij=m[1],r.Yd=m[2],r.yo=m[9],r.S&&r.S(),this.plugins.push(r);this.Mi=gc();f=0;for(c=k[3].length;f<c;f++){m=k[3][f];h=this.Ed(m[1]);r=null;a=0;for(b=this.plugins.length;a<b;a++)if(this.plugins[a]instanceof h){r=this.plugins[a];break}var g=new r.ra(r);g.name=m[0];g.A=m[2];g.Sk=m[3].slice(0);g.Eu=m[3].length;g.jr=m[4];g.zs=m[5];g.M=m[11];g.A?(g.Ki=[],g.md=this.lg++,g.qa=null):(g.Ki=null,g.md=
-1,g.qa=[]);g.Xh=null;g.jf=null;g.qn=null;g.Yb=!1;g.Fb=null;m[6]?(g.rj=m[6][0],g.em=m[6][1],g.qh=m[6][2]):(g.rj=null,g.em=0,g.qh=0);g.Eb=m[7]?m[7]:null;g.index=f;g.c=[];g.Ph=[];g.ie=[new kb(g)];g.kd=0;g.hc=null;g.wr=0;g.Qf=!0;g.zj=lb;g.Ds=mb;g.Is=nb;g.ea=ob;g.$g=pb;g.Hl=qb;g.Hf=rb;g.ci=sb;g.uk=ub;g.yk=vb;g.Id=wb;g.Bn=xb;g.en=new bb(this.Ka,this.Ja);g.Rm=!0;g.Sm=!1;g.X={};g.toString=yb;g.Da=[];a=0;for(b=m[8].length;a<b;a++){e=m[8][a];var u=this.Ed(e[1]),s=null;h=0;for(d=this.Da.length;h<d;h++)if(this.Da[h]instanceof
u){s=this.Da[h];break}s||(s=new u(this),s.zo=[],s.Li=new ba,s.S&&s.S(),this.Da.push(s));-1===s.zo.indexOf(g)&&s.zo.push(g);h=new s.ra(s,g);h.name=e[0];h.M=e[2];h.S();g.Da.push(h)}g.global=m[9];g.Wk=m[10];g.F=[];a=0;for(b=m[12].length;a<b;a++)g.F.push({id:m[12][a][0],name:m[12][a][1],cb:-1,Pa:!0,index:a});g.Vv=m[13];this.om&&!g.A&&!g.Wk&&r.Yd||g.S();g.name&&(this.types[g.name]=g);this.m.push(g);r.ij&&(a=new r.ka(g),a.uid=this.Sg++,a.cp=this.Ao++,a.Ce=0,a.qg=zb,a.toString=Ab,a.Y=m[14],a.S(),g.c.push(a),
this.td[a.uid.toString()]=a)}f=0;for(c=k[4].length;f<c;f++)for(h=k[4][f],d=this.m[h[0]],a=1,b=h.length;a<b;a++)m=this.m[h[a]],m.qa.push(d),d.Ki.push(m);f=0;for(c=k[27].length;f<c;f++){h=k[27][f];d=[];a=0;for(b=h.length;a<b;a++)d.push(this.m[h[a]]);a=0;for(b=d.length;a<b;a++)d[a].Yb=!0,d[a].Fb=d}if(0<this.lg)for(f=0,c=this.m.length;f<c;f++)if(m=this.m[f],!m.A&&m.qa.length){m.Xh=Array(this.lg);m.jf=Array(this.lg);m.qn=Array(this.lg);g=[];a=s=u=e=0;for(b=m.qa.length;a<b;a++)for(r=m.qa[a],m.Xh[r.md]=
e,e+=r.Eu,m.jf[r.md]=u,u+=r.jr,m.qn[r.md]=s,s+=r.zs,h=0,d=r.F.length;h<d;h++)g.push(wa({},r.F[h]));m.F=g.concat(m.F);a=0;for(b=m.F.length;a<b;a++)m.F[a].index=a}f=0;for(c=k[5].length;f<c;f++)m=k[5][f],a=new Bb(this,m),this.fl[a.name]=a,this.Hc.push(a);f=0;for(c=k[6].length;f<c;f++)m=k[6][f],a=new Cb(this,m),this.lk[a.name]=a,this.ld.push(a);f=0;for(c=this.ld.length;f<c;f++)this.ld[f].Ba();f=0;for(c=this.ld.length;f<c;f++)this.ld[f].km();f=0;for(c=this.xj.length;f<c;f++)this.xj[f].Ba();this.xj.length=
0;this.hr=k[7];this.nk=k[8];this.Yc=k[9];this.ag=1;this.Rr=k[13];this.P=k[14];this.Nj=k[15];this.Cu=k[17];this.Cl=k[20];this.ir=0<this.Cl;this.Nt=k[22];this.jc=this.Pp=k[23];this.Mr=k[24];this.Tt=k[25];this.nj=Date.now();this.Mi.length=0;this.ht()};var g=!1;e.prototype.tm=function(k,f){k.cocoonLazyLoad=!0;k.onerror=function(f){g=k.$m=!0;console&&console.error&&console.error("Error loading image '"+k.src+"': ",f)};this.mc?k.src=f:k.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(f){k.src=
f},function(c){g=k.$m=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",c)}):k.src=f);this.Xf.push(k)};e.prototype.ws=function(k){var f,c;f=0;for(c=this.Xf.length;f<c;f++)if(this.Xf[f].rr===k)return this.Xf[f];return null};var c=0,m=!1;e.prototype.Zs=function(){this.df&&(c=this.df.mu(this.hr))};e.prototype.Tm=function(){var k=c,f=0,a=0,b=!0,h,d,a=0;for(h=this.Xf.length;a<h;a++){d=this.Xf[a];var g=d.hn;if(!g||0>=g)g=5E4;k+=g;d.src&&(d.complete||d.loaded)&&
!d.$m?f+=g:b=!1}b&&this.Tt&&this.df&&(m||(this.df.ru(),m=!0),a=this.df.Js(),f+=a,a<c&&(b=!1));this.Re=0==k?0:f/k;return b};e.prototype.go=function(){if(this.da||this.n){var k=this.da||this.El;this.ab&&this.Zo();this.Re=0;this.$n=-1;if(this.Tm())this.$s();else{var f=Date.now()-this.nj;if(k){var c=this.width,a=this.height,b=this.devicePixelRatio;this.ab&&(c=this.Lh,a=this.Kh,b=1);if(3!==this.Jg&&(this.Wb||500<=f&&this.$n!=this.Re)){k.clearRect(0,0,c,a);var f=c/2,a=a/2,c=0===this.Jg&&this.yf.complete,
h=40*b,d=0,m=80*b,e;c&&(m=this.yf.width*b,e=this.yf.height*b,h=m/2,d=e/2,k.drawImage(this.yf,U(f-h),U(a-d),m,e));1>=this.Jg?(f=U(f-h)+.5,a=U(a+(d+(c?12*b:0)))+.5,k.fillStyle=g?"red":"DodgerBlue",k.fillRect(f,a,Math.floor(m*this.Re),6*b),k.strokeStyle="black",k.strokeRect(f,a,m,6*b),k.strokeStyle="white",k.strokeRect(f-1*b,a-1*b,m+2*b,8*b)):2===this.Jg&&(k.font=this.mc?"12pt ArialMT":"12pt Arial",k.fillStyle=g?"#f00":"#999",k.Uv="middle",b=Math.round(100*this.Re)+"%",c=k.measureText?k.measureText(b):
null,k.fillText(b,f-(c?c.width:0)/2,a))}this.$n=this.Re}setTimeout(function(f){return function(){f.go()}}(this),this.Wb?10:100)}}};e.prototype.$s=function(){this.ab&&(this.canvas.parentNode.removeChild(this.ab),this.ab=this.El=null);this.nj=Date.now();this.Ke=Va();var k,f,c;if(this.om)for(k=0,f=this.m.length;k<f;k++)c=this.m[k],c.A||c.Wk||!c.ga.Yd||c.S();else this.ti=!1;k=0;for(f=this.Hc.length;k<f;k++)this.Hc[k].sr();2<=this.tb&&(k=this.Ka/this.Ja,f=this.width/this.height,this.ag=2!==this.tb&&f>
k||2===this.tb&&f<k?this.height/this.Ja:this.width/this.Ka);this.un?this.fl[this.un].$l():this.Hc[0].$l();this.om||(this.zf=1,this.trigger(X.prototype.d.Bm,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();k=0;for(f=this.m.length;k<f;k++)c=this.m[k],c.Dt&&c.Dt();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Oa(!1);this.$a&&AppMobi.webview.execute("onGameReady();")};var u=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.Oa=function(k,f,c){if(this.ja){var a=Va();if(c||!this.zg||k){k||(u?this.Jl=u(this.yp):this.fm=setTimeout(this.yp,this.qd?1:16));f=f||a;var b=this.tb;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Xb)||this.yg)&&0<this.ye&&(b=this.ye);0<b&&(!this.si||window.self!==window.top)&&(b=window.innerHeight,
this.Eg===window.innerWidth&&this.Dg===b||this.setSize(n(),l()));this.fa||(c?(this.Zh||(this.rk=jQuery(this.canvas).css("margin")||"0",this.Zh=!0),this.wg||this.Xd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Zh?(this.wg||this.Xd||jQuery(this.canvas).css("margin",this.rk),this.rk="",this.Zh=!1,0===this.tb&&this.setSize(Math.round(this.Go/this.devicePixelRatio),
Math.round(this.Fo/this.devicePixelRatio),!0)):(this.Go=this.width,this.Fo=this.height));this.ti&&(c=this.Tm(),this.zf=this.Re,c&&(this.ti=!1,this.Re=1,this.trigger(X.prototype.d.Bm,null)));this.xt(f);!this.ba&&!this.Wb||this.$k||this.kh||k||(this.ba=!1,this.n?this.Gb():this.Dc(),this.kj&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.kj[0],this.kj[1]),this.trigger(X.prototype.d.kq,null)),this.kj=null));this.Pv||(this.sh++,this.Uh++,this.ai++);this.Pg+=Va()-a}}};e.prototype.xt=function(k){var f,
c,a,b,h,d,m,g;1E3<=k-this.Ke&&(this.Ke+=1E3,1E3<=k-this.Ke&&(this.Ke=k),this.qk=this.ai,this.ai=0,this.ck=this.Pg,this.Pg=0);0!==this.Ai&&(f=k-this.Ai,0>f&&(f=0),this.Rd=f/1E3,.5<this.Rd?this.Rd=0:.1<this.Rd&&(this.Rd=.1));this.Ai=k;this.ve=this.Rd*this.We;this.yb.add(this.ve);this.dd.add(this.Rd);k=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.yg)&&!this.Xb;2<=this.tb||k&&0<this.ye?(f=this.Ka/this.Ja,c=this.width/this.height,a=this.tb,
k&&0<this.ye&&(a=this.ye),this.ag=2!==a&&c>f||2===a&&c<f?this.height/this.Ja:this.width/this.Ka,this.ja&&(this.ja.Ul(this.ja.scrollX),this.ja.Vl(this.ja.scrollY))):this.ag=this.qf?this.devicePixelRatio:1;this.fb();this.Fc++;this.ad.cu();this.Fc--;this.fb();this.Fc++;c=this.Eo.Bd();k=0;for(f=c.length;k<f;k++)c[k].Rv();k=0;for(f=this.m.length;k<f;k++)if(d=this.m[k],!d.A&&(d.Da.length||d.qa.length))for(c=0,a=d.c.length;c<a;c++)for(m=d.c[c],b=0,h=m.G.length;b<h;b++)m.G[b].Oa();k=0;for(f=this.m.length;k<
f;k++)if(d=this.m[k],!d.A&&(d.Da.length||d.qa.length))for(c=0,a=d.c.length;c<a;c++)for(m=d.c[c],b=0,h=m.G.length;b<h;b++)g=m.G[b],g.St&&g.St();c=this.tl.Bd();k=0;for(f=c.length;k<f;k++)c[k].Oa();this.Fc--;this.bt();for(k=0;this.$j&&10>k++;)this.nn(this.$j);k=0;for(f=this.ld.length;k<f;k++)this.ld[k].Ik=!1;this.ja.we&&this.ja.we.La();this.Zt.length=0;this.Fc++;k=0;for(f=this.m.length;k<f;k++)if(d=this.m[k],!d.A&&(d.Da.length||d.qa.length))for(c=0,a=d.c.length;c<a;c++)for(m=d.c[c],b=0,h=m.G.length;b<
h;b++)g=m.G[b],g.tj&&g.tj();c=this.ul.Bd();k=0;for(f=c.length;k<f;k++)c[k].tj();this.Fc--};e.prototype.nn=function(c){var f=this.ja;this.ja.su();var a,b,h,d,m,g,e;if(this.n)for(a=0,b=this.m.length;a<b;a++)m=this.m[a],m.A||!m.yj||m.global&&0!==m.c.length||-1!==c.vg.indexOf(m)||m.yj();f==c&&(this.ad.Qb.length=0);c.$l();a=0;for(b=this.m.length;a<b;a++)if(m=this.m[a],m.global||m.ga.ij)for(c=0,f=m.c.length;c<f;c++)if(g=m.c[c],g.xl&&g.xl(),g.G)for(h=0,d=g.G.length;h<d;h++)e=g.G[h],e.xl&&e.xl();this.ba=
!0;this.fb()};e.prototype.rh=function(c){this.tl.add(c)};e.prototype.tu=function(c){this.ul.add(c)};e.prototype.wk=function(c){return c&&-1!==c.Rg?this.Rd*c.Rg:this.ve};e.prototype.Dc=function(){this.ja.Dc(this.da);this.$a&&this.da.present()};e.prototype.Gb=function(){this.ja.Gb(this.n);this.n.Vt()};e.prototype.br=function(c){c&&this.ik.push(c)};e.prototype.ei=function(c){c=c.toString();return this.td.hasOwnProperty(c)?this.td[c]:null};var h=[];e.prototype.Dd=function(c){var f,a;f=c.type.name;var b=
null;if(this.te.hasOwnProperty(f)){if(b=this.te[f],b.contains(c))return}else b=h.length?h.pop():new ba,this.te[f]=b;b.add(c);this.Vd=!0;if(c.Yb)for(f=0,a=c.siblings.length;f<a;f++)this.Dd(c.siblings[f]);this.Vk&&b.Vf.push(c);this.Fc++;this.trigger(Object.getPrototypeOf(c.type.ga).d.lq,c);this.Fc--};e.prototype.fb=function(){if(this.Vd){var c,f,a,b,h,d;this.Vk=!0;a=0;for(h=this.Qc.length;a<h;++a)for(c=this.Qc[a],f=c.type,f.c.push(c),b=0,d=f.qa.length;b<d;++b)f.qa[b].c.push(c),f.qa[b].Qf=!0;this.Qc.length=
0;this.cq();Ua(this.te);this.Vd=this.Vk=!1}};e.prototype.cq=function(){for(var c in this.te)this.te.hasOwnProperty(c)&&this.Tp(this.te[c])};e.prototype.Tp=function(c){var f=c.Bd(),a=f[0].type,b,d,m,g,e,r;Wa(a.c,c);a.Qf=!0;0===a.c.length&&(a.Sm=!1);b=0;for(d=a.qa.length;b<d;++b)r=a.qa[b],Wa(r.c,c),r.Qf=!0;b=0;for(d=this.ad.Qb.length;b<d;++b)if(e=this.ad.Qb[b],e.Ob.hasOwnProperty(a.index)&&Wa(e.Ob[a.index].Ee,c),!a.A)for(m=0,g=a.qa.length;m<g;++m)r=a.qa[m],e.Ob.hasOwnProperty(r.index)&&Wa(e.Ob[r.index].Ee,
c);if(e=f[0].i){if(e.Lc)for(m=e.c,b=0,d=m.length;b<d;++b)g=m[b],c.contains(g)&&(g.eb(),e.Mb.update(g,g.zb,null),g.zb.set(0,0,-1,-1));Wa(e.c,c);e.eh(0)}for(b=0;b<f.length;++b)this.Sp(f[b],a);c.clear();h.push(c);this.ba=!0};e.prototype.Sp=function(c,f){var a,b,d;a=0;for(b=this.ik.length;a<b;++a)this.ik[a](c);c.Od&&f.en.update(c,c.Od,null);(a=c.i)&&a.Jf(c,!0);if(c.G)for(a=0,b=c.G.length;a<b;++a)d=c.G[a],d.Tg&&d.Tg(),d.behavior.Li.remove(c);this.Eo.remove(c);this.tl.remove(c);this.ul.remove(c);c.Tg&&
c.Tg();this.td.hasOwnProperty(c.uid.toString())&&delete this.td[c.uid.toString()];this.Ni--;100>f.Ph.length&&f.Ph.push(c)};e.prototype.jn=function(c,f,a,b){if(c.A){var d=U(Math.random()*c.Ki.length);return this.jn(c.Ki[d],f,a,b)}return c.hc?this.Qd(c.hc,f,!1,a,b,!1):null};var r=[];e.prototype.Qd=function(c,f,a,b,d,h){var m,g,e,u;if(!c)return null;var s=this.m[c[1]],q=s.ga.Yd;if(this.ti&&q&&!s.Wk||q&&!this.n&&11===c[0][11])return null;var n=f;q||(f=null);var l;s.Ph.length?(l=s.Ph.pop(),l.vc=!0,s.ga.ka.call(l,
s)):(l=new s.ga.ka(s),l.vc=!1);l.uid=!a||h||this.td.hasOwnProperty(c[2].toString())?this.Sg++:c[2];this.td[l.uid.toString()]=l;l.cp=this.Ao++;l.Ce=s.c.length;m=0;for(g=this.Qc.length;m<g;++m)this.Qc[m].type===s&&l.Ce++;l.qg=zb;l.toString=Ab;e=c[3];if(l.vc)Ua(l.X);else{l.X={};if("undefined"!==typeof cr_is_preview)for(l.On=[],l.On.length=e.length,m=0,g=e.length;m<g;m++)l.On[m]=e[m][1];l.Ga=[];l.Ga.length=e.length}m=0;for(g=e.length;m<g;m++)l.Ga[m]=e[m][0];if(q){var p=c[0];l.x=fa(b)?p[0]:b;l.y=fa(d)?
p[1]:d;l.z=p[2];l.width=p[3];l.height=p[4];l.depth=p[5];l.j=p[6];l.opacity=p[7];l.wb=p[8];l.xb=p[9];l.nb=p[10];m=p[11];!this.n&&s.F.length&&(l.nb=m);l.fg=db(l.nb);this.k&&eb(l,l.nb,this.k);if(l.vc){m=0;for(g=p[12].length;m<g;m++)for(e=0,u=p[12][m].length;e<u;e++)l.ua[m][e]=p[12][m][e];l.Xa.set(0,0,0,0);l.Od.set(0,0,-1,-1);l.zb.set(0,0,-1,-1);l.ef.fh(l.Xa);l.Rj.length=0}else{l.ua=p[12].slice(0);m=0;for(g=l.ua.length;m<g;m++)l.ua[m]=p[12][m].slice(0);l.U=[];l.Fd=[];l.Fd.length=s.F.length;l.Xa=new sa(0,
0,0,0);l.Od=new sa(0,0,-1,-1);l.zb=new sa(0,0,-1,-1);l.ef=new ua;l.Rj=[];l.Ma=Db;l.dr=Eb;l.ec=Fb;l.eb=Gb;l.Bu=Hb;l.Au=Ib;l.Tc=Jb}l.vu=!1;l.xu=0;l.wu=0;l.uu=null;14===p.length&&(l.vu=!0,l.xu=p[13][0],l.wu=p[13][1],l.uu=p[13][2]);m=0;for(g=s.F.length;m<g;m++)l.Fd[m]=!0;l.Ad=Kb;l.Ad();l.Lp=!!l.U.length;l.Ah=!0;l.Wj=!0;s.Rm=!0;l.visible=!0;l.Rg=-1;l.i=f;l.Mc=f.c.length;"undefined"===typeof l.Pc&&(l.Pc=null);this.ba=l.eg=!0}var t;m=r.length=0;for(g=s.qa.length;m<g;m++)r.push.apply(r,s.qa[m].Da);r.push.apply(r,
s.Da);if(l.vc)for(m=0,g=r.length;m<g;m++){var I=r[m];t=l.G[m];t.vc=!0;I.behavior.ka.call(t,I,l);p=c[4][m];e=0;for(u=p.length;e<u;e++)t.Y[e]=p[e];t.S();I.behavior.Li.add(l)}else for(l.G=[],m=0,g=r.length;m<g;m++)I=r[m],t=new I.behavior.ka(I,l),t.vc=!1,t.Y=c[4][m].slice(0),t.S(),l.G.push(t),I.behavior.Li.add(l);p=c[5];if(l.vc)for(m=0,g=p.length;m<g;m++)l.Y[m]=p[m];else l.Y=p.slice(0);this.Qc.push(l);this.Vd=!0;f&&(f.$f(l,!0),1!==f.rc||1!==f.tc)&&(s.Sm=!0);this.Ni++;if(s.Yb){if(l.Yb=!0,l.vc?l.siblings.length=
0:l.siblings=[],!a&&!h){m=0;for(g=s.Fb.length;m<g;m++)if(s.Fb[m]!==s){if(!s.Fb[m].hc)return null;l.siblings.push(this.Qd(s.Fb[m].hc,n,!1,q?l.x:b,q?l.y:d,!0))}m=0;for(g=l.siblings.length;m<g;m++)for(l.siblings[m].siblings.push(l),e=0;e<g;e++)m!==e&&l.siblings[m].siblings.push(l.siblings[e])}}else l.Yb=!1,l.siblings=null;l.S();m=0;for(g=l.G.length;m<g;m++)l.G[m].Rt&&l.G[m].Rt();return l};e.prototype.ng=function(c){var f,a;f=0;for(a=this.ja.J.length;f<a;f++){var b=this.ja.J[f];if(gb(b.name,c))return b}return null};
e.prototype.od=function(c){c=U(c);0>c&&(c=0);c>=this.ja.J.length&&(c=this.ja.J.length-1);return this.ja.J[c]};e.prototype.ak=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].ea().ma=!0};e.prototype.$g=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].$g()};e.prototype.Hl=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].Hl()};e.prototype.Hf=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].Hf()};e.prototype.nh=function(c,f,a){var b=c.ea(),m,d,h,g,e,r;if(b.ma)for(b.ma=!1,m=b.c.length=0,g=
c.c.length;m<g;m++)h=c.c[m],h.eb(),e=h.i.Ya(f,a,!0),r=h.i.Ya(f,a,!1),h.ec(e,r)&&b.c.push(h);else{m=d=0;for(g=b.c.length;m<g;m++)h=b.c[m],h.eb(),e=h.i.Ya(f,a,!0),r=h.i.Ya(f,a,!1),h.ec(e,r)&&(b.c[d]=b.c[m],d++);b.c.length=d}c.Id();return b.Hk()};new ua;new sa(0,0,0,0);e.prototype.Ep=function(c,f){if(!f)return!1;var a,b,m,d,h;a=0;for(b=c.Da.length;a<b;a++)if(c.Da[a].behavior instanceof f)return!0;if(!c.A)for(a=0,b=c.qa.length;a<b;a++)for(h=c.qa[a],m=0,d=h.Da.length;m<d;m++)if(h.Da[m].behavior instanceof
f)return!0;return!1};e.prototype.Fp=function(c){return this.Ep(c,Zb.hv)};e.prototype.jm=function(c){return this.Ep(c,Zb.iv)};var s=-1;e.prototype.trigger=function(c,f,a){if(!this.ja)return!1;var b=this.ja.we;if(!b)return!1;var m=!1,d,h,g;s++;var e=b.hk;h=0;for(g=e.length;h<g;++h)d=this.Bp(c,f,e[h],a),m=m||d;d=this.Bp(c,f,b,a);s--;return m||d};e.prototype.Bp=function(c,f,a,b){var m=!1,d,h,g,e;if(f)for(g=this.hm(c,f,f.type.name,a,b),m=m||g,e=f.type.qa,d=0,h=e.length;d<h;++d)g=this.hm(c,f,e[d].name,
a,b),m=m||g;else g=this.hm(c,f,"system",a,b),m=m||g;return m};e.prototype.hm=function(c,f,a,b,m){var d,h=!1,g=!1,g="undefined"!==typeof m,e=(g?b.sn:b.Cp)[a];if(!e)return h;var r=null;b=0;for(d=e.length;b<d;++b)if(e[b].method==c){r=e[b].kg;break}if(!r)return h;c=g?r[m]:r;if(!c)return null;b=0;for(d=c.length;b<d;b++)m=c[b][0],g=c[b][1],g=this.us(f,a,m,g),h=h||g;return h};e.prototype.us=function(c,f,a,b){var m,d,h=!1;this.im++;var g=this.Hb().Cc;g&&this.$g(g.he);var e=1<this.im;this.$g(a.he);e&&this.Xt();
var r=this.Il(a);r.Cc=a;c&&(m=this.types[f].ea(),m.ma=!1,m.c.length=1,m.c[0]=c,this.types[f].Id());c=!0;if(a.parent){f=r.wp;for(m=a.parent;m;)f.push(m),m=m.parent;f.reverse();m=0;for(d=f.length;m<d;m++)if(!f[m].eu()){c=!1;break}}c&&(this.Uh++,a.Vc?a.du(b):a.La(),h=h||r.Je);this.Yo();e&&this.Qt();this.Hf(a.he);g&&this.Hf(g.he);this.Vd&&0===this.Fc&&0===s&&!this.Xk&&this.fb();this.im--;return h};e.prototype.yn=function(){var c=this.Hb();return c.Cc.gb[c.sb]};e.prototype.Xt=function(){this.Ii++;this.Ii>=
this.kl.length&&this.kl.push([])};e.prototype.Qt=function(){this.Ii--};e.prototype.zn=function(){return this.kl[this.Ii]};e.prototype.Il=function(c){this.Th++;this.Th>=this.kk.length&&this.kk.push(new Lb);var f=this.Hb();f.reset(c);return f};e.prototype.Yo=function(){this.Th--};e.prototype.Hb=function(){return this.kk[this.Th]};e.prototype.An=function(c,f){for(var a,b,m,d,h,g;f;){a=0;for(b=f.wc.length;a<b;a++)if(g=f.wc[a],g instanceof Mb&&gb(c,g.name))return g;f=f.parent}a=0;for(b=this.ld.length;a<
b;a++)for(h=this.ld[a],m=0,d=h.Td.length;m<d;m++)if(g=h.Td[m],g instanceof Mb&&gb(c,g.name))return g;return null};e.prototype.Cn=function(c){var f,a;f=0;for(a=this.Hc.length;f<a;f++)if(this.Hc[f].M===c)return this.Hc[f];return null};e.prototype.fi=function(c){var f,a;f=0;for(a=this.m.length;f<a;f++)if(this.m[f].M===c)return this.m[f];return null};e.prototype.Es=function(c){var f,a;f=0;for(a=this.cf.length;f<a;f++)if(this.cf[f].M===c)return this.cf[f];return null};e.prototype.bt=function(){var c=this,
f=this.Tl,b=this.rd,m=this.Di,h=!1;this.sp&&(h=!0,f="__c2_continuouspreview",this.sp=!1);if(f.length){this.fb();b=this.iu();if(window.indexedDB&&!this.Wb)q(f,b,function(){N("Saved state to IndexedDB storage ("+b.length+" bytes)");c.rd=b;c.trigger(X.prototype.d.Jj,null);c.rd="";h&&a()},function(m){try{localStorage.setItem("__c2save_"+f,b),N("Saved state to WebStorage ("+b.length+" bytes)"),c.rd=b,c.trigger(X.prototype.d.Jj,null),c.rd="",h&&a()}catch(d){N("Failed to save game state: "+m+"; "+d)}});
else try{localStorage.setItem("__c2save_"+f,b),N("Saved state to WebStorage ("+b.length+" bytes)"),c.rd=b,this.trigger(X.prototype.d.Jj,null),c.rd="",h&&a()}catch(g){N("Error saving to WebStorage: "+g)}this.kb=this.Di=this.Tl=""}m.length&&(window.indexedDB&&!this.Wb?d(m,function(f){f?(c.kb=f,N("Loaded state from IndexedDB storage ("+c.kb.length+" bytes)")):(c.kb=localStorage.getItem("__c2save_"+m)||"",N("Loaded state from WebStorage ("+c.kb.length+" bytes)"));c.kh=!1;c.kb.length||c.trigger(X.prototype.d.Hj,
null)},function(){c.kb=localStorage.getItem("__c2save_"+m)||"";N("Loaded state from WebStorage ("+c.kb.length+" bytes)");c.kh=!1;c.kb.length||c.trigger(X.prototype.d.Hj,null)}):(this.kb=localStorage.getItem("__c2save_"+m)||"",N("Loaded state from WebStorage ("+this.kb.length+" bytes)"),this.kh=!1,c.kb.length||c.trigger(X.prototype.d.Hj,null)),this.Tl=this.Di="");this.kb.length&&(this.fb(),this.wt(this.kb),this.rd=this.kb,this.trigger(X.prototype.d.xq,null),this.kb=this.rd="")};e.prototype.iu=function(){var c,
f,a,m,h,d,g,e={c2save:!0,version:1,rt:{time:this.yb.V,walltime:this.dd.V,timescale:this.We,tickcount:this.sh,execcount:this.Uh,next_uid:this.Sg,running_layout:this.ja.M,start_time_offset:Date.now()-this.nj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(f=this.m.length;c<f;c++)if(h=this.m[c],!h.A&&!this.Fp(h)){d={instances:[]};Ta(h.X)&&(d.ex=b(h.X));a=0;for(m=h.c.length;a<m;a++)d.instances.push(this.Sl(h.c[a]));e.types[h.M.toString()]=d}c=0;for(f=this.Hc.length;c<f;c++)a=
this.Hc[c],e.layouts[a.M.toString()]=a.mb();m=e.events.groups;c=0;for(f=this.cf.length;c<f;c++)a=this.cf[c],m[a.M.toString()]=this.hi[a.sg].rg;f=e.events.cnds;for(g in this.gf)this.gf.hasOwnProperty(g)&&(c=this.gf[g],Ta(c.X)&&(f[g]={ex:b(c.X)}));f=e.events.acts;for(g in this.bf)this.bf.hasOwnProperty(g)&&(c=this.bf[g],Ta(c.X)&&(f[g]={ex:c.X}));f=e.events.vars;for(g in this.Wf)this.Wf.hasOwnProperty(g)&&(c=this.Wf[g],c.pi||c.parent&&!c.Bg||(f[g]=c.data));e.system=this.ad.mb();return JSON.stringify(e)};
e.prototype.fp=function(){var c,f,a,b,m,h;this.td={};c=0;for(f=this.m.length;c<f;c++)if(a=this.m[c],!a.A)for(b=0,m=a.c.length;b<m;b++)h=a.c[b],this.td[h.uid.toString()]=h};e.prototype.wt=function(c){c=JSON.parse(c);if(c.c2save&&!(1<c.version)){var f=c.rt;this.yb.reset();this.yb.V=f.time;this.dd.reset();this.dd.V=f.walltime||0;this.We=f.timescale;this.sh=f.tickcount;this.Uh=f.execcount;this.nj=Date.now()-f.start_time_offset;var a=f.running_layout;if(a!==this.ja.M)if(a=this.Cn(a))this.nn(a);else return;
var b,m,h,d,g,e,r;e=c.types;for(m in e)if(e.hasOwnProperty(m)&&(d=this.fi(parseInt(m,10)))&&!d.A&&!this.Fp(d)){e[m].ex?d.X=e[m].ex:Ua(d.X);g=d.c;h=e[m].instances;a=0;for(b=na(g.length,h.length);a<b;a++)this.Ei(g[a],h[a]);a=h.length;for(b=g.length;a<b;a++)this.Dd(g[a]);a=g.length;for(b=h.length;a<b;a++){g=null;if(d.ga.Yd&&(g=this.ja.di(h[a].w.l),!g))continue;g=this.Qd(d.hc,g,!1,0,0,!0);this.Ei(g,h[a])}d.Qf=!0}this.fb();this.fp();b=c.layouts;for(m in b)b.hasOwnProperty(m)&&(a=this.Cn(parseInt(m,10)))&&
a.Kb(b[m]);b=c.events.groups;for(m in b)b.hasOwnProperty(m)&&(a=this.Es(parseInt(m,10)))&&this.hi[a.sg]&&this.hi[a.sg].ku(b[m]);a=c.events.cnds;for(m in a)a.hasOwnProperty(m)&&this.gf.hasOwnProperty(m)&&(this.gf[m].X=a[m].ex);a=c.events.acts;for(m in a)a.hasOwnProperty(m)&&this.bf.hasOwnProperty(m)&&(this.bf[m].X=a[m].ex);a=c.events.vars;for(m in a)a.hasOwnProperty(m)&&this.Wf.hasOwnProperty(m)&&(this.Wf[m].data=a[m]);this.Sg=f.next_uid;this.ad.Kb(c.system);a=0;for(b=this.m.length;a<b;a++)if(d=this.m[a],
!d.A)for(m=0,c=d.c.length;m<c;m++){g=d.c[m];if(d.Yb)for(e=g.qg(),f=g.siblings.length=0,h=d.Fb.length;f<h;f++)r=d.Fb[f],d!==r&&g.siblings.push(r.c[e]);g.Gd&&g.Gd();if(g.G)for(f=0,h=g.G.length;f<h;f++)e=g.G[f],e.Gd&&e.Gd()}this.ba=!0}};e.prototype.Sl=function(c,f){var a,m,h,d,g;d=c.type;h=d.ga;var e={};f?e.c2=!0:e.uid=c.uid;Ta(c.X)&&(e.ex=b(c.X));if(c.Ga&&c.Ga.length)for(e.ivs={},a=0,m=c.Ga.length;a<m;a++)e.ivs[c.type.Sk[a].toString()]=c.Ga[a];if(h.Yd){h={x:c.x,y:c.y,w:c.width,h:c.height,l:c.i.M,zi:c.Tc()};
0!==c.j&&(h.a=c.j);1!==c.opacity&&(h.o=c.opacity);.5!==c.wb&&(h.hX=c.wb);.5!==c.xb&&(h.hY=c.xb);0!==c.nb&&(h.bm=c.nb);c.visible||(h.v=c.visible);c.eg||(h.ce=c.eg);-1!==c.Rg&&(h.mts=c.Rg);if(d.F.length)for(h.fx=[],a=0,m=d.F.length;a<m;a++)g=d.F[a],h.fx.push({name:g.name,active:c.Fd[g.index],params:c.ua[g.index]});e.w=h}if(c.G&&c.G.length)for(e.behs={},a=0,m=c.G.length;a<m;a++)d=c.G[a],d.mb&&(e.behs[d.type.M.toString()]=d.mb());c.mb&&(e.data=c.mb());return e};e.prototype.Gs=function(c,f){var a,b;a=
0;for(b=c.Sk.length;a<b;a++)if(c.Sk[a]===f)return a;return-1};e.prototype.Cs=function(c,f){var a,b;a=0;for(b=c.G.length;a<b;a++)if(c.G[a].type.M===f)return a;return-1};e.prototype.Ei=function(c,f,a){var b,m,h,d,g;g=c.type;h=g.ga;if(a){if(!f.c2)return}else c.uid=f.uid;f.ex?c.X=f.ex:Ua(c.X);if(m=f.ivs)for(b in m)m.hasOwnProperty(b)&&(a=this.Gs(g,parseInt(b,10)),0>a||a>=c.Ga.length||(c.Ga[a]=m[b]));if(h.Yd){h=f.w;c.i.M!==h.l&&(a=c.i,c.i=this.ja.di(h.l),c.i?(a.Jf(c,!0),c.i.$f(c,!0),c.Ma(),c.i.eh(0)):
(c.i=a,this.Dd(c)));c.x=h.x;c.y=h.y;c.width=h.w;c.height=h.h;c.Mc=h.zi;c.j=h.hasOwnProperty("a")?h.a:0;c.opacity=h.hasOwnProperty("o")?h.o:1;c.wb=h.hasOwnProperty("hX")?h.hX:.5;c.xb=h.hasOwnProperty("hY")?h.hY:.5;c.visible=h.hasOwnProperty("v")?h.v:!0;c.eg=h.hasOwnProperty("ce")?h.ce:!0;c.Rg=h.hasOwnProperty("mts")?h.mts:-1;c.nb=h.hasOwnProperty("bm")?h.bm:0;c.fg=db(c.nb);this.k&&eb(c,c.nb,this.k);c.Ma();if(h.hasOwnProperty("fx"))for(a=0,m=h.fx.length;a<m;a++)d=g.yk(h.fx[a].name),0>d||(c.Fd[d]=h.fx[a].active,
c.ua[d]=h.fx[a].params);c.Ad()}if(g=f.behs)for(b in g)g.hasOwnProperty(b)&&(h=this.Cs(c,parseInt(b,10)),0>h||c.G[h].Kb(g[b]));f.data&&c.Kb(f.data)};Nb=function(c){return new e(document.getElementById(c))};Ob=function(c,f){return new e({dc:!0,width:c,height:f})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.Tv=!0;document.body.appendChild(c);c=new e(c);
window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c};window.createEjectaRuntime=function(){var c=new e(document.getElementById("canvas"));window.c2runtime=c;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();
window.cr_getC2Runtime=function(){var n=document.getElementById("c2canvas");return n?n.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(n,l){if(0!==n&&0!==l){var e=window.cr_getC2Runtime();e&&e.setSize(n,l)}};window.cr_setSuspended=function(n){var l=window.cr_getC2Runtime();l&&l.setSuspended(n)};
(function(){function n(c,a){this.b=c;this.we=null;this.scrollX=this.b.Ka/2;this.scrollY=this.b.Ja/2;this.scale=1;this.j=0;this.kf=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Gp=a[3];this.pp=a[4];this.M=a[5];var b=a[6],h,d;this.J=[];this.vg=[];h=0;for(d=b.length;h<d;h++){var g=new Pb(this,b[h]);g.Co=h;this.J.push(g)}b=a[7];this.De=[];h=0;for(d=b.length;h<d;h++){var g=b[h],k=this.b.m[g[1]];k.hc||(k.hc=g);this.De.push(g);-1===this.vg.indexOf(k)&&this.vg.push(k)}this.F=[];this.U=[];this.ua=
[];h=0;for(d=a[8].length;h<d;h++)this.F.push({id:a[8][h][0],name:a[8][h][1],cb:-1,Pa:!0,index:h}),this.ua.push(a[8][h][2].slice(0));this.Ad();this.Kl=new sa(0,0,1,1);this.Ll=new sa(0,0,1,1);this.be={}}function l(c,a){return c.Mc-a.Mc}function e(c,a){this.Ia=c;this.b=c.b;this.c=[];this.scale=1;this.j=0;this.ue=!1;this.yd=new sa(0,0,0,0);this.zp=new ua;this.wa=this.pa=this.xa=this.na=0;this.Xe=!1;this.Cd=-1;this.name=a[0];this.index=a[1];this.M=a[2];this.visible=a[3];this.Jd=a[4];this.zd=a[5];this.rc=
a[6];this.tc=a[7];this.opacity=a[8];this.pk=a[9];this.Lc=a[10];this.Db=a[11];this.nb=a[12];this.Qr=a[13];this.fg="source-over";this.hb=this.ib=0;this.Mb=null;this.wf=p();this.ud=!0;this.yi=new sa(0,0,-1,-1);this.gc=new sa(0,0,-1,-1);this.Lc&&(this.Mb=new cb(this.b.Ka,this.b.Ja));this.ee=!1;var b=a[14],h,d;this.up=[];this.Vb=[];this.gg=[];h=0;for(d=b.length;h<d;h++){var g=b[h],k=this.b.m[g[1]];k.hc||(k.hc=g,k.wr=this.index);this.Vb.push(g);-1===this.Ia.vg.indexOf(k)&&this.Ia.vg.push(k)}ya(this.up,
this.Vb);this.F=[];this.U=[];this.ua=[];h=0;for(d=a[15].length;h<d;h++)this.F.push({id:a[15][h][0],name:a[15][h][1],cb:-1,Pa:!0,index:h}),this.ua.push(a[15][h][2].slice(0));this.Ad();this.Kl=new sa(0,0,1,1);this.Ll=new sa(0,0,1,1)}function p(){return b.length?b.pop():[]}function q(c){c.length=0;b.push(c)}n.prototype.hu=function(c){var a=c.type.M.toString();this.be.hasOwnProperty(a)||(this.be[a]=[]);this.be[a].push(this.b.Sl(c))};n.prototype.In=function(){var c=this.J[0];return!c.zd&&1===c.opacity&&
!c.pk&&c.visible};n.prototype.Ad=function(){this.U.length=0;var c,a,b;c=0;for(a=this.F.length;c<a;c++)b=this.F[c],b.Pa&&this.U.push(b)};n.prototype.xk=function(c){var a,b,h;a=0;for(b=this.F.length;a<b;a++)if(h=this.F[a],h.name===c)return h;return null};var d=[],a=!0;n.prototype.$l=function(){this.pp&&(this.we=this.b.lk[this.pp],this.we.km());this.b.ja=this;this.scrollX=this.b.Ka/2;this.scrollY=this.b.Ja/2;var c,b,g,h,e,s,k;c=0;for(g=this.b.m.length;c<g;c++)if(b=this.b.m[c],!b.A)for(e=b.c,b=0,h=e.length;b<
h;b++)if(s=e[b],s.i){var f=s.i.Co;f>=this.J.length&&(f=this.J.length-1);s.i=this.J[f];-1===s.i.c.indexOf(s)&&s.i.c.push(s);s.i.Xe=!0}if(!a)for(c=0,g=this.J.length;c<g;++c)this.J[c].c.sort(l);d.length=0;this.kr();c=0;for(g=this.J.length;c<g;c++)s=this.J[c],s.tr(),s.mm();e=!1;if(!this.kf){for(k in this.be)if(this.be.hasOwnProperty(k)&&(b=this.b.fi(parseInt(k,10)))&&!b.A&&this.b.jm(b)){h=this.be[k];c=0;for(g=h.length;c<g;c++){s=null;if(b.ga.Yd&&(s=this.di(h[c].w.l),!s))continue;s=this.b.Qd(b.hc,s,!1,
0,0,!0);this.b.Ei(s,h[c]);e=!0;d.push(s)}h.length=0}c=0;for(g=this.J.length;c<g;c++)this.J[c].c.sort(l),this.J[c].Xe=!0}e&&(this.b.fb(),this.b.fp());for(c=0;c<d.length;c++)if(s=d[c],s.type.Yb)for(g=s.qg(),b=0,h=s.type.Fb.length;b<h;b++)k=s.type.Fb[b],s.type!==k&&(k.c.length>g?s.siblings.push(k.c[g]):k.hc&&(e=this.b.Qd(k.hc,s.i,!0,s.x,s.y,!0),this.b.fb(),k.zj(),s.siblings.push(e),d.push(e)));c=0;for(g=this.De.length;c<g;c++)this.b.Qd(this.De[c],null,!0);this.b.$j=null;this.b.fb();if(this.b.da&&!this.b.fa)for(c=
0,g=this.b.m.length;c<g;c++)k=this.b.m[c],!k.A&&k.c.length&&k.$i&&k.$i(this.b.da);c=0;for(g=d.length;c<g;c++)s=d[c],this.b.trigger(Object.getPrototypeOf(s.type.ga).d.Fj,s);d.length=0;this.b.trigger(X.prototype.d.wq,null);this.kf=!1};n.prototype.sr=function(){var c,a,b,h,d;a=c=0;for(b=this.De.length;c<b;c++)h=this.De[c],d=this.b.m[h[1]],d.global?this.b.Qd(h,null,!0):(this.De[a]=h,a++);this.De.length=a};n.prototype.su=function(){this.b.trigger(X.prototype.d.vq,null);this.b.ad.Qb.length=0;var c,b,d,
h,g,e;if(!this.kf)for(c=0,b=this.J.length;c<b;c++)for(this.J[c].nm(),g=this.J[c].c,d=0,h=g.length;d<h;d++)e=g[d],e.type.global||this.b.jm(e.type)&&this.hu(e);c=0;for(b=this.J.length;c<b;c++){g=this.J[c].c;d=0;for(h=g.length;d<h;d++)e=g[d],e.type.global||this.b.Dd(e);this.b.fb();g.length=0;this.J[c].Xe=!0}c=0;for(b=this.b.m.length;c<b;c++)if(g=this.b.m[c],!(g.global||g.ga.Yd||g.ga.ij||g.A)){d=0;for(h=g.c.length;d<h;d++)this.b.Dd(g.c[d]);this.b.fb()}a=!1};new sa(0,0,0,0);n.prototype.Dc=function(c){var a,
b=c,h=!1,d=!this.b.jc;d&&(this.b.Ci||(this.b.Ci=document.createElement("canvas"),a=this.b.Ci,a.width=this.b.L,a.height=this.b.K,this.b.bo=a.getContext("2d"),h=!0),a=this.b.Ci,b=this.b.bo,a.width!==this.b.L&&(a.width=this.b.L,h=!0),a.height!==this.b.K&&(a.height=this.b.K,h=!0),h&&(b.webkitImageSmoothingEnabled=this.b.P,b.mozImageSmoothingEnabled=this.b.P,b.msImageSmoothingEnabled=this.b.P,b.imageSmoothingEnabled=this.b.P));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.Nj&&!this.In()&&
b.clearRect(0,0,this.b.L,this.b.K);var g,k,h=0;for(g=this.J.length;h<g;h++)k=this.J[h],k.visible&&0<k.opacity&&11!==k.nb&&(k.c.length||!k.zd)?k.Dc(b):k.mm();d&&c.drawImage(a,0,0,this.b.width,this.b.height)};n.prototype.Gb=function(c){var a=0<this.U.length||this.b.Uf||!this.b.jc;if(a){this.b.Jb||(this.b.Jb=c.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Jb.dg!==this.b.L||this.b.Jb.bg!==this.b.K)c.deleteTexture(this.b.Jb),this.b.Jb=c.Pd(this.b.L,this.b.K,this.b.P);c.Zc(this.b.Jb);this.b.jc||c.Mf(this.b.L,
this.b.K)}else this.b.Jb&&(c.Zc(null),c.deleteTexture(this.b.Jb),this.b.Jb=null);this.b.Nj&&!this.In()&&c.clear(0,0,0,0);var b,h,d;b=0;for(h=this.J.length;b<h;b++)d=this.J[b],d.visible&&0<d.opacity&&(d.c.length||!d.zd)?d.Gb(c):d.mm();a&&(0===this.U.length||1===this.U.length&&this.b.jc?(1===this.U.length?(a=this.U[0].index,c.$c(this.U[0].cb),c.Lf(null,1/this.b.L,1/this.b.K,0,0,1,1,this.scale,this.j,0,0,this.b.L/2,this.b.K/2,this.ua[a]),c.aj(this.U[0].cb)&&(this.b.ba=!0)):c.$c(0),this.b.jc||c.Mf(this.b.width,
this.b.height),c.Zc(null),c.Se(1),c.Nb(this.b.Jb),c.kp(),c.fe(),c.me(),a=this.b.width/2,b=this.b.height/2,c.ah(-a,b,a,b,a,-b,-a,-b),c.Nb(null)):this.Ml(c,null,null,null))};n.prototype.pg=function(){return 0<this.U.length||this.b.Uf||!this.b.jc?this.b.Jb:null};n.prototype.Dn=function(){var c=this.J[0].kc(),a,b,d;a=1;for(b=this.J.length;a<b;a++)d=this.J[a],(0!==d.rc||0!==d.tc)&&d.kc()<c&&(c=d.kc());return c};n.prototype.Ul=function(c){if(!this.Gp){var a=1/this.Dn()*this.b.L/2;c>this.width-a&&(c=this.width-
a);c<a&&(c=a)}this.scrollX!==c&&(this.scrollX=c,this.b.ba=!0)};n.prototype.Vl=function(c){if(!this.Gp){var a=1/this.Dn()*this.b.K/2;c>this.height-a&&(c=this.height-a);c<a&&(c=a)}this.scrollY!==c&&(this.scrollY=c,this.b.ba=!0)};n.prototype.kr=function(){this.Ul(this.scrollX);this.Vl(this.scrollY)};n.prototype.Ml=function(c,a,b,d){var g=b?b.U:a?a.U:this.U,e=1,k=0,f=0,v=0,l=this.b.L,q=this.b.K;b?(e=b.i.kc(),k=b.i.Ra(),f=b.i.na,v=b.i.pa,l=b.i.xa,q=b.i.wa):a&&(e=a.kc(),k=a.Ra(),f=a.na,v=a.pa,l=a.xa,q=
a.wa);var y=this.b.sk,n,p,t,w,E=0,va=1,R,D=this.b.L,z=this.b.K,Z=D/2,I=z/2,K=a?a.Kl:this.Kl,A=a?a.Ll:this.Ll,C=0,L=0,G=0,J=0,H=D,ka=D,M=z,ra=z,ga=t=0,ta=b?b.i.Ra():0;if(b){n=0;for(p=g.length;n<p;n++)t+=c.Ks(g[n].cb),ga+=c.Ls(g[n].cb);w=b.Xa;C=a.oc(w.left,w.top,!0);G=a.oc(w.left,w.top,!1);H=a.oc(w.right,w.bottom,!0);M=a.oc(w.right,w.bottom,!1);0!==ta&&(n=a.oc(w.right,w.top,!0),p=a.oc(w.right,w.top,!1),L=a.oc(w.left,w.bottom,!0),J=a.oc(w.left,w.bottom,!1),w=Math.min(C,H,n,L),H=Math.max(C,H,n,L),C=w,
w=Math.min(G,M,p,J),M=Math.max(G,M,p,J),G=w);C-=t;G-=ga;H+=t;M+=ga;A.left=C/D;A.top=1-G/z;A.right=H/D;A.bottom=1-M/z;L=C=U(C);J=G=U(G);ka=H=pa(H);ra=M=pa(M);L-=t;J-=ga;ka+=t;ra+=ga;0>C&&(C=0);0>G&&(G=0);H>D&&(H=D);M>z&&(M=z);0>L&&(L=0);0>J&&(J=0);ka>D&&(ka=D);ra>z&&(ra=z);K.left=C/D;K.top=1-G/z;K.right=H/D;K.bottom=1-M/z}else K.left=A.left=0,K.top=A.top=0,K.right=A.right=1,K.bottom=A.bottom=1;ga=b&&((b.j||ta)&&c.Zg(g[0].cb)||0!==t||0!==ga||1!==b.opacity||b.type.ga.yo)||a&&!b&&1!==a.opacity;c.kp();
if(ga){y[E]||(y[E]=c.Pd(D,z,this.b.P));if(y[E].dg!==D||y[E].bg!==z)c.deleteTexture(y[E]),y[E]=c.Pd(D,z,this.b.P);c.$c(0);c.Zc(y[E]);R=ra-J;c.clearRect(L,z-J-R,ka-L,R);b?b.Gb(c):(c.Nb(this.b.Zb),c.Se(a.opacity),c.fe(),c.translate(-Z,-I),c.me(),c.de(C,M,H,M,H,G,C,G,K));A.left=A.top=0;A.right=A.bottom=1;b&&(w=K.top,K.top=K.bottom,K.bottom=w);E=1;va=0}c.Se(1);t=g.length-1;var ta=c.Gl(g[t].cb)||!a&&!b&&!this.b.jc,ea=0;n=0;for(p=g.length;n<p;n++){y[E]||(y[E]=c.Pd(D,z,this.b.P));if(y[E].dg!==D||y[E].bg!==
z)c.deleteTexture(y[E]),y[E]=c.Pd(D,z,this.b.P);c.$c(g[n].cb);ea=g[n].index;c.aj(g[n].cb)&&(this.b.ba=!0);0!=n||ga?(c.Lf(d,1/D,1/z,A.left,A.top,A.right,A.bottom,e,k,f,v,(f+l)/2,(v+q)/2,b?b.ua[ea]:a?a.ua[ea]:this.ua[ea]),c.Nb(null),n!==t||ta?(c.Zc(y[E]),R=ra-J,w=z-J-R,c.clearRect(L,w,ka-L,R)):(b?c.ge(b.ib,b.hb):a&&c.ge(a.ib,a.hb),c.Zc(d)),c.Nb(y[va]),c.fe(),c.translate(-Z,-I),c.me(),c.de(C,M,H,M,H,G,C,G,K),n!==t||ta||c.Nb(null)):(c.Zc(y[E]),R=ra-J,w=z-J-R,c.clearRect(L,w,ka-L,R),b?(c.Lf(d,1/b.width,
1/b.height,A.left,A.top,A.right,A.bottom,e,k,f,v,(f+l)/2,(v+q)/2,b.ua[ea]),b.Gb(c)):(c.Lf(d,1/D,1/z,0,0,1,1,e,k,f,v,(f+l)/2,(v+q)/2,a?a.ua[ea]:this.ua[ea]),c.Nb(a?this.b.Zb:this.b.Jb),c.fe(),c.translate(-Z,-I),c.me(),c.de(C,M,H,M,H,G,C,G,K)),A.left=A.top=0,A.right=A.bottom=1,b&&!ta&&(w=M,M=G,G=w));E=0===E?1:0;va=0===E?1:0}ta&&(c.$c(0),b?c.ge(b.ib,b.hb):a?c.ge(a.ib,a.hb):this.b.jc||(c.Mf(this.b.width,this.b.height),Z=this.b.width/2,I=this.b.height/2,G=C=0,H=this.b.width,M=this.b.height),c.Zc(d),c.Nb(y[va]),
c.fe(),c.translate(-Z,-I),c.me(),b&&1===g.length&&!ga?c.de(C,G,H,G,H,M,C,M,K):c.de(C,M,H,M,H,G,C,G,K),c.Nb(null))};n.prototype.di=function(c){var a,b;a=0;for(b=this.J.length;a<b;a++)if(this.J[a].M===c)return this.J[a];return null};n.prototype.mb=function(){var c,a,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.kf,persist:this.be,fx:[],layers:{}};c=0;for(a=this.F.length;c<a;c++)b=this.F[c],d.fx.push({name:b.name,active:b.Pa,params:this.ua[b.index]});c=
0;for(a=this.J.length;c<a;c++)b=this.J[c],d.layers[b.M.toString()]=b.mb();return d};n.prototype.Kb=function(c){var a,b,d,g;this.scrollX=c.sx;this.scrollY=c.sy;this.scale=c.s;this.j=c.a;this.width=c.w;this.height=c.h;this.be=c.persist;"undefined"!==typeof c.fv&&(this.kf=c.fv);var e=c.fx;a=0;for(b=e.length;a<b;a++)if(d=this.xk(e[a].name))d.Pa=e[a].active,this.ua[d.index]=e[a].params;this.Ad();a=c.layers;for(g in a)a.hasOwnProperty(g)&&(c=this.di(parseInt(g,10)))&&c.Kb(a[g])};Bb=n;e.prototype.Ad=function(){this.U.length=
0;var a,b,d;a=0;for(b=this.F.length;a<b;a++)d=this.F[a],d.Pa&&this.U.push(d)};e.prototype.xk=function(a){var b,d,h;b=0;for(d=this.F.length;b<d;b++)if(h=this.F[b],h.name===a)return h;return null};e.prototype.tr=function(){var a,b,g,h,e,l;b=a=0;for(g=this.Vb.length;a<g;a++){h=this.Vb[a];e=this.b.m[h[1]];l=this.b.jm(e);e=!0;if(!l||this.Ia.kf)h=this.b.Qd(h,this,!0),d.push(h),h.type.global&&(e=!1,this.gg.push(h.uid));e&&(this.Vb[b]=this.Vb[a],b++)}this.Vb.length=b;this.b.fb();!this.b.n&&this.F.length&&
(this.nb=this.Qr);this.fg=db(this.nb);this.b.k&&eb(this,this.nb,this.b.k);this.ud=!0};e.prototype.Jf=function(a,b){var d=Aa(this.c,a);0>d||(b&&this.Lc&&a.zb&&a.zb.right>=a.zb.left&&(a.eb(),this.Mb.update(a,a.zb,null),a.zb.set(0,0,-1,-1)),d===this.c.length-1?this.c.pop():(xa(this.c,d),this.eh(d)),this.ud=!0)};e.prototype.$f=function(a,b){a.Mc=this.c.length;this.c.push(a);b&&this.Lc&&a.zb&&a.Ma();this.ud=!0};e.prototype.Ut=function(a){this.c.unshift(a);this.eh(0)};e.prototype.Ct=function(a,b,d){var h=
a.Tc();b=b.Tc();xa(this.c,h);h<b&&b--;d&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.eh(h<b?h:b)};e.prototype.eh=function(a){-1===this.Cd?this.Cd=a:a<this.Cd&&(this.Cd=a);this.ud=this.Xe=!0};e.prototype.nm=function(){if(this.Xe){-1===this.Cd&&(this.Cd=0);var a,b,d;if(this.Lc)for(a=this.Cd,b=this.c.length;a<b;++a)d=this.c[a],d.Mc=a,this.Mb.yt(d.zb);else for(a=this.Cd,b=this.c.length;a<b;++a)this.c[a].Mc=a;this.Xe=!1;this.Cd=-1}};e.prototype.kc=function(a){return this.Hs()*(this.b.jc||
a?this.b.ag:1)};e.prototype.Hs=function(){return(this.scale*this.Ia.scale-1)*this.Db+1};e.prototype.Ra=function(){return this.ue?0:Ea(this.Ia.j+this.j)};var b=[],t=[],g=[];e.prototype.En=function(){this.nm();this.Mb.dp(this.na,this.pa,this.xa,this.wa,g);if(!g.length)return p();if(1===g.length){var a=p();ya(a,g[0]);g.length=0;return a}for(var b=!0;1<g.length;){for(var a=g,d=void 0,h=void 0,e=void 0,l=void 0,k=void 0,d=0,h=a.length;d<h-1;d+=2){var e=a[d],l=a[d+1],k=p(),f=e,v=l,B=k,n=0,y=0,S=0,x=f.length,
P=v.length,w=void 0,E=void 0;for(B.length=x+P;n<x&&y<P;++S)w=f[n],E=v[y],w.Mc<E.Mc?(B[S]=w,++n):(B[S]=E,++y);for(;n<x;++n,++S)B[S]=f[n];for(;y<P;++y,++S)B[S]=v[y];b||(q(e),q(l));t.push(k)}1===h%2&&(b?(e=p(),ya(e,a[h-1]),t.push(e)):t.push(a[h-1]));ya(a,t);t.length=0;b=!1}a=g[0];g.length=0;return a};e.prototype.Dc=function(a){this.ee=this.pk||1!==this.opacity||0!==this.nb;var b=this.b.canvas,d=a,h=!1;this.ee&&(this.b.Bi||(this.b.Bi=document.createElement("canvas"),b=this.b.Bi,b.width=this.b.L,b.height=
this.b.K,this.b.ao=b.getContext("2d"),h=!0),b=this.b.Bi,d=this.b.ao,b.width!==this.b.L&&(b.width=this.b.L,h=!0),b.height!==this.b.K&&(b.height=this.b.K,h=!0),h&&(d.webkitImageSmoothingEnabled=this.b.P,d.mozImageSmoothingEnabled=this.b.P,d.msImageSmoothingEnabled=this.b.P,d.imageSmoothingEnabled=this.b.P),this.zd&&d.clearRect(0,0,this.b.L,this.b.K));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.zd||(d.fillStyle="rgb("+this.Jd[0]+","+this.Jd[1]+","+this.Jd[2]+")",d.fillRect(0,0,this.b.L,
this.b.K));d.save();this.ue=!0;var h=this.Ya(0,0,!0,!0),g=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(h=Math.round(h),g=Math.round(g));this.Ol(h,g,d);var e=this.kc();d.scale(e,e);d.translate(-h,-g);this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.xa),this.gc.bottom=this.Mb.Sb(this.wa),this.ud||!this.gc.Sh(this.yi)?(q(this.wf),h=this.En(),this.ud=!1,this.yi.Jh(this.gc)):h=this.wf):h=this.c;for(var k,f=null,g=0,e=h.length;g<e;++g)k=h[g],k!==f&&(this.Nr(k,
d),f=k);this.Lc&&(this.wf=h);d.restore();this.ee&&(a.globalCompositeOperation=this.fg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};e.prototype.Nr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var d=a.Xa;d.right<this.na||d.bottom<this.pa||d.left>this.xa||d.top>this.wa||(b.globalCompositeOperation=a.fg,a.Dc(b))}};e.prototype.mm=function(){this.ue=!0;var a=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(a=Math.round(a),b=Math.round(b));this.Ol(a,b,null)};e.prototype.Ol=
function(a,b,d){var h=this.kc();this.na=a;this.pa=b;this.xa=a+1/h*this.b.L;this.wa=b+1/h*this.b.K;a=this.Ra();0!==a&&(d&&(d.translate(this.b.L/2,this.b.K/2),d.rotate(-a),d.translate(this.b.L/-2,this.b.K/-2)),this.yd.set(this.na,this.pa,this.xa,this.wa),this.yd.offset((this.na+this.xa)/-2,(this.pa+this.wa)/-2),this.zp.np(this.yd,a),this.zp.Zm(this.yd),this.yd.offset((this.na+this.xa)/2,(this.pa+this.wa)/2),this.na=this.yd.left,this.pa=this.yd.top,this.xa=this.yd.right,this.wa=this.yd.bottom)};e.prototype.Gb=
function(a){var b=0,d=0;if(this.ee=this.pk||1!==this.opacity||0<this.U.length||0!==this.nb){this.b.Zb||(this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Zb.dg!==this.b.L||this.b.Zb.bg!==this.b.K)a.deleteTexture(this.b.Zb),this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P);a.Zc(this.b.Zb);this.zd&&a.clear(0,0,0,0)}this.zd||a.clear(this.Jd[0]/255,this.Jd[1]/255,this.Jd[2]/255,1);this.ue=!0;var h=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(h=Math.round(h),b=Math.round(b));this.Ol(h,b,
null);h=this.kc();a.fe();a.scale(h,h);a.hp(-this.Ra());a.translate((this.na+this.xa)/-2,(this.pa+this.wa)/-2);a.me();this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.xa),this.gc.bottom=this.Mb.Sb(this.wa),this.ud||!this.gc.Sh(this.yi)?(q(this.wf),b=this.En(),this.ud=!1,this.yi.Jh(this.gc)):b=this.wf):b=this.c;var g,e,k=null,d=0;for(g=b.length;d<g;++d)e=b[d],e!==k&&(this.Or(b[d],a),k=e);this.Lc&&(this.wf=b);this.ee&&(b=this.U.length?this.U[0].cb:
0,d=this.U.length?this.U[0].index:0,0===this.U.length||1===this.U.length&&!a.Gl(b)&&1===this.opacity?(1===this.U.length?(a.$c(b),a.Lf(this.Ia.pg(),1/this.b.L,1/this.b.K,0,0,1,1,h,this.Ra(),this.na,this.pa,(this.na+this.xa)/2,(this.pa+this.wa)/2,this.ua[d]),a.aj(b)&&(this.b.ba=!0)):a.$c(0),a.Zc(this.Ia.pg()),a.Se(this.opacity),a.Nb(this.b.Zb),a.ge(this.ib,this.hb),a.fe(),a.me(),h=this.b.L/2,b=this.b.K/2,a.ah(-h,b,h,b,h,-b,-h,-b),a.Nb(null)):this.Ia.Ml(a,this,null,this.Ia.pg()))};e.prototype.Or=function(a,
b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var d=a.Xa;d.right<this.na||d.bottom<this.pa||d.left>this.xa||d.top>this.wa||(a.Lp?this.Pr(a,b):(b.$c(0),b.ge(a.ib,a.hb),a.Gb(b)))}};e.prototype.Pr=function(a,b){var d=a.U[0].cb,h=a.U[0].index,g=this.kc();if(1!==a.U.length||b.Gl(d)||b.Wt(d)||(a.j||a.i.Ra())&&b.Zg(d)||1!==a.opacity||a.type.ga.yo)this.Ia.Ml(b,this,a,this.ee?this.b.Zb:this.Ia.pg()),b.fe(),b.scale(g,g),b.hp(-this.Ra()),b.translate((this.na+this.xa)/-2,(this.pa+this.wa)/-2),b.me();else{b.$c(d);
b.ge(a.ib,a.hb);b.aj(d)&&(this.b.ba=!0);var e=0,k=0,f=0,v=0;b.Zg(d)&&(d=a.Xa,e=this.oc(d.left,d.top,!0),k=this.oc(d.left,d.top,!1),f=this.oc(d.right,d.bottom,!0),d=this.oc(d.right,d.bottom,!1),e/=windowWidth,k=1-k/windowHeight,f/=windowWidth,v=1-d/windowHeight);b.Lf(this.ee?this.b.Zb:this.Ia.pg(),1/a.width,1/a.height,e,k,f,v,g,this.Ra(),this.na,this.pa,(this.na+this.xa)/2,(this.pa+this.wa)/2,a.ua[h]);a.Gb(b)}};e.prototype.Ya=function(a,b,d,h){var g=this.b.devicePixelRatio;this.b.qf&&(a*=g,b*=g);var g=
this.b.So,e=this.b.To,g=(this.Ia.scrollX-g)*this.rc+g,e=(this.Ia.scrollY-e)*this.tc+e,k=g,f=e,v=1/this.kc(!h);h?(k-=this.b.L*v/2,f-=this.b.K*v/2):(k-=this.b.width*v/2,f-=this.b.height*v/2);k+=a*v;f+=b*v;b=this.Ra();0!==b&&(k-=g,f-=e,a=Math.cos(b),b=Math.sin(b),h=k*a-f*b,f=f*a+k*b,k=h+g,f+=e);return d?k:f};e.prototype.oc=function(a,b,d){var h=this.b.So,g=this.b.To,h=(this.Ia.scrollX-h)*this.rc+h,e=(this.Ia.scrollY-g)*this.tc+g,g=h,k=e,f=this.Ra();if(0!==f){a-=h;b-=e;var v=Math.cos(-f),f=Math.sin(-f),
l=a*v-b*f;b=b*v+a*f;a=l+h;b+=e}h=1/this.kc(!1);g-=this.b.L*h/2;k-=this.b.K*h/2;g=(a-g)/h;return d?g:(b-k)/h};e.prototype.mb=function(){var a,b,d,h={s:this.scale,a:this.j,vl:this.na,vt:this.pa,vr:this.xa,vb:this.wa,v:this.visible,bc:this.Jd,t:this.zd,px:this.rc,py:this.tc,o:this.opacity,zr:this.Db,fx:[],cg:this.gg,instances:[]};a=0;for(b=this.F.length;a<b;a++)d=this.F[a],h.fx.push({name:d.name,active:d.Pa,params:this.ua[d.index]});return h};e.prototype.Kb=function(a){var b,d,h;this.scale=a.s;this.j=
a.a;this.na=a.vl;this.pa=a.vt;this.xa=a.vr;this.wa=a.vb;this.visible=a.v;this.Jd=a.bc;this.zd=a.t;this.rc=a.px;this.tc=a.py;this.opacity=a.o;this.Db=a.zr;this.gg=a.cg||[];ya(this.Vb,this.up);var g=new ba;b=0;for(h=this.gg.length;b<h;++b)g.add(this.gg[b]);d=b=0;for(h=this.Vb.length;b<h;++b)g.contains(this.Vb[b][2])||(this.Vb[d]=this.Vb[b],++d);this.Vb.length=d;d=a.fx;b=0;for(h=d.length;b<h;b++)if(a=this.xk(d[b].name))a.Pa=d[b].active,this.ua[a.index]=d[b].params;this.Ad();this.c.sort(l);this.Xe=!0};
Pb=e})();
(function(){function n(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function l(a,b){return a.index-b.index}function e(a){var b,c,d,h;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=r.length&&(r.length=a.length+1);r[a.length]||(r[a.length]=[]);h=r[a.length];b=0;for(c=h.length;b<c;b++)if(d=h[b],n(a,d))return d;h.push(a);return a}
function p(a,b){this.b=a;this.Cp={};this.sn={};this.Ik=!1;this.Kn=new ba;this.hk=[];this.Oj=[];this.name=b[0];var c=b[1];this.Td=[];var d,h;d=0;for(h=c.length;d<h;d++)this.Mn(c[d],null,this.Td)}function q(a){this.type=a;this.c=[];this.O=[];this.ma=!0}function d(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.he=[];this.Jn=this.uj=this.gm=this.Nk=this.group=this.tp=!1;this.gb=[];this.yc=[];this.wc=[];this.sg="";this.rg=this.Nk=this.group=!1;this.Hh=null;c[1]&&(this.sg=c[1][1].toLowerCase(),
this.group=!0,this.Nk=!!c[1][0],this.Hh=[],this.rg=this.Nk,this.b.cf.push(this),this.b.hi[this.sg]=this);this.Vc=c[2];this.M=c[4];this.group||(this.b.Ym[this.M.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var h=new Qb(this,d[a]);h.index=a;this.gb.push(h);this.Nm(h.type)}d=c[6];a=0;for(b=d.length;a<b;a++)h=new Rb(this,d[a]),h.index=a,this.yc.push(h);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Mn(c[a],this,this.wc);this.qi=!1;this.gb.length&&(this.qi=null==this.gb[0].type&&
this.gb[0].Za==X.prototype.d.xm)}function a(a,b){var c,d,h;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Yb))for(c=0,d=a.Fb.length;c<d;c++)h=a.Fb[c],a!==h&&-1===b.indexOf(h)&&b.push(h)}function b(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.va=[];this.X={};this.index=-1;this.Yf=!1;this.Za=this.b.Ed(b[1]);this.trigger=0<b[3];this.rn=2===b[3];this.Uc=b[4];this.Tk=b[5];this.tt=b[6];this.M=b[7];this.b.gf[this.M.toString()]=this;-1===b[0]?(this.type=null,this.La=this.Rl,this.qe=null,this.Ac=-1):
(this.type=this.b.m[b[0]],this.La=this.tt?this.fu:this.Ql,b[2]?(this.qe=this.type.ci(b[2]),this.Ac=this.type.uk(b[2])):(this.qe=null,this.Ac=-1),this.Tb.parent&&this.Tb.parent.fj());this.rn&&(this.La=this.gu);if(10===b.length){var c,d,h=b[9];c=0;for(d=h.length;c<d;c++){var g=new Sb(this,h[c]);this.I.push(g)}this.va.length=h.length}}function t(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.va=[];this.X={};this.index=-1;this.Yf=!1;this.Za=this.b.Ed(b[1]);-1===b[0]?(this.type=null,this.La=
this.Rl,this.qe=null,this.Ac=-1):(this.type=this.b.m[b[0]],this.La=this.Ql,b[2]?(this.qe=this.type.ci(b[2]),this.Ac=this.type.uk(b[2])):(this.qe=null,this.Ac=-1));this.M=b[3];this.b.bf[this.M.toString()]=this;if(6===b.length){var c,d,h=b[5];c=0;for(d=h.length;c<d;c++){var g=new Sb(this,h[c]);this.I.push(g)}this.va.length=h.length}}function g(){k++;s.length===k&&s.push(new Tb);return s[k]}function c(a,b){this.la=a;this.Tb=a.Tb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rc=null;this.xd=0;this.get=
null;this.gn=0;this.Ia=null;this.key=0;this.object=null;this.index=0;this.vh=this.Ue=this.vh=this.Ue=this.tn=this.xe=this.wh=null;this.xc=!1;var c,d,h;switch(b[0]){case 0:case 7:this.Rc=new Ub(this,b[1]);this.xd=0;this.get=this.Qs;break;case 1:this.Rc=new Ub(this,b[1]);this.xd=0;this.get=this.Rs;break;case 5:this.Rc=new Ub(this,b[1]);this.xd=0;this.get=this.Vs;break;case 3:case 8:this.gn=b[1];this.get=this.Os;break;case 6:this.Ia=this.b.fl[b[1]];this.get=this.Ws;break;case 9:this.key=b[1];this.get=
this.Us;break;case 4:this.object=this.b.m[b[1]];this.get=this.Xs;this.Tb.Nm(this.object);this.la instanceof Rb?this.Tb.fj():this.Tb.parent&&this.Tb.parent.fj();break;case 10:this.index=b[1];a.type.A?(this.get=this.Ss,this.xc=!0):this.get=this.Ts;break;case 11:this.wh=b[1];this.xe=null;this.get=this.Ps;break;case 2:case 12:this.tn=b[1];this.get=this.Ns;break;case 13:for(this.get=this.Ys,this.Ue=[],this.vh=[],c=1,d=b.length;c<d;c++)h=new Sb(this.la,b[c]),this.Ue.push(h),this.vh.push(0)}}function m(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.name=c[1];this.pm=c[2];this.Mk=c[3];this.Bg=!!c[4];this.pi=!!c[5];this.M=c[6];this.b.Wf[this.M.toString()]=this;this.data=this.Mk;this.parent?(this.Oe=this.Bg||this.pi?-1:this.b.qu++,this.b.fr.push(this)):(this.Oe=-1,this.b.er.push(this))}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.ug=null;this.et=c[1];this.Pa=!0}function h(){this.wp=[];this.reset(null)}var r=[];p.prototype.toString=function(){return this.name};
p.prototype.Mn=function(a,b,c){switch(a[0]){case 0:a=new Vb(this,b,a);if(a.Vc)for(c.push(a),c=0,b=a.gb.length;c<b;c++)a.gb[c].trigger&&this.Nn(a,c);else a.Un()?this.Nn(a,0):c.push(a);break;case 1:a=new Mb(this,b,a);c.push(a);break;case 2:a=new Wb(this,b,a),c.push(a)}};p.prototype.Ba=function(){var a,b;a=0;for(b=this.Td.length;a<b;a++)this.Td[a].Ba(a<b-1&&this.Td[a+1].qi)};p.prototype.km=function(){this.hk.length=0;this.Oj.length=0;this.Mm(this);this.Oj.length=0};p.prototype.Mm=function(a){var b,c,
d,h,g=a.hk,k=a.Oj,e=this.Kn.Bd();b=0;for(c=e.length;b<c;++b)d=e[b],h=d.ug,!d.Pa||a===h||-1<k.indexOf(h)||(k.push(h),h.Mm(a),g.push(h))};p.prototype.La=function(a){this.b.Sv||(this.Ik=!0,a||(this.b.Xk=!0));var b,c;b=0;for(c=this.Td.length;b<c;b++){var d=this.Td[b];d.La();this.b.ak(d.Ca);this.b.Vd&&this.b.fb()}a||(this.b.Xk=!1)};p.prototype.Nn=function(a,b){a.Vc||this.b.xj.push(a);var c,d,h=a.gb[b],g;g=h.type?h.type.name:"system";var k=(c=h.rn)?this.sn:this.Cp;k[g]||(k[g]=[]);g=k[g];k=h.Za;if(c){if(h.I.length&&
(h=h.I[0],1===h.type&&2===h.Rc.type)){h=h.Rc.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==k){c=g[c].kg;c[h]?c[h].push([a,b]):c[h]=[[a,b]];return}c={};c[h]=[[a,b]];g.push({method:k,kg:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==k){g[c].kg.push([a,b]);return}hc&&k===hc.prototype.d.$e?g.unshift({method:k,kg:[[a,b]]}):g.push({method:k,kg:[[a,b]]})}};Cb=p;q.prototype.Hk=function(){return this.ma?this.type.c.length:this.c.length};q.prototype.Ec=function(){return this.ma?this.type.c:
this.c};q.prototype.Yg=function(a){a&&(a.b.Hb().Cc.Vc?(this.ma&&(this.c.length=0,ya(this.O,a.type.c),this.ma=!1),a=this.O.indexOf(a),-1!==a&&(this.c.push(this.O[a]),this.O.splice(a,1))):(this.ma=!1,this.c.length=1,this.c[0]=a))};kb=q;window._c2hh_="";d.prototype.Ba=function(a){var b,c=this.parent;if(this.group)for(this.uj=!0;c;){if(!c.group){this.uj=!1;break}c=c.parent}this.gm=!this.Un()&&(!this.parent||this.parent.group&&this.parent.uj);this.Jn=!!a;this.he=this.Ca.slice(0);for(c=this.parent;c;){a=
0;for(b=c.Ca.length;a<b;a++)this.cr(c.Ca[a]);c=c.parent}this.Ca=e(this.Ca);this.he=e(this.he);a=0;for(b=this.gb.length;a<b;a++)this.gb[a].Ba();a=0;for(b=this.yc.length;a<b;a++)this.yc[a].Ba();a=0;for(b=this.wc.length;a<b;a++)this.wc[a].Ba(a<b-1&&this.wc[a+1].qi)};d.prototype.ku=function(a){if(this.rg!==!!a){this.rg=!!a;var b;a=0;for(b=this.Hh.length;a<b;++a)this.Hh[a].Ip();0<b&&this.b.ja.we&&this.b.ja.we.km()}};d.prototype.Nm=function(b){a(b,this.Ca)};d.prototype.cr=function(b){a(b,this.he)};d.prototype.fj=
function(){this.tp=!0;this.parent&&this.parent.fj()};d.prototype.Un=function(){return this.gb.length?this.gb[0].trigger:!1};d.prototype.La=function(){var a,b=!1,c,d=this.b,h=this.b.Hb();h.Cc=this;var g=this.gb;this.qi||(h.jk=!1);if(this.Vc){0===g.length&&(b=!0);h.sb=0;for(a=g.length;h.sb<a;h.sb++)g[h.sb].trigger||(c=g[h.sb].La())&&(b=!0);(h.Je=b)&&this.Pl()}else{h.sb=0;for(a=g.length;h.sb<a;h.sb++)if(c=g[h.sb].La(),!c){h.Je=!1;this.gm&&d.Vd&&d.fb();return}h.Je=!0;this.Pl()}this.Sr(h)};d.prototype.Sr=
function(a){a.Je&&this.Jn&&(a.jk=!0);this.gm&&this.b.Vd&&this.b.fb()};d.prototype.du=function(a){this.b.Hb().Cc=this;this.gb[a].La()&&(this.Pl(),this.b.Hb().Je=!0)};d.prototype.Pl=function(){var a=this.b.Hb(),b;a.ac=0;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].La())return;this.ip()};d.prototype.bu=function(){var a=this.b.Hb(),b;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].La())return;this.ip()};d.prototype.ip=function(){if(this.wc.length){var a,b,c,d,h=this.wc.length-1;this.b.Il(this);
if(this.tp)for(a=0,b=this.wc.length;a<b;a++)c=this.wc[a],(d=!this.uj||!this.group&&a<h)&&this.b.Hl(c.Ca),c.La(),d?this.b.Hf(c.Ca):this.b.ak(c.Ca);else for(a=0,b=this.wc.length;a<b;a++)this.wc[a].La();this.b.Yo()}};d.prototype.eu=function(){var a=this.b.Hb();a.Cc=this;var b=!1,c;a.sb=0;for(c=this.gb.length;a.sb<c;a.sb++)if(this.gb[a.sb].La())b=!0;else if(!this.Vc)return!1;return this.Vc?b:!0};d.prototype.lt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.gb[b].type===a.type)return!1;
return!0};Vb=d;b.prototype.Ba=function(){var a,b,c;a=0;for(b=this.I.length;a<b;a++)c=this.I[a],c.Ba(),c.xc&&(this.Yf=!0)};b.prototype.gu=function(){return!0};b.prototype.Rl=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.va[a]=this.I[a].get();return Sa(this.Za.apply(this.b.ad,this.va),this.Tk)};b.prototype.fu=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.va[a]=this.I[a].get();a=this.Za.apply(this.qe?this.qe:this.type,this.va);this.type.Id();return a};b.prototype.Ql=function(){var a,
b,c,d,h,g,k,e,m=this.type,l=m.ea(),r=this.Tb.Vc&&!this.trigger;b=0;var n=m.Yb,q=m.A,s=m.md,p=this.Ac,t=-1<p,u=this.Yf,A=this.I,C=this.va,L=this.Tk,G=this.Za,J;if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc||(C[b]=g.get(0));else for(b=0,h=A.length;b<h;++b)C[b]=A[b].get(0);if(l.ma){l.c.length=0;l.O.length=0;J=m.c;a=0;for(d=J.length;a<d;++a){e=J[a];if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc&&(C[b]=g.get(a));t?(b=0,q&&(b=e.type.jf[s]),b=G.apply(e.G[p+b],C)):b=G.apply(e,C);(k=Sa(b,L))?l.c.push(e):r&&l.O.push(e)}m.finish&&
m.finish(!0);l.ma=!1;m.Id();return l.Hk()}c=0;J=(k=r&&!this.Tb.lt(this))?l.O:l.c;var H=!1;a=0;for(d=J.length;a<d;++a){e=J[a];if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc&&(C[b]=g.get(a));t?(b=0,q&&(b=e.type.jf[s]),b=G.apply(e.G[p+b],C)):b=G.apply(e,C);if(Sa(b,L))if(H=!0,k){if(l.c.push(e),n)for(b=0,h=e.siblings.length;b<h;b++)g=e.siblings[b],g.type.ea().c.push(g)}else{J[c]=e;if(n)for(b=0,h=e.siblings.length;b<h;b++)g=e.siblings[b],g.type.ea().c[c]=g;c++}else if(k){J[c]=e;if(n)for(b=0,h=e.siblings.length;b<
h;b++)g=e.siblings[b],g.type.ea().O[c]=g;c++}else if(r&&(l.O.push(e),n))for(b=0,h=e.siblings.length;b<h;b++)g=e.siblings[b],g.type.ea().O.push(g)}J.length=c;if(n)for(q=m.Fb,a=0,d=q.length;a<d;a++)e=q[a].ea(),k?e.O.length=c:e.c.length=c;c=H;if(k&&!H)for(a=0,d=l.c.length;a<d;a++){e=l.c[a];if(u)for(b=0,h=A.length;b<h;b++)g=A[b],g.xc&&(C[b]=g.get(a));b=t?G.apply(e.G[p],C):G.apply(e,C);if(Sa(b,L)){H=!0;break}}m.finish&&m.finish(c||r);return r?H:l.Hk()};Qb=b;t.prototype.Ba=function(){var a,b,c;a=0;for(b=
this.I.length;a<b;a++)c=this.I[a],c.Ba(),c.xc&&(this.Yf=!0)};t.prototype.Rl=function(){var a=this.b,b,c,d=this.I,h=this.va;b=0;for(c=d.length;b<c;++b)h[b]=d[b].get();return this.Za.apply(a.ad,h)};t.prototype.Ql=function(){var a=this.type,b=this.Ac,c=a.md,d=this.Yf,h=this.I,g=this.va,k=this.Za,e=a.ea().Ec(),a=a.A,m=-1<b,l,r,n,q,s,p;if(d)for(r=0,q=h.length;r<q;++r)s=h[r],s.xc||(g[r]=s.get(0));else for(r=0,q=h.length;r<q;++r)g[r]=h[r].get(0);l=0;for(n=e.length;l<n;++l){p=e[l];if(d)for(r=0,q=h.length;r<
q;++r)s=h[r],s.xc&&(g[r]=s.get(l));m?(r=0,a&&(r=p.type.jf[c]),k.apply(p.G[b+r],g)):k.apply(p,g)}return!1};Rb=t;var s=[],k=-1;c.prototype.Ba=function(){var a,b;if(11===this.type)this.xe=this.b.An(this.wh,this.Tb.parent);else if(13===this.type)for(a=0,b=this.Ue.length;a<b;a++)this.Ue[a].Ba();this.Rc&&this.Rc.Ba()};c.prototype.At=function(a){this.xc||!a||a.ga.ij||(this.xc=!0)};c.prototype.mp=function(){this.xc=!0};c.prototype.Qs=function(a){this.xd=a||0;a=g();this.Rc.get(a);k--;return a.data};c.prototype.Rs=
function(a){this.xd=a||0;a=g();this.Rc.get(a);k--;return Q(a.data)?a.data:""};c.prototype.Xs=function(){return this.object};c.prototype.Os=function(){return this.gn};c.prototype.Vs=function(a){this.xd=a||0;a=g();this.Rc.get(a);k--;return a.Ha()?this.b.od(a.data):this.b.ng(a.data)};c.prototype.Ws=function(){return this.Ia};c.prototype.Us=function(){return this.key};c.prototype.Ts=function(){return this.index};c.prototype.Ss=function(a){a=a||0;var b=this.la.type,c=null,c=b.ea(),d=c.Ec();if(d.length)c=
d[a%d.length].type;else if(c.O.length)c=c.O[a%c.O.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.Xh[b.md]};c.prototype.Ps=function(){return this.xe};c.prototype.Ns=function(){return this.tn};c.prototype.Ys=function(){var a,b;a=0;for(b=this.Ue.length;a<b;a++)this.vh[a]=this.Ue[a].get();return this.vh};Sb=c;m.prototype.Ba=function(){this.Ca=e(this.Ca)};m.prototype.Nf=function(a){var b=this.b.zn();this.parent&&!this.Bg&&b?(this.Oe>=b.length&&(b.length=this.Oe+
1),b[this.Oe]=a):this.data=a};m.prototype.gi=function(){var a=this.b.zn();return!this.parent||this.Bg||!a||this.pi?this.data:this.Oe>=a.length||"undefined"===typeof a[this.Oe]?this.Mk:a[this.Oe]};m.prototype.La=function(){!this.parent||this.Bg||this.pi||this.Nf(this.Mk)};Mb=m;u.prototype.toString=function(){return"include:"+this.ug.toString()};u.prototype.Ba=function(){this.ug=this.b.lk[this.et];this.sheet.Kn.add(this);this.Ca=e(this.Ca);for(var a=this.parent;a;)a.group&&a.Hh.push(this),a=a.parent;
this.Ip()};u.prototype.La=function(){this.parent&&this.b.$g(this.b.m);this.ug.Ik||this.ug.La(!0);this.parent&&this.b.Hf(this.b.m)};u.prototype.Ip=function(){for(var a=this.parent;a;){if(a.group&&!a.rg){this.Pa=!1;return}a=a.parent}this.Pa=!0};Wb=u;h.prototype.reset=function(a){this.Cc=a;this.ac=this.sb=0;this.wp.length=0;this.jk=this.Je=!1};Lb=h})();
(function(){function n(a,b){this.la=a;this.b=a.b;this.type=b[0];this.get=[this.es,this.as,this.ps,this.ts,this.Ur,this.qs,this.ks,this.Yr,this.js,this.os,this.Vr,this.ns,this.Zr,this.ls,this.gs,this.hs,this.bs,this.cs,this.Xr,this.rs,this.ms,this.ds,this.Wr,this.$r][this.type];var d=null;this.sd=this.I=this.va=this.Za=this.sj=this.Ua=this.first=this.value=null;this.Ac=-1;this.Wd=null;this.Np=-1;this.xe=this.wh=null;this.Kf=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Ub(a,b[1]);break;case 18:this.first=new Ub(a,b[1]);this.Ua=new Ub(a,b[2]);this.sj=new Ub(a,b[3]);break;case 19:this.Za=this.b.Ed(b[1]);this.Za!==X.prototype.Qa.random&&this.Za!==X.prototype.Qa.pr||this.la.mp();this.va=[];this.I=[];3===b.length?(d=b[2],this.va.length=d.length+1):this.va.length=1;break;case 20:this.sd=this.b.m[b[1]];this.Ac=-1;this.Za=this.b.Ed(b[2]);this.Kf=b[3];Yb.Function&&this.Za===Yb.Function.prototype.Qa.Lu&&this.la.mp();this.Wd=b[4]?new Ub(a,b[4]):null;this.va=[];this.I=
[];6===b.length?(d=b[5],this.va.length=d.length+1):this.va.length=1;break;case 21:this.sd=this.b.m[b[1]];this.Kf=b[2];this.Wd=b[3]?new Ub(a,b[3]):null;this.Np=b[4];break;case 22:this.sd=this.b.m[b[1]];this.sd.ci(b[2]);this.Ac=this.sd.uk(b[2]);this.Za=this.b.Ed(b[3]);this.Kf=b[4];this.Wd=b[5]?new Ub(a,b[5]):null;this.va=[];this.I=[];7===b.length?(d=b[6],this.va.length=d.length+1):this.va.length=1;break;case 23:this.wh=b[1],this.xe=null}this.la.At(this.sd);4<=this.type&&17>=this.type&&(this.first=new Ub(a,
b[1]),this.Ua=new Ub(a,b[2]));if(d){var g,c;g=0;for(c=d.length;g<c;g++)this.I.push(new Ub(a,d[g]))}}function l(){++d;q.length===d&&q.push(new Tb);return q[d]}function e(a,b,d){var g,c;g=0;for(c=a.length;g<c;++g)a[g].get(d),b[g+1]=d.data}function p(a,b){this.type=a||W.Ze;this.data=b||0;this.Pe=null;this.type==W.Ze&&(this.data=Math.floor(this.data))}n.prototype.Ba=function(){23===this.type&&(this.xe=this.la.b.An(this.wh,this.la.Tb.parent));this.first&&this.first.Ba();this.Ua&&this.Ua.Ba();this.sj&&
this.sj.Ba();this.Wd&&this.Wd.Ba();if(this.I){var a,b;a=0;for(b=this.I.length;a<b;a++)this.I[a].Ba()}};var q=[],d=-1;n.prototype.rs=function(a){var b=this.I,n=this.va;n[0]=a;a=l();e(b,n,a);--d;this.Za.apply(this.b.ad,n)};n.prototype.ms=function(a){var b=this.sd,n=this.va,g=this.I,c=this.Wd,m=this.Za,q=this.la.xd,h=b.ea(),r=h.Ec();if(!r.length)if(h.O.length)r=h.O;else{this.Kf?a.bb(""):a.ca(0);return}n[0]=a;a.Pe=b;a=l();e(g,n,a);c&&(c.get(a),a.Ha()&&(q=a.data,r=b.c));--d;b=r.length;if(q>=b||q<=-b)q%=
b;0>q&&(q+=b);m.apply(r[q],n)};n.prototype.Wr=function(a){var b=this.sd,q=this.va,g=this.I,c=this.Wd,m=this.Ac,n=this.Za,h=this.la.xd,r=b.ea(),s=r.Ec();if(!s.length)if(r.O.length)s=r.O;else{this.Kf?a.bb(""):a.ca(0);return}q[0]=a;a.Pe=b;a=l();e(g,q,a);c&&(c.get(a),a.Ha()&&(h=a.data,s=b.c));--d;g=s.length;if(h>=g||h<=-g)h%=g;0>h&&(h+=g);h=s[h];s=0;b.A&&(s=h.type.jf[b.md]);n.apply(h.G[m+s],q)};n.prototype.ds=function(a){var b=this.Wd,e=this.sd,g=this.Np,c=this.la.xd,m=e.ea(),q=m.Ec();if(!q.length)if(m.O.length)q=
m.O;else{this.Kf?a.bb(""):a.ca(0);return}if(b){m=l();b.get(m);if(m.Ha()){c=m.data;e=e.c;c%=e.length;0>c&&(c+=e.length);g=e[c].Ga[g];Q(g)?a.bb(g):a.q(g);--d;return}--d}b=q.length;if(c>=b||c<=-b)c%=b;0>c&&(c+=b);c=q[c];q=0;e.A&&(q=c.type.Xh[e.md]);g=c.Ga[g+q];Q(g)?a.bb(g):a.q(g)};n.prototype.es=function(a){a.type=W.Ze;a.data=this.value};n.prototype.as=function(a){a.type=W.Ye;a.data=this.value};n.prototype.ps=function(a){a.type=W.String;a.data=this.value};n.prototype.ts=function(a){this.first.get(a);
a.Ha()&&(a.data=-a.data)};n.prototype.Ur=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data+=b.data,b.sf()&&a.Bf());--d};n.prototype.qs=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data-=b.data,b.sf()&&a.Bf());--d};n.prototype.ks=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data*=b.data,b.sf()&&a.Bf());--d};n.prototype.Yr=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data/=b.data,a.Bf());
--d};n.prototype.js=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data%=b.data,b.sf()&&a.Bf());--d};n.prototype.os=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data=Math.pow(a.data,b.data),b.sf()&&a.Bf());--d};n.prototype.Vr=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()?b.ri()?a.bb(a.data.toString()+b.data):a.data&&b.data?a.ca(1):a.ca(0):a.ri()&&(a.data=b.ri()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());--d};
n.prototype.ns=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.Ha()&&b.Ha()&&(a.data||b.data?a.ca(1):a.ca(0));--d};n.prototype.Xr=function(a){this.first.get(a);a.data?this.Ua.get(a):this.sj.get(a)};n.prototype.Zr=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data===b.data?1:0);--d};n.prototype.ls=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data!==b.data?1:0);--d};n.prototype.gs=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data<b.data?1:0);
--d};n.prototype.hs=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data<=b.data?1:0);--d};n.prototype.bs=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data>b.data?1:0);--d};n.prototype.cs=function(a){this.first.get(a);var b=l();this.Ua.get(b);a.ca(a.data>=b.data?1:0);--d};n.prototype.$r=function(a){var b=this.xe.gi();O(b)?a.q(b):a.bb(b)};Ub=n;p.prototype.sf=function(){return this.type===W.Ye};p.prototype.Ha=function(){return this.type===W.Ze||this.type===W.Ye};p.prototype.ri=
function(){return this.type===W.String};p.prototype.Bf=function(){this.sf()||(this.ri()&&(this.data=parseFloat(this.data)),this.type=W.Ye)};p.prototype.ca=function(a){this.type=W.Ze;this.data=Math.floor(a)};p.prototype.q=function(a){this.type=W.Ye;this.data=a};p.prototype.bb=function(a){this.type=W.String;this.data=a};p.prototype.ou=function(a){O(a)?(this.type=W.Ye,this.data=a):Q(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.Ze,this.data=0)};Tb=p;W={Ze:0,Ye:1,String:2}})();
function X(n){this.b=n;this.Qb=[]}X.prototype.mb=function(){var n={},l,e,p,q,d,a,b,t;n.waits=[];var g=n.waits,c;l=0;for(e=this.Qb.length;l<e;l++){a=this.Qb[l];c={t:a.time,st:a.pu,s:a.rp,ev:a.jg.M,sm:[],sols:{}};a.jg.yc[a.ac]&&(c.act=a.jg.yc[a.ac].M);p=0;for(q=a.Ca.length;p<q;p++)c.sm.push(a.Ca[p].M);for(d in a.Ob)if(a.Ob.hasOwnProperty(d)){b=this.b.m[parseInt(d,10)];t={sa:a.Ob[d].jp,insts:[]};p=0;for(q=a.Ob[d].Ee.length;p<q;p++)t.insts.push(a.Ob[d].Ee[p].uid);c.sols[b.M.toString()]=t}g.push(c)}return n};
X.prototype.Kb=function(n){n=n.waits;var l,e,p,q,d,a,b,t,g,c,m;l=this.Qb.length=0;for(e=n.length;l<e;l++)if(a=n[l],t=this.b.Ym[a.ev.toString()]){g=-1;p=0;for(q=t.yc.length;p<q;p++)if(t.yc[p].M===a.act){g=p;break}if(-1!==g){b={Ob:{},Ca:[],ln:!1};b.time=a.t;b.pu=a.st||"";b.rp=!!a.s;b.jg=t;b.ac=g;p=0;for(q=a.sm.length;p<q;p++)(t=this.b.fi(a.sm[p]))&&b.Ca.push(t);for(d in a.sols)if(a.sols.hasOwnProperty(d)&&(t=this.b.fi(parseInt(d,10)))){g=a.sols[d];c={jp:g.sa,Ee:[]};p=0;for(q=g.insts.length;p<q;p++)(m=
this.b.ei(g.insts[p]))&&c.Ee.push(m);b.Ob[t.index.toString()]=c}this.Qb.push(b)}}};
(function(){function n(){}function l(){}function e(){}var p=X.prototype;n.prototype.Zp=function(){return!0};n.prototype.wq=function(){return!0};n.prototype.vq=function(){return!0};n.prototype.Yp=function(a){var b=this.b.yn(),d=b.X.Every_lastTime||0,g=this.b.yb.V;"undefined"===typeof b.X.Every_seconds&&(b.X.Every_seconds=a);var c=b.X.Every_seconds;if(g>=d+c)return b.X.Every_lastTime=d+c,g>=b.X.Every_lastTime+.04&&(b.X.Every_lastTime=g),b.X.Every_seconds=a,!0;g<d-.1&&(b.X.Every_lastTime=g);return!1};
n.prototype.Vp=function(a,b,d){return Xb(a.gi(),b,d)};n.prototype.xm=function(){var a=this.b.Hb();return a.jk?!1:!a.Je};n.prototype.Bm=function(){return!0};n.prototype.kq=function(){return!0};n.prototype.Jj=function(){return!0};n.prototype.xq=function(){return!0};n.prototype.Hj=function(){return!0};n.prototype.Rp=function(a,b,d){return Ja(V(a),V(d))<=V(b)};n.prototype.bq=function(a,b){return La(V(a),V(b))};n.prototype.aq=function(a,b,d){a=Ha(a);b=Ha(b);d=Ha(d);return La(d,b)?La(a,b)&&!La(a,d):!(!La(a,
b)&&La(a,d))};p.d=new n;l.prototype.Xp=function(a,b,d,g){if(b&&a&&(b=this.b.jn(a,b,d,g))){this.b.Fc++;var c;this.b.trigger(Object.getPrototypeOf(a.ga).d.Fj,b);if(b.Yb)for(d=0,g=b.siblings.length;d<g;d++)c=b.siblings[d],this.b.trigger(Object.getPrototypeOf(c.type.ga).d.Fj,c);this.b.Fc--;a=a.ea();a.ma=!1;a.c.length=1;a.c[0]=b;if(b.Yb)for(d=0,g=b.siblings.length;d<g;d++)c=b.siblings[d],a=c.type.ea(),a.ma=!1,a.c.length=1,a.c[0]=c}};l.prototype.Oq=function(a,b){0===a.pm?O(b)?a.Nf(b):a.Nf(parseFloat(b)):
1===a.pm&&a.Nf(b.toString())};l.prototype.Tq=function(a,b){0===a.pm&&(O(b)?a.Nf(a.gi()-b):a.Nf(a.gi()-parseFloat(b)))};var q=[],d=[];p.ha=new l;e.prototype["int"]=function(a,b){Q(b)?(a.ca(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.ca(b)};e.prototype["float"]=function(a,b){Q(b)?(a.q(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.q(b)};e.prototype.random=function(a,b,d){void 0===d?a.q(Math.random()*b):a.q(Math.random()*(d-b)+b)};e.prototype.sqrt=function(a,b){a.q(Math.sqrt(b))};e.prototype.abs=function(a,
b){a.q(Math.abs(b))};e.prototype.round=function(a,b){a.ca(Math.round(b))};e.prototype.floor=function(a,b){a.ca(Math.floor(b))};e.prototype.ceil=function(a,b){a.ca(Math.ceil(b))};e.prototype.sin=function(a,b){a.q(Math.sin(V(b)))};e.prototype.cos=function(a,b){a.q(Math.cos(V(b)))};e.prototype.tan=function(a,b){a.q(Math.tan(V(b)))};e.prototype.asin=function(a,b){a.q(Ca(Math.asin(b)))};e.prototype.acos=function(a,b){a.q(Ca(Math.acos(b)))};e.prototype.atan=function(a,b){a.q(Ca(Math.atan(b)))};e.prototype.exp=
function(a,b){a.q(Math.exp(b))};e.prototype.log10=function(a,b){a.q(Math.log(b)/Math.LN10)};e.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var d,g,c;d=2;for(g=arguments.length;d<g;d++)c=arguments[d],"number"===typeof c&&b<c&&(b=c);a.q(b)};e.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var d,g,c;d=2;for(g=arguments.length;d<g;d++)c=arguments[d],"number"===typeof c&&b>c&&(b=c);a.q(b)};e.prototype.ve=function(a){a.q(this.b.ve)};e.prototype.We=function(a){a.q(this.b.We)};
e.prototype.time=function(a){a.q(this.b.yb.V)};e.prototype.sh=function(a){a.ca(this.b.sh)};e.prototype.Ni=function(a){a.ca(this.b.Ni)};e.prototype.qk=function(a){a.ca(this.b.qk)};e.prototype.j=function(a,b,d,g,c){a.q(Ca(Ia(b,d,g,c)))};e.prototype.find=function(a,b,d){Q(b)&&Q(d)?a.ca(b.search(new RegExp($a(d),"i"))):a.ca(-1)};e.prototype.left=function(a,b,d){a.bb(Q(b)?b.substr(0,d):"")};e.prototype.right=function(a,b,d){a.bb(Q(b)?b.substr(b.length-d):"")};e.prototype.replace=function(a,b,d,g){Q(b)&&
Q(d)&&Q(g)?a.bb(b.replace(new RegExp($a(d),"gi"),g)):a.bb(Q(b)?b:"")};e.prototype.trim=function(a,b){a.bb(Q(b)?b.trim():"")};e.prototype.pr=function(a){var b=U(Math.random()*(arguments.length-1));a.ou(arguments[b+1])};e.prototype.ck=function(a){a.q(this.b.ck/1E3)};e.prototype.zf=function(a){a.q(this.b.zf)};p.Qa=new e;p.cu=function(){var a,b,e,g,c,m,l=this.b.Hb();a=0;for(e=this.Qb.length;a<e;a++){g=this.Qb[a];if(-1===g.time){if(!g.rp)continue}else if(g.time>this.b.yb.V)continue;l.Cc=g.jg;l.ac=g.ac;
l.sb=0;for(b in g.Ob)g.Ob.hasOwnProperty(b)&&(c=this.b.m[parseInt(b,10)].ea(),m=g.Ob[b],c.ma=m.jp,ya(c.c,m.Ee),c=m,c.Ee.length=0,d.push(c));g.jg.bu();this.b.ak(g.Ca);g.ln=!0}b=a=0;for(e=this.Qb.length;a<e;a++)g=this.Qb[a],this.Qb[b]=g,g.ln?(Ua(g.Ob),g.Ca.length=0,q.push(g)):b++;this.Qb.length=b}})();
(function(){jb=function(l,e){var n=l[1],q=l[3],d=l[4],a=l[5],b=l[6],t=l[7],g=l[8];e.d||(e.d={});e.ha||(e.ha={});e.Qa||(e.Qa={});var c=e.d,m=e.ha,u=e.Qa;q&&(c.Pu=function(a,b){return Xb(this.x,a,b)},c.Wp=function(a,b){return Xb(this.y,a,b)},c.Wu=function(){var a=this.i;this.eb();var b=this.Xa;return!(b.right<a.na||b.bottom<a.pa||b.left>a.xa||b.top>a.wa)},c.Xu=function(){this.eb();var a=this.Xa,b=this.b.ja;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.kv=function(a,b,c){var d=this.ea(),
f=d.Ec();if(!f.length)return!1;var g=f[0],e=g,m=Ra(g.x,g.y,b,c),l,q,n;l=1;for(q=f.length;l<q;l++)if(g=f[l],n=Ra(g.x,g.y,b,c),0===a&&n<m||1===a&&n>m)m=n,e=g;d.Yg(e);return!0},m.Bv=function(a){this.x!==a&&(this.x=a,this.Ma())},m.Cv=function(a){this.y!==a&&(this.y=a,this.Ma())},m.Mq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ma()},m.yv=function(a,b){var c=a.Is(this);if(c){var d;c.zk?(d=c.zk(b,!0),c=c.zk(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ma()}},
m.bv=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.Ma())},m.av=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.Ma())},u.yh=function(a){a.q(this.x)},u.Kj=function(a){a.q(this.y)},u.ve=function(a){a.q(this.b.wk(this))});d&&(c.Ou=function(a,b){return Xb(this.width,a,b)},c.Mu=function(a,b){return Xb(this.height,a,b)},m.Qq=function(a){this.width!==a&&(this.width=a,this.Ma())},m.wv=function(a){this.height!==a&&(this.height=a,this.Ma())},m.zv=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ma()},u.Gv=function(a){a.q(this.width)},u.Su=function(a){a.q(this.height)},u.Iu=function(a){this.eb();a.q(this.Xa.left)},u.Ku=function(a){this.eb();a.q(this.Xa.top)},u.Ju=function(a){this.eb();a.q(this.Xa.right)},u.Hu=function(a){this.eb();a.q(this.Xa.bottom)});a&&(c.Rp=function(a,b){return Ja(this.j,V(b))<=V(a)},c.bq=function(a){return La(this.j,V(a))},c.aq=function(a,b){var c=Ha(a),d=Ha(b),f=Ea(this.j);return La(d,
c)?La(f,c)&&!La(f,d):!(!La(f,c)&&La(f,d))},m.sv=function(a){a=V(Da(a));isNaN(a)||this.j===a||(this.j=a,this.Ma())},m.ov=function(a){0===a||isNaN(a)||(this.j+=V(a),this.j=Ea(this.j),this.Ma())},m.pv=function(a){0===a||isNaN(a)||(this.j-=V(a),this.j=Ea(this.j),this.Ma())},m.qv=function(a,b){var c=Ka(this.j,V(b),V(a));isNaN(c)||this.j===c||(this.j=c,this.Ma())},m.rv=function(a,b,c){a=Ka(this.j,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.j===a||(this.j=a,this.Ma())},m.Av=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.j===c||(this.j=c,this.Ma())},u.Gu=function(a){a.q(Fa(this.j))});n||(c.Up=function(a,b,c){return Xb(this.Ga[a],b,c)},c.Uu=function(a){return this.Ga[a]},c.lv=function(a,b){var c=this.ea(),d=c.Ec();if(!d.length)return!1;var f=d[0],g=f,e=f.Ga[b],m,l,q;m=1;for(l=d.length;m<l;m++)if(f=d[m],q=f.Ga[b],0===a&&q<e||1===a&&q>e)e=q,g=f;c.Yg(g);return!0},c.jv=function(a){var b,c,d,f,g;if(this.b.yn().Tk){g=this.ea();if(g.ma)for(g.ma=!1,g.c.length=0,g.O.length=0,d=this.c,b=0,c=d.length;b<
c;b++)f=d[b],f.uid===a?g.O.push(f):g.c.push(f);else{d=b=0;for(c=g.c.length;b<c;b++)f=g.c[b],g.c[d]=f,f.uid===a?g.O.push(f):d++;g.c.length=d}this.Id();return!!g.c.length}f=this.b.ei(a);if(!f)return!1;g=this.ea();if(!g.ma&&-1===g.c.indexOf(f))return!1;if(this.A)for(a=f.type.qa,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.Yg(f),this.Id(),!0}else if(f.type===this)return g.Yg(f),this.Id(),!0;return!1},c.Fj=function(){return!0},c.lq=function(){return!0},m.Lq=function(a,b){var c=this.Ga;O(c[a])?c[a]=
O(b)?b:parseFloat(b):Q(c[a])&&(c[a]=Q(b)?b:b.toString())},m.Qp=function(a,b){var c=this.Ga;O(c[a])?c[a]=O(b)?c[a]+b:c[a]+parseFloat(b):Q(c[a])&&(c[a]=Q(b)?c[a]+b:c[a]+b.toString())},m.Dv=function(a,b){var c=this.Ga;O(c[a])&&(c[a]=O(b)?c[a]-b:c[a]-parseFloat(b))},m.Kq=function(a,b){this.Ga[a]=b?1:0},m.Ev=function(a){this.Ga[a]=1-this.Ga[a]},m.Ru=function(){this.b.Dd(this)},m.dq||(m.dq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Ei(this,b,!0);this.Gd&&this.Gd();if(this.G)for(a=0,
b=this.G.length;a<b;++a)c=this.G[a],c.Gd&&c.Gd()}),u.Qu=function(a){var b=a.Pe.c.length,c,d,f;c=0;for(d=this.b.Qc.length;c<d;c++)f=this.b.Qc[c],a.Pe.A?0<=f.type.qa.indexOf(a.Pe)&&b++:f.type===a.Pe&&b++;a.ca(b)},u.nv=function(a){a.ca(a.Pe.ea().Ec().length)},u.Fv=function(a){a.ca(this.uid)},u.Tu=function(a){a.ca(this.qg())},u.wm||(u.wm=function(a){a.bb(JSON.stringify(this.b.Sl(this,!0)))}));b&&(c.Yu=function(){return this.visible},m.Pq=function(a){!a!==!this.visible&&(this.visible=a,this.b.ba=!0)},
c.Nu=function(a,b){return Xb(fb(100*this.opacity),a,b)},m.xv=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ba=!0)},u.Opacity=function(a){a.q(fb(100*this.opacity))});t&&(c.Vu=function(a){return a?this.i===a:!1},c.mv=function(a){var b=this.ea(),c=b.Ec();if(!c.length)return!1;var d=c[0],f=d,g,e;g=1;for(e=c.length;g<e;g++)if(d=c[g],0===a){if(d.i.index>f.i.index||d.i.index===f.i.index&&d.Tc()>f.Tc())f=d}else if(d.i.index<f.i.index||d.i.index===f.i.index&&d.Tc()<f.Tc())f=
d;b.Yg(f);return!0},m.gv=function(){var a=this.i,b=a.c;b.length&&b[b.length-1]===this||(a.Jf(this,!1),a.$f(this,!1),this.b.ba=!0)},m.cv=function(){var a=this.i,b=a.c;b.length&&b[0]===this||(a.Jf(this,!1),a.Ut(this),this.b.ba=!0)},m.dv=function(a){a&&a!=this.i&&(this.i.Jf(this,!0),this.i=a,a.$f(this,!0),this.b.ba=!0)},m.Iv=function(a,b){var c=0===a;if(b){var d=b.Ds(this);d&&d.uid!==this.uid&&(this.i.index!==d.i.index&&(this.i.Jf(this,!0),this.i=d.i,d.i.$f(this,!0)),this.i.Ct(this,d,c),this.b.ba=!0)}},
u.$u=function(a){a.ca(this.i.Co)},u.Zu=function(a){a.bb(this.i.name)},u.Hv=function(a){a.ca(this.Tc())});g&&(m.uv=function(a,b){if(this.b.n){var c=this.type.yk(b);if(!(0>c)){var d=1===a;this.Fd[c]!==d&&(this.Fd[c]=d,this.Ad(),this.b.ba=!0)}}},m.vv=function(a,b,c){if(this.b.n){var d=this.type.yk(a);0>d||(a=this.type.F[d],d=this.ua[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.n.Ms(a.cb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Pa&&(this.b.ba=!0))))}})};Db=function(){this.Wj=this.Ah=!0;this.type.Rm=!0;this.b.ba=
!0;var l,e,n=this.Rj;l=0;for(e=n.length;l<e;++l)n[l](this);this.i.Lc&&this.eb()};Eb=function(l){l&&this.Rj.push(l)};Gb=function(){if(this.Ah){var l=this.Xa,e=this.ef;l.set(this.x,this.y,this.x+this.width,this.y+this.height);l.offset(-this.wb*this.width,-this.xb*this.height);this.j?(l.offset(-this.x,-this.y),e.np(l,this.j),e.offset(this.x,this.y),e.Zm(l)):e.fh(l);l.normalize();this.Ah=!1;this.Bu()}};var n=new sa(0,0,0,0);Hb=function(){if(this.i.Lc){var l=this.i.Mb,e=this.Xa;n.set(l.Rb(e.left),l.Sb(e.top),
l.Rb(e.right),l.Sb(e.bottom));this.zb.Sh(n)||(this.zb.right<this.zb.left?l.update(this,null,n):l.update(this,this.zb,n),this.zb.Jh(n),this.i.ud=!0)}};Ib=function(){if(this.Wj&&this.eg){this.eb();var l=this.type.en,e=this.Xa;n.set(l.Rb(e.left),l.Sb(e.top),l.Rb(e.right),l.Sb(e.bottom));this.Od.Sh(n)||(this.Od.right<this.Od.left?l.update(this,null,n):l.update(this,this.Od,n),this.Od.Jh(n),this.Wj=!1)}};Fb=function(l,e){return this.Xa.ec(l,e)&&this.ef.ec(l,e)?this.Pc&&!this.Pc.pt()?(this.Pc.mr(this.width,
this.height,this.j),this.Pc.ec(l-this.x,e-this.y)):!0:!1};zb=function(){this.type.zj();return this.Ce};Jb=function(){this.i.nm();return this.Mc};Kb=function(){this.U.length=0;var l,e;l=0;for(e=this.Fd.length;l<e;l++)this.Fd[l]&&this.U.push(this.type.F[l]);this.Lp=!!this.U.length};Ab=function(){return"Inst"+this.cp};mb=function(l){if(l&&l.Yb&&l.type!=this){var e,n,q;e=0;for(n=l.siblings.length;e<n;e++)if(q=l.siblings[e],q.type==this)return q}l=this.ea().Ec();return l.length?l[0]:null};nb=function(l){var e=
this.ea().Ec();return e.length?e[l.qg()%e.length]:null};lb=function(){if(this.Qf&&!this.A){var l,e;l=0;for(e=this.c.length;l<e;l++)this.c[l].Ce=l;var n=l,q=this.b.Qc;l=0;for(e=q.length;l<e;++l)q[l].type===this&&(q[l].Ce=n++);this.Qf=!1}};xb=function(l){if(l<this.c.length)return this.c[l];l-=this.c.length;var e=this.b.Qc,n,q;n=0;for(q=e.length;n<q;++n)if(e[n].type===this){if(0===l)return e[n];--l}return null};ob=function(){return this.ie[this.kd]};pb=function(){this.kd++;this.kd===this.ie.length?this.ie.push(new kb(this)):
this.ie[this.kd].ma=!0};qb=function(){this.kd++;this.kd===this.ie.length&&this.ie.push(new kb(this));var l=this.ie[this.kd],e=this.ie[this.kd-1];e.ma?l.ma=!0:(l.ma=!1,ya(l.c,e.c),ya(l.O,e.O))};rb=function(){this.kd--};sb=function(l){var e,n,q,d,a,b=0;if(!this.A)for(e=0,n=this.qa.length;e<n;e++)for(a=this.qa[e],q=0,d=a.Da.length;q<d;q++){if(l===a.Da[q].name)return this.X.lastBehIndex=b,a.Da[q];b++}e=0;for(n=this.Da.length;e<n;e++){if(l===this.Da[e].name)return this.X.lastBehIndex=b,this.Da[e];b++}return null};
ub=function(l){return this.ci(l)?this.X.lastBehIndex:-1};vb=function(l){var e,n;e=0;for(n=this.F.length;e<n;e++)if(this.F[e].name===l)return e;return-1};wb=function(){if(this.Yb&&!this.A){var l,e,n,q,d,a,b;this.zj();a=this.ea();var t=a.ma,g=(l=this.b.Hb())&&l.Cc&&l.Cc.Vc;l=0;for(e=this.Fb.length;l<e;l++)if(d=this.Fb[l],d!==this&&(d.zj(),b=d.ea(),b.ma=t,!t)){b.c.length=a.c.length;n=0;for(q=a.c.length;n<q;n++)b.c[n]=d.Bn(a.c[n].Ce);if(g)for(b.O.length=a.O.length,n=0,q=a.O.length;n<q;n++)b.O[n]=d.Bn(a.O[n].Ce)}}};
yb=function(){return"Type"+this.M};Xb=function(l,e,n){if("undefined"===typeof l||"undefined"===typeof n)return!1;switch(e){case 0:return l===n;case 1:return l!==n;case 2:return l<n;case 3:return l<=n;case 4:return l>n;case 5:return l>=n;default:return!1}}})();
var fc={tint:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float red;\nuniform lowp float green;\nuniform lowp float blue;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = front * vec4(red, green, blue, 1.0);\n}",Vh:0,Wh:0,ek:!1,Pj:!1,I:[["red",0,1],["green",0,1],["blue",0,1]]}};function ic(n){this.b=n}
(function(){function n(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return T.hasOwnProperty(a)&&T[a].length?T[a][0].Ub():z.destination}function e(){return z.createGain?z.createGain():z.createGainNode()}function p(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function q(a){a.start?a.start(0):a.noteOn(0)}function d(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function a(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function b(a,
b,c,d,f,g){this.type="filter";this.Ic=[a,b,c,d,f,g];this.N=e();this.D=e();this.D.gain.value=g;this.B=e();this.B.gain.value=1-g;this.Ea=z.createBiquadFilter();this.Ea.type="number"===typeof this.Ea.type?a:sc[a];this.Ea.frequency.value=b;this.Ea.detune&&(this.Ea.detune.value=c);this.Ea.Q.value=d;this.Ea.gain.value=f;this.N.connect(this.Ea);this.N.connect(this.B);this.Ea.connect(this.D)}function t(a,b,c){this.type="delay";this.Ic=[a,b,c];this.N=e();this.D=e();this.D.gain.value=c;this.B=e();this.B.gain.value=
1-c;this.Qg=e();this.ic=p(a);this.ic.delayTime.value=a;this.Qh=e();this.Qh.gain.value=b;this.N.connect(this.Qg);this.N.connect(this.B);this.Qg.connect(this.D);this.Qg.connect(this.ic);this.ic.connect(this.Qh);this.Qh.connect(this.Qg)}function g(a,b,c,d){this.type="convolve";this.Ic=[b,c,d];this.N=e();this.D=e();this.D.gain.value=c;this.B=e();this.B.gain.value=1-c;this.re=z.createConvolver();a&&(this.re.normalize=b,this.re.buffer=a);this.N.connect(this.re);this.N.connect(this.B);this.re.connect(this.D)}
function c(a,b,c,d,f){this.type="flanger";this.Ic=[a,b,c,d,f];this.N=e();this.B=e();this.B.gain.value=1-f/2;this.D=e();this.D.gain.value=f/2;this.Yh=e();this.Yh.gain.value=d;this.ic=p(a+b);this.ic.delayTime.value=a;this.Ta=z.createOscillator();this.Ta.frequency.value=c;this.Lb=e();this.Lb.gain.value=b;this.N.connect(this.ic);this.N.connect(this.B);this.ic.connect(this.D);this.ic.connect(this.Yh);this.Yh.connect(this.ic);this.Ta.connect(this.Lb);this.Lb.connect(this.ic.delayTime);q(this.Ta)}function m(a,
b,c,d,f,g){this.type="phaser";this.Ic=[a,b,c,d,f,g];this.N=e();this.B=e();this.B.gain.value=1-g/2;this.D=e();this.D.gain.value=g/2;this.Ea=z.createBiquadFilter();this.Ea.type="number"===typeof this.Ea.type?7:"allpass";this.Ea.frequency.value=a;this.Ea.detune&&(this.Ea.detune.value=b);this.Ea.Q.value=c;this.Ta=z.createOscillator();this.Ta.frequency.value=f;this.Lb=e();this.Lb.gain.value=d;this.N.connect(this.Ea);this.N.connect(this.B);this.Ea.connect(this.D);this.Ta.connect(this.Lb);this.Lb.connect(this.Ea.frequency);
q(this.Ta)}function u(a){this.type="gain";this.Ic=[a];this.R=e();this.R.gain.value=a}function h(a,b){this.type="tremolo";this.Ic=[a,b];this.R=e();this.R.gain.value=1-b/2;this.Ta=z.createOscillator();this.Ta.frequency.value=a;this.Lb=e();this.Lb.gain.value=b/2;this.Ta.connect(this.Lb);this.Lb.connect(this.R.gain);q(this.Ta)}function r(a,b){this.type="ringmod";this.Ic=[a,b];this.N=e();this.D=e();this.D.gain.value=b;this.B=e();this.B.gain.value=1-b;this.bh=e();this.bh.gain.value=0;this.Ta=z.createOscillator();
this.Ta.frequency.value=a;this.Ta.connect(this.bh.gain);q(this.Ta);this.N.connect(this.bh);this.N.connect(this.B);this.bh.connect(this.D)}function s(a,b,c,d,f){this.type="distortion";this.Ic=[a,b,c,d,f];this.N=e();this.Zi=e();this.Yi=e();this.ju(c,Math.pow(10,d/20));this.D=e();this.D.gain.value=f;this.B=e();this.B.gain.value=1-f;this.Bj=z.createWaveShaper();this.Oh=new Float32Array(65536);this.As(a,b);this.Bj.Oh=this.Oh;this.N.connect(this.Zi);this.N.connect(this.B);this.Zi.connect(this.Bj);this.Bj.connect(this.Yi);
this.Yi.connect(this.D)}function k(a,b,c,d,f){this.type="compressor";this.Ic=[a,b,c,d,f];this.R=z.createDynamicsCompressor();try{this.R.threshold.value=a,this.R.knee.value=b,this.R.ratio.value=c,this.R.attack.value=d,this.R.release.value=f}catch(g){}}function f(a,b){this.type="analyser";this.Ic=[a,b];this.R=z.createAnalyser();this.R.fftSize=a;this.R.smoothingTimeConstant=b;this.ys=new Float32Array(this.R.frequencyBinCount);this.qp=new Uint8Array(a);this.Xg=0}function v(){this.C=null;this.Gi=0;this.je=
[];this.rl=this.xi=this.wi=0}function B(a,b){this.src=a;this.H=D;this.Gc=b;this.Pm=!1;var c=this;this.pl=this.Dl=null;this.Ff=[];this.ej=0;this.um=this.mk=this.vp=this.Vi=!1;1===D&&b&&(this.H=0,this.Dl=e());this.pe=this.Z=null;var d;switch(this.H){case 0:this.Z=new Audio;this.Z.addEventListener("canplaythrough",function(){c.um=!0});1===D&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.vp=!0,this.Z.addEventListener("canplay",function(){c.pl||(c.pl=z.createMediaElementSource(c.Z),
c.pl.connect(c.Dl))}));this.Z.autoplay=!1;this.Z.Qv="auto";this.Z.src=a;break;case 1:d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){c.pe=d.response;c.ur()};d.onerror=function(){c.mk=!0};d.send();break;case 2:this.Z=!0;break;case 3:this.Z=!0}}function F(a,b){var c=this;this.tag=b;this.Pb=this.Sc=!0;this.src=a.src;this.buffer=a;this.H=D;this.Gc=a.Gc;this.playbackRate=1;this.bk=!0;this.nc=this.vd=!1;this.Ab=0;this.Ag=this.tf=this.Uc=!1;this.volume=1;this.Ge=
1===C&&!this.Gc||2===C;this.Cf=1;this.startTime=this.Ge?w.yb.V:w.dd.V;this.Aa=this.Fa=null;this.Wc=!1;this.za=null;this.Po=this.Oo=this.No=this.Mo=this.Ro=this.Qo=0;this.e=null;var d=!1;1!==this.H||0!==this.buffer.H||this.buffer.vp||(this.H=0);switch(this.H){case 0:this.Gc?(this.e=a.Z,d=!a.Pm,a.Pm=!0):(this.e=new Audio,this.e.autoplay=!1,this.e.src=a.Z.src,d=!0);d&&this.e.addEventListener("ended",function(){va=c.tag;c.Pb=!0;w.trigger(ic.prototype.d.Gj,E)});break;case 1:this.Fa=e();this.Fa.connect(l(b));
1===this.buffer.H?a.Z&&(this.e=z.createBufferSource(),this.e.buffer=a.Z,this.e.connect(this.Fa)):(this.e=this.buffer.Z,this.buffer.Dl.connect(this.Fa));break;case 2:this.e=new window.Media(R+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.bk=!0,c.Pb=!0,va=c.tag,w.trigger(ic.prototype.d.Gj,E))});break;case 3:this.e=!0}}function y(a,b){T.hasOwnProperty(a)?T[a].push(b):T[a]=[b];var c,d,f,g,h=z.destination;if(T.hasOwnProperty(a)&&(f=T[a],f.length))for(h=f[0].Ub(),c=0,d=f.length;c<d;c++)g=
f[c],c+1===d?g.cc(z.destination):g.cc(f[c+1].Ub());Ga.length=0;if(a.length)for(c=0,d=I.length;c<d;c++)f=I[c],gb(a,f.tag)&&Ga.push(f);else K&&!K.Be()&&(Ga.length=1,Ga[0]=K);c=0;for(d=Ga.length;c<d;c++)Ga[c].Yt(h);ea&&tb===a&&(ea.disconnect(),ea.connect(h))}function S(){}function x(){}var P=ic.prototype;P.ra=function(a){this.ga=a;this.b=a.b};P.ra.prototype.S=function(){};var w=null,E=null,va="",R="",D=0,z=null,Z=[],I=[],K=null,A=!1,C=0,L=!1,G=1,J=0,H=0,ka=1,M=1,ra=10,ga=1E4,ta=1,ea=null,tb="",Na=!1,
Oa=[],T={},sc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");b.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};b.prototype.remove=function(){this.N.disconnect();this.Ea.disconnect();this.D.disconnect();this.B.disconnect()};b.prototype.Ub=function(){return this.N};t.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};t.prototype.remove=function(){this.N.disconnect();
this.Qg.disconnect();this.ic.disconnect();this.Qh.disconnect();this.D.disconnect();this.B.disconnect()};t.prototype.Ub=function(){return this.N};g.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};g.prototype.remove=function(){this.N.disconnect();this.re.disconnect();this.D.disconnect();this.B.disconnect()};g.prototype.Ub=function(){return this.N};c.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);this.D.disconnect();this.D.connect(a)};
c.prototype.remove=function(){this.N.disconnect();this.ic.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect();this.Yh.disconnect()};c.prototype.Ub=function(){return this.N};m.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);this.D.disconnect();this.D.connect(a)};m.prototype.remove=function(){this.N.disconnect();this.Ea.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect()};m.prototype.Ub=function(){return this.N};
u.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};u.prototype.remove=function(){this.R.disconnect()};u.prototype.Ub=function(){return this.R};h.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};h.prototype.remove=function(){this.Ta.disconnect();this.Lb.disconnect();this.R.disconnect()};h.prototype.Ub=function(){return this.R};r.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};r.prototype.remove=function(){this.Ta.disconnect();
this.bh.disconnect();this.N.disconnect();this.D.disconnect();this.B.disconnect()};r.prototype.Ub=function(){return this.N};s.prototype.ju=function(a,b){.01>a&&(a=.01);this.Zi.gain.value=a;this.Yi.gain.value=Math.pow(1/a,.6)*b};s.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};s.prototype.As=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),f=0,g=0;32768>g;++g)f=g/32768,f=this.shape(f,c,d),this.Oh[32768+g]=f,this.Oh[32768-
g-1]=-f};s.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};s.prototype.remove=function(){this.N.disconnect();this.Zi.disconnect();this.Bj.disconnect();this.Yi.disconnect();this.D.disconnect();this.B.disconnect()};s.prototype.Ub=function(){return this.N};k.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};k.prototype.remove=function(){this.R.disconnect()};k.prototype.Ub=function(){return this.R};f.prototype.Oa=function(){this.R.getFloatFrequencyData(this.ys);
this.R.getByteTimeDomainData(this.qp);for(var a=this.R.fftSize,b=0,c=this.Xg=0,d=0;b<a;b++)d=(this.qp[b]-128)/128,0>d&&(d=-d),this.Xg<d&&(this.Xg=d),c+=d*d;this.Xg=n(this.Xg);n(Math.sqrt(c/a))};f.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};f.prototype.remove=function(){this.R.disconnect()};f.prototype.Ub=function(){return this.R};v.prototype.dh=function(a){if(this.C=a)this.wi=this.C.x,this.xi=this.C.y;this.je.length=0};v.prototype.ki=function(){return!!this.C};v.prototype.Oa=function(a){this.C&&
0!==a&&(this.rl=Ia(this.wi,this.xi,this.C.x,this.C.y),a=Ra(this.wi,this.xi,this.C.x,this.C.y)/a,4>this.je.length||this.je.shift(),this.je.push(a),this.wi=this.C.x,this.xi=this.C.y)};v.prototype.Fn=function(){if(!this.je.length)return 0;var a,b,c=0;a=0;for(b=this.je.length;a<b;a++)c+=this.je[a];return c/this.je.length};v.prototype.Ck=function(){return Math.cos(this.rl)*this.Fn()};v.prototype.Dk=function(){return Math.sin(this.rl)*this.Fn()};var pc=!1;B.prototype.ur=function(){if(!this.Z&&this.pe){var a=
this;if(z.decodeAudioData)z.decodeAudioData(this.pe,function(b){a.Z=b;a.pe=null;var c,d,f;if(fa(a.Wi)||L)fa(a.Ih)||(c=a.Ih.re,c.normalize=a.Bo,c.buffer=b);else if(a.Ff.length){c=0;for(d=a.Ff.length;c<d;c++){b=a.Ff[c];f=new F(a,b.xp);f.Xl(!0);if("undefined"!==typeof b.Do&&(b.C=w.ei(b.Do),!b.C))continue;if(b.C){var g=Ma(b.C.x,b.C.y,-b.C.i.Ra(),J,H,!0),h=Ma(b.C.x,b.C.y,-b.C.i.Ra(),J,H,!1);f.Wl(g,h,Ca(b.C.j-b.C.i.Ra()),b.Jk,b.sl,b.wl);f.dh(b.C)}else f.Wl(b.x,b.y,b.Xq,b.Jk,b.sl,b.wl);f.play(a.ll,a.rm,
a.ej);a.Vi&&f.pause();I.push(f)}a.Ff.length=0}else f=new F(a,a.Wi),f.play(a.ll,a.rm,a.ej),a.Vi&&f.pause(),I.push(f)},function(){a.mk=!0});else if(this.Z=z.createBuffer(this.pe,!1),this.pe=null,fa(this.Wi)||L)fa(this.Ih)||(b=this.Ih.re,b.normalize=this.Bo,b.buffer=this.Z);else{var b=new F(this,this.Wi);b.play(this.ll,this.rm,this.ej);this.Vi&&b.pause();I.push(b)}}};B.prototype.Pn=function(){switch(this.H){case 0:var a=4<=this.Z.readyState;a&&(this.um=!0);return a||this.um;case 1:return!!this.pe||!!this.Z;
case 2:return!0;case 3:return!0}return!1};B.prototype.mt=function(){switch(this.H){case 0:return this.Pn();case 1:return!!this.Z;case 2:return!0;case 3:return!0}return!1};B.prototype.dt=function(){switch(this.H){case 0:return!!this.Z.error;case 1:return this.mk}return!1};F.prototype.Be=function(){var a;switch(this.H){case 0:return this.e.ended;case 1:if(1===this.buffer.H){if(!this.Sc&&!this.Pb&&this.e.loop||this.nc)return!1;a=this.Ge?w.yb.V:w.dd.V;var b=this.playbackRate;0===b&&(b=1E-6);return a-
this.startTime>this.buffer.Z.duration/b}return this.e.ended;case 2:return this.bk;case 3:!0}return!0};F.prototype.nr=function(){return this.Sc||this.Pb?!0:this.Be()};F.prototype.Xl=function(a){1===D&&(!this.Wc&&a?this.Fa&&(this.Aa||(this.Aa=z.createPanner(),this.Aa.panningModel="number"===typeof this.Aa.panningModel?ka:["equalpower","HRTF","soundfield"][ka],this.Aa.distanceModel="number"===typeof this.Aa.distanceModel?M:["linear","inverse","exponential"][M],this.Aa.refDistance=ra,this.Aa.maxDistance=
ga,this.Aa.rolloffFactor=ta),this.Fa.disconnect(),this.Fa.connect(this.Aa),this.Aa.connect(l(this.tag)),this.Wc=!0):this.Wc&&!a&&this.Fa&&(this.Aa.disconnect(),this.Fa.disconnect(),this.Fa.connect(l(this.tag)),this.Wc=!1))};F.prototype.Wl=function(a,b,c,d,f,g){this.Wc&&1===D&&(this.Aa.setPosition(a,b,0),this.Aa.setOrientation(Math.cos(V(c)),Math.sin(V(c)),0),this.Aa.coneInnerAngle=d,this.Aa.coneOuterAngle=f,this.Aa.coneOuterGain=g,this.Qo=a,this.Ro=b,this.Mo=c,this.No=d,this.Oo=f,this.Po=g)};F.prototype.dh=
function(a){this.Wc&&1===D&&(this.za||(this.za=new v),this.za.dh(a))};F.prototype.Oa=function(a){if(this.Wc&&1===D&&this.za&&this.za.ki()&&this.pf()){this.za.Oa(a);a=this.za.C;var b=Ma(a.x,a.y,-a.i.Ra(),J,H,!0),c=Ma(a.x,a.y,-a.i.Ra(),J,H,!1);this.Aa.setPosition(b,c,0);b=0;"undefined"!==typeof this.za.C.j&&(b=a.j-a.i.Ra(),this.Aa.setOrientation(Math.cos(b),Math.sin(b),0));b=Ma(this.za.Ck(),this.za.Dk(),-a.i.Ra(),0,0,!0);c=Ma(this.za.Ck(),this.za.Dk(),-a.i.Ra(),0,0,!1);this.Aa.setVelocity(b,c,0)}};
F.prototype.play=function(a,b,c){var f=this.e;this.Uc=a;this.volume=b;c=c||0;switch(this.H){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*G&&(f.volume=b*G);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(g){}if(this.Gc&&Na&&!w.ya)Oa.push(this);else try{this.e.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;case 1:this.muted=!1;this.Cf=1;if(1===this.buffer.H)this.Fa.gain.value=
b*G,this.Sc||(this.e=z.createBufferSource(),this.e.buffer=this.buffer.Z,this.e.connect(this.Fa)),this.e.loop=a,0===c?q(this.e):d(this.e,c,this.ze());else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*G;if(f.currentTime!==c)try{f.currentTime=c}catch(e){}this.Gc&&Na&&!w.ya?Oa.push(this):f.play()}break;case 2:(!this.Sc&&this.Pb||0!==c)&&f.seekTo(c);f.play();this.bk=!1;break;case 3:w.$a?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.Ge?w.yb.V:w.dd.V)-c;this.nc=this.Pb=this.Sc=!1};F.prototype.stop=function(){switch(this.H){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.H?a(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:w.$a&&AppMobi.context.stopSound(this.src)}this.Pb=!0;this.nc=!1};F.prototype.pause=function(){if(!(this.Sc||this.Pb||this.Be()||this.nc)){switch(this.H){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.H?(this.Ab=this.Ak(),
this.Uc&&(this.Ab%=this.ze()),a(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:w.$a&&AppMobi.context.stopSound(this.src)}this.nc=!0}};F.prototype.au=function(){if(!(this.Sc||this.Pb||this.Be())&&this.nc){switch(this.H){case 0:this.e.play();break;case 1:1===this.buffer.H?(this.e=z.createBufferSource(),this.e.buffer=this.buffer.Z,this.e.connect(this.Fa),this.e.loop=this.Uc,this.Fa.gain.value=G*this.volume*this.Cf,this.startTime=(this.Ge?w.yb.V:w.dd.V)-this.Ab,d(this.e,
this.Ab,this.ze())):this.e.play();break;case 2:this.e.play();break;case 3:w.$a&&AppMobi.context.resumeSound(this.src)}this.nc=!1}};F.prototype.seek=function(a){if(!(this.Sc||this.Pb||this.Be()))switch(this.H){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.H)this.nc?this.Ab=a:(this.pause(),this.Ab=a,this.au());else try{this.e.currentTime=a}catch(c){}break;case 3:w.$a&&AppMobi.context.seekSound(this.src,a)}};F.prototype.Yt=function(a){1===this.H&&(this.Wc?(this.Aa.disconnect(),
this.Aa.connect(a)):(this.Fa.disconnect(),this.Fa.connect(a)))};F.prototype.ze=function(){switch(this.H){case 0:if("undefined"!==typeof this.e.duration)return this.e.duration;break;case 1:return this.buffer.Z.duration;case 2:return this.e.getDuration();case 3:if(w.$a)return AppMobi.context.getDurationSound(this.src)}return 0};F.prototype.Ak=function(){var a=this.ze(),b=0;switch(this.H){case 0:"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case 1:if(1===this.buffer.H){if(this.nc)return this.Ab;
b=(this.Ge?w.yb.V:w.dd.V)-this.startTime}else"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case 3:w.$a&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Uc&&b>a&&(b=a);return b};F.prototype.pf=function(){return!this.nc&&!this.Sc&&!this.Pb&&!this.Be()};F.prototype.yu=function(){var a=this.volume*G;switch(this.H){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case 1:1===this.buffer.H?this.Fa.gain.value=a*this.Cf:"undefined"!==typeof this.e.volume&&
this.e.volume!==a&&(this.e.volume=a)}};F.prototype.Rh=function(a){switch(this.H){case 0:this.e.muted!==!!a&&(this.e.muted=!!a);break;case 1:1===this.buffer.H?(this.Cf=a?0:1,this.Fa.gain.value=G*this.volume*this.Cf):this.e.muted!==!!a&&(this.e.muted=!!a)}};F.prototype.lu=function(){this.tf=!0;this.Rh(this.tf||this.Ag)};F.prototype.lp=function(a){this.Ag=!!a;this.Rh(this.tf||this.Ag)};F.prototype.Kp=function(){var a=this.playbackRate;this.Ge&&(a*=w.We);switch(this.H){case 0:this.e.playbackRate!==a&&
(this.e.playbackRate=a);break;case 1:1===this.buffer.H?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};F.prototype.nu=function(b){switch(this.H){case 0:b?this.pf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play();break;case 1:b?this.pf()?(1===this.buffer.H?(this.Ab=this.Ak(),this.Uc&&(this.Ab%=this.ze()),a(this.e)):this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&(1===this.buffer.H?(this.e=z.createBufferSource(),this.e.buffer=
this.buffer.Z,this.e.connect(this.Fa),this.e.loop=this.Uc,this.Fa.gain.value=G*this.volume*this.Cf,this.startTime=(this.Ge?w.yb.V:w.dd.V)-this.Ab,d(this.e,this.Ab,this.ze())):this.e.play());break;case 2:b?this.pf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play()}};P.ka=function(a){this.type=a;w=this.b=a.b;E=this;this.jb=null;this.Ig=-600;!(this.b.si||this.b.li&&(this.b.wg||this.b.mi))||this.b.xg||this.b.fa||this.b.Uk||(Na=!0);z=null;"undefined"!==typeof AudioContext?(D=1,z=new AudioContext):
"undefined"!==typeof webkitAudioContext&&(D=1,z=new webkitAudioContext);(this.b.si&&1===D||Na)&&document.addEventListener("touchstart",function(){var a,b,c;!pc&&z&&(a=z.createBuffer(1,1,22050),b=z.createBufferSource(),b.buffer=a,b.connect(z.destination),q(b),pc=!0);if(Na){if(!L)for(a=0,b=Oa.length;a<b;++a)c=Oa[a],c.Pb||c.nc||c.e.play();Oa.length=0}},!0);1!==D&&(this.b.Xb&&"undefined"!==typeof window.Media?D=2:this.b.of&&(D=3));2===D&&(R=location.href,a=R.lastIndexOf("/"),-1<a&&(R=R.substr(0,a+1)),
R=R.replace("file://",""));if(this.b.Qn&&this.b.nt&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Dd(this);else{if(this.b.$a)A=this.b.li;else try{A=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){A=!1}this.b.rh(this)}};var la=P.ka.prototype;la.S=function(){this.b.df=this;C=this.Y[0];this.wd=this.Y[1];this.Ot=0!==this.Y[2];ka=this.Y[3];M=this.Y[4];this.Ig=-this.Y[5];
ra=this.Y[6];ga=this.Y[7];ta=this.Y[8];this.jb=new v;var a=this.b.L||this.b.width,b=this.b.K||this.b.height;1===D&&("undefined"!==typeof z.listener.dopplerFactor&&(z.listener.dopplerFactor=0),z.listener.setPosition(a/2,b/2,this.Ig),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ea&&ea.disconnect();tb=b.toLowerCase();ea=z.createMediaStreamSource(a);ea.connect(l(tb))});this.b.Om(function(a){E.Lt(a)});var c=this;this.b.br(function(a){c.Ht(a)})};la.Ht=function(a){var b,
c,d;b=0;for(c=I.length;b<c;b++)d=I[b],d.za&&d.za.C===a&&(d.za.C=null,d.Wc&&d.pf()&&d.Uc&&d.stop());this.jb.C===a&&(this.jb.C=null)};la.mb=function(){var a={silent:L,masterVolume:G,listenerZ:this.Ig,listenerUid:this.jb.ki()?this.jb.C.uid:-1,playing:[],effects:{}},b=a.playing,c,d,f,g,h,e;c=0;for(d=I.length;c<d;c++)f=I[c],!f.pf()||3===this.wd||f.Gc&&1===this.wd||!f.Gc&&2===this.wd||(g=f.Ak(),f.Uc&&(g%=f.ze()),g={tag:f.tag,buffersrc:f.buffer.src,is_music:f.Gc,playbackTime:g,volume:f.volume,looping:f.Uc,
muted:f.tf,playbackRate:f.playbackRate,paused:f.nc,resume_position:f.Ab},f.Wc&&(g.pan={},e=g.pan,f.za&&f.za.ki()?e.objUid=f.za.C.uid:(e.x=f.Qo,e.y=f.Ro,e.a=f.Mo),e.ia=f.No,e.oa=f.Oo,e.og=f.Po),b.push(g));b=a.effects;for(h in T)if(T.hasOwnProperty(h)){f=[];c=0;for(d=T[h].length;c<d;c++)f.push({type:T[h][c].type,params:T[h][c].Ic});b[h]=f}return a};var Pa=[];la.Kb=function(a){var d=a.silent;G=a.masterVolume;this.Ig=a.listenerZ;this.jb.dh(null);var e=a.listenerUid;-1!==e&&(this.jb.Gi=e,Pa.push(this.jb));
var e=a.playing,l,n,q,p,B,E,F,S,w,x,P;if(3!==this.wd)for(l=0,n=I.length;l<n;l++)w=I[l],w.Gc&&1===this.wd||(w.Gc||2!==this.wd)&&w.stop();for(B in T)if(T.hasOwnProperty(B))for(l=0,n=T[B].length;l<n;l++)T[B][l].remove();Ua(T);for(B in a.effects)if(a.effects.hasOwnProperty(B))for(E=a.effects[B],l=0,n=E.length;l<n;l++)switch(q=E[l].type,x=E[l].params,q){case "filter":y(B,new b(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":y(B,new t(x[0],x[1],x[2]));break;case "convolve":q=x[2];w=this.bi(q,!1);w.Z?
q=new g(w.Z,x[0],x[1],q):(q=new g(null,x[0],x[1],q),w.Bo=x[0],w.Ih=q);y(B,q);break;case "flanger":y(B,new c(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":y(B,new m(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":y(B,new u(x[0]));break;case "tremolo":y(B,new h(x[0],x[1]));break;case "ringmod":y(B,new r(x[0],x[1]));break;case "distortion":y(B,new s(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":y(B,new k(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":y(B,new f(x[0],x[1]))}l=0;for(n=e.length;l<
n;l++)3===this.wd||(a=e[l],q=a.buffersrc,p=a.is_music,B=a.tag,E=a.playbackTime,F=a.looping,S=a.volume,P=(x=a.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,p&&1===this.wd)||!p&&2===this.wd||((w=this.xn(q,B,p,F,S))?(w.Ab=a.resume_position,w.Xl(!!x),w.play(F,S,E),w.Kp(),w.yu(),w.Rh(w.tf||w.Ag),a.paused&&w.pause(),a.muted&&w.lu(),w.Rh(w.tf||w.Ag),x&&(-1!==P?(w.za=w.za||new v,w.za.Gi=P,Pa.push(w.za)):w.Wl(x.x,x.y,x.a,x.ia,x.oa,x.og))):(w=this.bi(q,p),w.ej=E,w.Vi=a.paused,x&&(-1!==P?w.Ff.push({Do:P,Jk:x.ia,
sl:x.oa,wl:x.og,xp:B}):w.Ff.push({x:x.x,y:x.y,Xq:x.a,Jk:x.ia,sl:x.oa,wl:x.og,xp:B}))));if(d&&!L){l=0;for(n=I.length;l<n;l++)I[l].lp(!0);L=!0}else if(!d&&L){l=0;for(n=I.length;l<n;l++)I[l].lp(!1);L=!1}};la.Gd=function(){var a,b,c,d;a=0;for(b=Pa.length;a<b;a++)c=Pa[a],d=this.b.ei(c.Gi),c.dh(d),c.Gi=-1,d&&(J=d.x,H=d.y);Pa.length=0};la.Lt=function(a){if(!this.Ot){!a&&z&&z.resume&&z.resume();var b,c;b=0;for(c=I.length;b<c;b++)I[b].nu(a);a&&z&&z.suspend&&z.suspend()}};la.Oa=function(){var a=this.b.ve,b,
c,d;b=0;for(c=I.length;b<c;b++)d=I[b],d.Oa(a),0===d.H||3===d.H||d.Sc||d.Pb||!d.Be()||(d.Pb=!0,va=d.tag,w.trigger(ic.prototype.d.Gj,E)),0!==C&&d.Kp();var f,g;for(f in T)if(T.hasOwnProperty(f))for(d=T[f],b=0,c=d.length;b<c;b++)g=d[b],g.Oa&&g.Oa();1===D&&this.jb.ki()&&(this.jb.Oa(a),J=this.jb.C.x,H=this.jb.C.y,z.listener.setPosition(this.jb.C.x,this.jb.C.y,this.Ig),z.listener.setVelocity(this.jb.Ck(),this.jb.Dk(),0))};var Qa=[];la.mu=function(a){var b,c,d,f,g,h=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],
f=d[0],d=2*d[1],(g=4<f.length&&".ogg"===f.substr(f.length-4))&&A||!g&&!A)Qa.push({filename:f,size:d,C:null}),h+=d;return h};la.ru=function(){var a,b,c,d;a=0;for(b=Qa.length;a<b;++a)c=Qa[a],d=this.b.nk+c.filename,c.C=this.bi(d,!1)};la.Js=function(){var a=0,b,c,d;b=0;for(c=Qa.length;b<c;++b)d=Qa[b],d.C.mt()||d.C.dt()||this.b.fa||this.b.mi?a+=d.size:d.C.Pn()&&(a+=Math.floor(d.size/2));return a};la.bi=function(a,b){var c,d,f,g=null;c=0;for(d=Z.length;c<d;c++)if(f=Z[c],f.src===a){g=f;break}g||(g=new B(a,
b),Z.push(g));return g};la.xn=function(a,b,c,d,f){var g,h,e;g=0;for(h=I.length;g<h;g++)if(e=I[g],e.src===a&&(e.nr()||c))return e.tag=b,e;a=this.bi(a,c);if(!a.Z)return"<preload>"!==b&&(a.Wi=b,a.ll=d,a.rm=f),null;e=new F(a,b);I.push(e);return e};var Ga=[];S.prototype.Gj=function(a){return gb(va,a)};P.d=new S;x.prototype.Play=function(a,b,c,d){!L&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),K=this.xn(this.b.nk+a[0]+(A?".ogg":".m4a"),d,a[1],0!==b,c))&&(K.Xl(!1),K.play(0!==b,c))};P.ha=new x;P.Qa=new function(){}})();
function jc(n){this.b=n}
(function(){function n(){}function l(){}function e(){}var p=jc.prototype;p.ra=function(e){this.ga=e;this.b=e.b};p.ra.prototype.S=function(){};p.ka=function(e){this.type=e;this.b=e.b};p.ka.prototype.S=function(){var e=this;window.addEventListener("resize",function(){e.b.trigger(jc.prototype.d.Dq,e)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){e.b.trigger(jc.prototype.d.zq,e)}),window.addEventListener("offline",function(){e.b.trigger(jc.prototype.d.yq,e)}));
"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){e.b.zf=1;e.b.trigger(jc.prototype.d.Im,e)}),window.applicationCache.addEventListener("progress",function(d){e.b.zf=d.loaded/d.total}));this.b.$a||(document.addEventListener("appMobi.device.update.available",function(){e.b.trigger(jc.prototype.d.Im,e)}),document.addEventListener("backbutton",function(){e.b.trigger(jc.prototype.d.Ej,e)}),document.addEventListener("menubutton",function(){e.b.trigger(jc.prototype.d.Cm,
e)}),document.addEventListener("searchbutton",function(){e.b.trigger(jc.prototype.d.Eq,e)}),document.addEventListener("tizenhwkey",function(d){var a;switch(d.keyName){case "back":a=e.b.trigger(jc.prototype.d.Ej,e);!a&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(a=e.b.trigger(jc.prototype.d.Cm,e))||d.preventDefault()}}));this.b.ni&&(WinJS.Application.onbackclick=function(){return!!e.b.trigger(jc.prototype.d.Ej,e)});this.b.Om(function(d){d?e.b.trigger(jc.prototype.d.Aq,
e):e.b.trigger(jc.prototype.d.Bq,e)});this.oi="undefined"!==typeof window.is_scirra_arcade};n.prototype.zq=function(){return!0};n.prototype.yq=function(){return!0};n.prototype.Im=function(){return!0};n.prototype.Bq=function(){return!0};n.prototype.Aq=function(){return!0};n.prototype.Dq=function(){return!0};n.prototype.Ej=function(){return!0};n.prototype.Cm=function(){return!0};n.prototype.Eq=function(){return!0};p.d=new n;l.prototype.$p=function(e,d){this.b.Wb?CocoonJS.App.openURL(e):this.b.mc?ejecta.openURL(e):
this.b.Zk?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(e)):navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(e,{openExternal:!0}):this.b.Xb?window.open(e,"_system"):this.oi||this.b.fa||(2!==d||this.oi?1!==d||this.oi?window.location=e:window.parent.location=e:window.top.location=e)};l.prototype.Iq=function(){this.oi||this.b.fa||window.location.reload()};p.ha=new l;e.prototype.URL=function(e){e.bb(this.b.fa?"":window.location.toString())};p.Qa=new e})();
function kc(n){this.b=n}
(function(){function n(){}var l=kc.prototype;l.ra=function(e){this.ga=e;this.b=e.b};l.ra.prototype.S=function(){};l.ka=function(e){this.type=e;this.b=e.b;this.bl=Array(256);this.Aj=Array(256);this.le=0};var e=l.ka.prototype;e.S=function(){var e=this;this.b.fa||(jQuery(document).keydown(function(d){e.It(d)}),jQuery(document).keyup(function(d){e.Jt(d)}))};var p=[32,33,34,35,36,37,38,39,40,44];e.It=function(e){var d=!1;window!=window.top&&-1<p.indexOf(e.which)&&(e.preventDefault(),d=!0,e.stopPropagation());
if(this.bl[e.which])this.Aj[e.which]&&!d&&e.preventDefault();else{this.bl[e.which]=!0;this.le=e.which;this.b.ya=!0;this.b.trigger(kc.prototype.d.iq,this);var a=this.b.trigger(kc.prototype.d.sq,this),b=this.b.trigger(kc.prototype.d.Am,this);this.b.ya=!1;if(a||b)this.Aj[e.which]=!0,d||e.preventDefault()}};e.Jt=function(e){this.bl[e.which]=!1;this.le=e.which;this.b.ya=!0;this.b.trigger(kc.prototype.d.jq,this);var d=this.b.trigger(kc.prototype.d.uq,this),a=this.b.trigger(kc.prototype.d.tq,this);this.b.ya=
!1;if(d||a||this.Aj[e.which])this.Aj[e.which]=!0,e.preventDefault()};e.mb=function(){return{triggerKey:this.le}};e.Kb=function(e){this.le=e.triggerKey};n.prototype.sq=function(e){return e===this.le};n.prototype.iq=function(){return!0};n.prototype.jq=function(){return!0};n.prototype.uq=function(e){return e===this.le};n.prototype.Am=function(e){return e===this.le};n.prototype.tq=function(e){return e===this.le};l.d=new n;l.ha=new function(){};l.Qa=new function(){}})();function lc(n){this.b=n}
(function(){function n(){}function l(){}var e=lc.prototype;e.ra=function(d){this.ga=d;this.b=d.b};e.ra.prototype.S=function(){};e.ka=function(d){this.type=d;this.b=d.b;this.Bh=Array(4);this.Ap=this.vj=this.Sf=this.ae=this.$d=0;this.Gk=!1};var p=e.ka.prototype;p.S=function(){var d=this;if(!this.b.fa){jQuery(document).mousemove(function(a){d.zl(a)});jQuery(document).mousedown(function(a){d.yl(a)});jQuery(document).mouseup(function(a){d.Al(a)});jQuery(document).dblclick(function(a){d.Gt(a)});var a=function(a){d.Mt(a)};
document.addEventListener("mousewheel",a,!1);document.addEventListener("DOMMouseScroll",a,!1)}};var q={left:0,top:0};p.zl=function(d){var a=this.b.fa?q:jQuery(this.b.canvas).offset();this.$d=d.pageX-a.left;this.ae=d.pageY-a.top};p.xo=function(){return 0<this.b.tb?!0:0<=this.$d&&0<=this.ae&&this.$d<this.b.width&&this.ae<this.b.height};p.yl=function(d){this.xo()&&(this.b.nf&&!this.b.qd&&d.preventDefault(),this.Bh[d.which]=!0,this.b.ya=!0,this.b.trigger(lc.prototype.d.hq,this),this.Sf=d.which-1,this.vj=
0,this.b.trigger(lc.prototype.d.zm,this),this.b.trigger(lc.prototype.d.Ij,this),this.b.ya=!1)};p.Al=function(d){this.Bh[d.which]&&(this.b.nf&&!this.b.qd&&d.preventDefault(),this.b.nf=!0,this.Bh[d.which]=!1,this.b.ya=!0,this.Sf=d.which-1,this.b.trigger(lc.prototype.d.Cq,this),this.b.ya=!1)};p.Gt=function(d){this.xo()&&(d.preventDefault(),this.b.ya=!0,this.Sf=d.which-1,this.vj=1,this.b.trigger(lc.prototype.d.zm,this),this.b.trigger(lc.prototype.d.Ij,this),this.b.ya=!1)};p.Mt=function(d){this.Ap=0>(d.wheelDelta?
d.wheelDelta:d.detail?-d.detail:0)?0:1;this.Gk=!1;this.b.ya=!0;this.b.trigger(lc.prototype.d.Hq,this);this.b.ya=!1;this.Gk&&hb(d)&&d.preventDefault()};n.prototype.zm=function(d,a){return d===this.Sf&&a===this.vj};n.prototype.hq=function(){return!0};n.prototype.ym=function(d){return this.Bh[d+1]};n.prototype.Cq=function(d){return d===this.Sf};n.prototype.Ij=function(d,a,b){return d!==this.Sf||a!==this.vj?!1:this.b.nh(b,this.$d,this.ae)};n.prototype.Hq=function(d){this.Gk=!0;return d===this.Ap};e.d=
new n;e.ha=new function(){};l.prototype.yh=function(d,a){var b,e,g,c,m;fa(a)?(b=this.b.od(0),e=b.scale,g=b.Db,c=b.rc,m=b.j,b.scale=1,b.Db=1,b.rc=1,b.j=0,d.q(b.Ya(this.$d,this.ae,!0)),b.scale=e,b.Db=g,b.rc=c,b.j=m):(b=O(a)?this.b.od(a):this.b.ng(a))?d.q(b.Ya(this.$d,this.ae,!0)):d.q(0)};l.prototype.Kj=function(d,a){var b,e,g,c,m;fa(a)?(b=this.b.od(0),e=b.scale,g=b.Db,c=b.tc,m=b.j,b.scale=1,b.Db=1,b.tc=1,b.j=0,d.q(b.Ya(this.$d,this.ae,!1)),b.scale=e,b.Db=g,b.tc=c,b.j=m):(b=O(a)?this.b.od(a):this.b.ng(a))?
d.q(b.Ya(this.$d,this.ae,!1)):d.q(0)};e.Qa=new l})();function mc(n){this.b=n}
(function(){function n(e){this.la=e;this.Pa=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.Hd=this.mf=this.size=this.ii=0}var l=mc.prototype;l.ra=function(e){this.ga=e;this.b=e.b};var e=l.ra.prototype;e.S=function(){this.A||(this.W=new Image,this.W.hn=this.em,this.T=null,this.b.tm(this.W,this.rj))};e.Oi=function(){this.A||(this.T=null)};e.Qi=function(){this.A||!this.c.length||this.T||(this.T=this.b.n.xf(this.W,!0,this.b.P,this.qh))};e.gl=function(){this.A||this.T||!this.b.n||(this.T=this.b.n.xf(this.W,
!0,this.b.P,this.qh))};e.yj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};e.$i=function(e){e.drawImage(this.W,0,0)};n.prototype.init=function(){var e=this.la;this.x=e.x-e.Cj/2+Math.random()*e.Cj;this.y=e.y-e.Dj/2+Math.random()*e.Dj;this.speed=e.Qk-e.lj/2+Math.random()*e.lj;this.j=e.j-e.mj/2+Math.random()*e.mj;this.opacity=e.Ok;this.size=e.Pk-e.jj/2+Math.random()*e.jj;this.ii=e.Fk-e.ji/2+Math.random()*e.ji;this.Hd=this.mf=0};n.prototype.Oa=function(e){var d=
this.la;this.x+=Math.cos(this.j)*this.speed*e;this.y+=Math.sin(this.j)*this.speed*e;this.y+=this.mf*e;this.speed+=d.Lj*e;this.size+=this.ii*e;this.mf+=d.tk*e;this.Hd+=e;1>this.size?this.Pa=!1:(0!==d.Fg&&(this.j+=Math.random()*d.Fg*e-d.Fg*e/2),0!==d.Hg&&(this.speed+=Math.random()*d.Hg*e-d.Hg*e/2),0!==d.Gg&&(this.opacity+=Math.random()*d.Gg*e-d.Gg*e/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=d.hf&&this.Hd>=d.timeout&&(this.Pa=!1),2===d.hf&&0>=this.speed&&(this.Pa=!1))};n.prototype.Dc=
function(e){var d=this.la.opacity*this.opacity;if(0!==d){0===this.la.hf&&(d*=1-this.Hd/this.la.timeout);e.globalAlpha=d;var d=this.x-this.size/2,a=this.y-this.size/2;this.la.b.Yc&&(d=d+.5|0,a=a+.5|0);e.drawImage(this.la.type.W,d,a,this.size,this.size)}};n.prototype.Gb=function(e){var d=this.la.opacity*this.opacity;0===this.la.hf&&(d*=1-this.Hd/this.la.timeout);var a=this.size,b=a*this.la.Uo,l=this.x-a/2,g=this.y-a/2;this.la.b.Yc&&(l=l+.5|0,g=g+.5|0);1>b||0===d||(b<e.Bt||b>e.nl?(e.Se(d),e.ah(l,g,l+
a,g,l+a,g+a,l,g+a)):e.Pt(this.x,this.y,b,d))};n.prototype.left=function(){return this.x-this.size/2};n.prototype.right=function(){return this.x+this.size/2};n.prototype.top=function(){return this.y-this.size/2};n.prototype.bottom=function(){return this.y+this.size/2};l.ka=function(e){this.type=e;this.b=e.b};var e=l.ka.prototype,p=[];e.S=function(){var e=this.Y;this.cj=e[0];this.mj=V(e[1]);this.Of=e[2];this.Zl=!0;this.Qk=e[3];this.Pk=e[4];this.Ok=e[5]/100;this.Fk=e[6];this.Cj=e[7];this.Dj=e[8];this.lj=
e[9];this.jj=e[10];this.ji=e[11];this.Lj=e[12];this.tk=e[13];this.Fg=e[14];this.Hg=e[15];this.Gg=e[16];this.hf=e[17];this.timeout=e[18];this.Qe=0;this.Uo=1;this.Si=this.x;this.Ui=this.y;this.Ti=this.x;this.Ri=this.y;this.dr(function(d){d.Xa.set(d.Si,d.Ui,d.Ti,d.Ri);d.ef.fh(d.Xa);d.Ah=!1;d.Au()});this.vc||(this.lb=[]);this.b.rh(this);this.type.gl();if(1===this.Of)for(e=0;e<this.cj;e++)this.Mj().opacity=0;this.$h=!0};e.mb=function(){var e={r:this.cj,sc:this.mj,st:this.Of,s:this.Zl,isp:this.Qk,isz:this.Pk,
io:this.Ok,gr:this.Fk,xr:this.Cj,yr:this.Dj,spr:this.lj,szr:this.jj,grnd:this.ji,acc:this.Lj,g:this.tk,lar:this.Fg,lsr:this.Hg,lor:this.Gg,dm:this.hf,to:this.timeout,pcc:this.Qe,ft:this.$h,p:[]},d,a,b,l=e.p;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],l.push([b.x,b.y,b.speed,b.j,b.opacity,b.ii,b.size,b.mf,b.Hd]);return e};e.Kb=function(e){this.cj=e.r;this.mj=e.sc;this.Of=e.st;this.Zl=e.s;this.Qk=e.isp;this.Pk=e.isz;this.Ok=e.io;this.Fk=e.gr;this.Cj=e.xr;this.Dj=e.yr;this.lj=e.spr;this.jj=e.szr;this.ji=
e.grnd;this.Lj=e.acc;this.tk=e.g;this.Fg=e.lar;this.Hg=e.lsr;this.Gg=e.lor;this.hf=e.dm;this.timeout=e.to;this.Qe=e.pcc;this.$h=e.ft;p.push.apply(p,this.lb);this.lb.length=0;var d,a,b,l=e.p;e=0;for(d=l.length;e<d;e++)a=this.Mj(),b=l[e],a.x=b[0],a.y=b[1],a.speed=b[2],a.j=b[3],a.opacity=b[4],a.ii=b[5],a.size=b[6],a.mf=b[7],a.Hd=b[8]};e.Tg=function(){p.push.apply(p,this.lb);this.lb.length=0};e.Mj=function(){var e;p.length?(e=p.pop(),e.la=this):e=new n(this);this.lb.push(e);e.Pa=!0;return e};e.Oa=function(){var e=
this.b.wk(this),d,a,b,l;if(0===this.Of&&this.Zl)for(this.Qe+=e*this.cj,a=U(this.Qe),this.Qe-=a,d=0;d<a;d++)b=this.Mj(),b.init();this.Si=this.x;this.Ui=this.y;this.Ti=this.x;this.Ri=this.y;l=d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],this.lb[l]=b,this.b.ba=!0,1===this.Of&&this.$h&&b.init(),b.Oa(e),b.Pa?(b.left()<this.Si&&(this.Si=b.left()),b.right()>this.Ti&&(this.Ti=b.right()),b.top()<this.Ui&&(this.Ui=b.top()),b.bottom()>this.Ri&&(this.Ri=b.bottom()),l++):p.push(b);this.lb.length=l;this.Ma();
this.$h=!1;1===this.Of&&0===this.lb.length&&this.b.Dd(this)};e.Dc=function(e){var d,a,b,l=this.i;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],b.right()>=l.na&&b.bottom()>=l.pa&&b.left()<=l.xa&&b.top()<=l.wa&&b.Dc(e)};e.Gb=function(e){this.Uo=this.i.kc();e.Nb(this.type.T);var d,a,b,l=this.i;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],b.right()>=l.na&&b.bottom()>=l.pa&&b.left()<=l.xa&&b.top()<=l.wa&&b.Gb(e)};l.d=new function(){};l.ha=new function(){};l.Qa=new function(){}})();
function hc(n){this.b=n}
(function(){function n(){if(0===this.gk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Pf?b.drawImage(this.W,this.Df,this.Ef,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.W,0,0,this.width,this.height);this.gk=a.toDataURL("image/png")}return this.gk}function l(){}function e(){}var p=hc.prototype;p.ra=function(a){this.ga=a;this.b=a.b};var q=p.ra.prototype;q.S=function(){if(!this.A){var a,b,d,e,h,l,s,k,f;this.zc=
[];this.tg=!1;a=0;for(b=this.Eb.length;a<b;a++){h=this.Eb[a];s={};s.name=h[0];s.speed=h[1];s.loop=h[2];s.Nl=h[3];s.dj=h[4];s.Vo=h[5];s.M=h[6];s.frames=[];d=0;for(e=h[7].length;d<e;d++)l=h[7][d],k={},k.rj=l[0],k.em=l[1],k.Df=l[2],k.Ef=l[3],k.width=l[4],k.height=l[5],k.duration=l[6],k.wb=l[7],k.xb=l[8],k.Kk=l[9],k.Xi=l[10],k.Wo=l[11],k.Pf=0!==k.width,k.gk="",k.Mv=n,f={left:0,top:0,right:1,bottom:1},k.Yl=f,k.T=null,(f=this.b.ws(l[0]))?k.W=f:(k.W=new Image,k.W.rr=l[0],k.W.hn=l[1],k.W.lr=null,this.b.tm(k.W,
l[0])),s.frames.push(k),this.zc.push(k);this.Eb[a]=s}}};q.Jp=function(){var a,b,d;a=0;for(b=this.c.length;a<b;a++)d=this.c[a],d.Mh=d.fc.T};q.Oi=function(){if(!this.A){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],d.W.lr=null,d.T=null;this.tg=!1;this.Jp()}};q.Qi=function(){if(!this.A&&this.c.length){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],d.T=this.b.n.xf(d.W,!1,this.b.P,d.Wo);this.Jp()}};q.gl=function(){if(!this.A&&!this.tg&&this.b.n){var a,b,d;a=0;for(b=this.zc.length;a<
b;++a)d=this.zc[a],d.T=this.b.n.xf(d.W,!1,this.b.P,d.Wo);this.tg=!0}};q.yj=function(){if(!this.A&&!this.c.length&&this.tg){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],this.b.n.deleteTexture(d.T),d.T=null;this.tg=!1}};var d=[];q.$i=function(a){var b,e,l;b=d.length=0;for(e=this.zc.length;b<e;++b)l=this.zc[b].W,-1===d.indexOf(l)&&(a.drawImage(l,0,0),d.push(l))};p.ka=function(a){this.type=a;this.b=a.b;a=this.type.Eb[0].frames[0].Xi;this.vc?this.Pc.gh(a):this.Pc=new ab(a)};var a=p.ka.prototype;
a.S=function(){this.visible=0===this.Y[0];this.Lk=this.Yk=!1;this.eg=0!==this.Y[3];1===this.type.Eb.length&&1===this.type.Eb[0].frames.length||0===this.type.Eb[0].speed||(this.b.rh(this),this.Yk=!0);this.ta=this.wn(this.Y[1])||this.type.Eb[0];this.u=this.Y[2];0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);var a=this.ta.frames[this.u];this.Pc.gh(a.Xi);this.wb=a.wb;this.xb=a.xb;this.hg=this.ta.speed;this.vc?this.Nc.reset():this.Nc=new Za;this.nd=this.Nc.V;this.oe=
!0;this.ed=0;this.ne=!0;this.Zj=this.Qm="";this.or=0;this.Dh=-1;this.type.gl();var b,d,e,h,l,n,k,a=0;for(b=this.type.Eb.length;a<b;a++)for(h=this.type.Eb[a],d=0,e=h.frames.length;d<e;d++)l=h.frames[d],0===l.width&&(l.width=l.W.width,l.height=l.W.height),l.Pf&&(k=l.W,n=l.Yl,n.left=l.Df/k.width,n.top=l.Ef/k.height,n.right=(l.Df+l.width)/k.width,n.bottom=(l.Ef+l.height)/k.height,0===l.Df&&0===l.Ef&&l.width===k.width&&l.height===k.height&&(l.Pf=!1));this.fc=this.ta.frames[this.u];this.Mh=this.fc.T};a.mb=
function(){var a={a:this.ta.M,f:this.u,cas:this.hg,fs:this.nd,ar:this.ed,at:this.Nc.V};this.oe||(a.ap=this.oe);this.ne||(a.af=this.ne);return a};a.Kb=function(a){var b=this.Bs(a.a);b&&(this.ta=b);this.u=a.f;0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);this.hg=a.cas;this.nd=a.fs;this.ed=a.ar;this.Nc.reset();this.Nc.V=a.at;this.oe=a.hasOwnProperty("ap")?a.ap:!0;this.ne=a.hasOwnProperty("af")?a.af:!0;this.fc=this.ta.frames[this.u];this.Mh=this.fc.T;this.Pc.gh(this.fc.Xi);
this.wb=this.fc.wb;this.xb=this.fc.xb};a.Qj=function(a){this.u=a?0:this.ta.frames.length-1;this.oe=!1;this.Qm=this.ta.name;this.Lk=!0;this.b.trigger(hc.prototype.d.gq,this);this.b.trigger(hc.prototype.d.fq,this);this.Lk=!1;this.ed=0};a.Ov=function(){return this.Nc.V};a.Oa=function(){this.Nc.add(this.b.wk(this));this.Zj.length&&this.Ar();0<=this.Dh&&this.mn();var a=this.Nc.V,b=this.ta,d=b.frames[this.u],e=d.duration/this.hg;this.oe&&a>=this.nd+e&&(this.ne?this.u++:this.u--,this.nd+=e,this.u>=b.frames.length&&
(b.Vo?(this.ne=!1,this.u=b.frames.length-2):b.loop?this.u=b.dj:(this.ed++,this.ed>=b.Nl?this.Qj(!1):this.u=b.dj)),0>this.u&&(b.Vo?(this.u=1,this.ne=!0,b.loop||(this.ed++,this.ed>=b.Nl&&this.Qj(!0))):b.loop?this.u=b.dj:(this.ed++,this.ed>=b.Nl?this.Qj(!0):this.u=b.dj)),0>this.u?this.u=0:this.u>=b.frames.length&&(this.u=b.frames.length-1),a>this.nd+b.frames[this.u].duration/this.hg&&(this.nd=a),a=b.frames[this.u],this.$e(d,a),this.b.ba=!0)};a.wn=function(a){var b,d,e;b=0;for(d=this.type.Eb.length;b<
d;b++)if(e=this.type.Eb[b],gb(e.name,a))return e;return null};a.Bs=function(a){var b,d,e;b=0;for(d=this.type.Eb.length;b<d;b++)if(e=this.type.Eb[b],e.M===a)return e;return null};a.Ar=function(){var a=this.ta.frames[this.u],b=this.wn(this.Zj);this.Zj="";!b||gb(b.name,this.ta.name)&&this.oe||(this.ta=b,this.hg=b.speed,0>this.u&&(this.u=0),this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1),1===this.or&&(this.u=0),this.oe=!0,this.nd=this.Nc.V,this.ne=!0,this.$e(a,this.ta.frames[this.u]),
this.b.ba=!0)};a.mn=function(){var a=this.ta.frames[this.u],b=this.u;this.u=U(this.Dh);0>this.u&&(this.u=0);this.u>=this.ta.frames.length&&(this.u=this.ta.frames.length-1);b!==this.u&&(this.$e(a,this.ta.frames[this.u]),this.nd=this.Nc.V,this.b.ba=!0);this.Dh=-1};a.$e=function(a,b){var d=a.width,e=a.height,h=b.width,l=b.height;d!=h&&(this.width*=h/d);e!=l&&(this.height*=l/e);this.wb=b.wb;this.xb=b.xb;this.Pc.gh(b.Xi);this.Ma();this.fc=b;this.Mh=b.T;d=0;for(e=this.G.length;d<e;d++)h=this.G[d],h.Kt&&
h.Kt(a,b);this.b.trigger(hc.prototype.d.$e,this)};a.Dc=function(a){a.globalAlpha=this.opacity;var b=this.fc,d=b.Pf,e=b.W,h=this.x,l=this.y,n=this.width,k=this.height;if(0===this.j&&0<=n&&0<=k)h-=this.wb*n,l-=this.xb*k,this.b.Yc&&(h=Math.round(h),l=Math.round(l)),d?a.drawImage(e,b.Df,b.Ef,b.width,b.height,h,l,n,k):a.drawImage(e,h,l,n,k);else{this.b.Yc&&(h=Math.round(h),l=Math.round(l));a.save();var f=0<n?1:-1,p=0<k?1:-1;a.translate(h,l);1===f&&1===p||a.scale(f,p);a.rotate(this.j*f*p);h=0-this.wb*ja(n);
l=0-this.xb*ja(k);d?a.drawImage(e,b.Df,b.Ef,b.width,b.height,h,l,ja(n),ja(k)):a.drawImage(e,h,l,ja(n),ja(k));a.restore()}};a.Gb=function(a){a.Nb(this.Mh);a.Se(this.opacity);var b=this.fc,d=this.ef;if(this.b.Yc){var e=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;b.Pf?a.de(d.Va+e,d.Wa+h,d.Bb+e,d.Cb+h,d.qb+e,d.rb+h,d.ob+e,d.pb+h,b.Yl):a.ah(d.Va+e,d.Wa+h,d.Bb+e,d.Cb+h,d.qb+e,d.rb+h,d.ob+e,d.pb+h)}else b.Pf?a.de(d.Va,d.Wa,d.Bb,d.Cb,d.qb,d.rb,d.ob,d.pb,b.Yl):a.ah(d.Va,d.Wa,d.Bb,d.Cb,d.qb,d.rb,
d.ob,d.pb)};a.Fs=function(a){var b=this.fc,d,e;d=0;for(e=b.Kk.length;d<e;d++)if(gb(a,b.Kk[d][0]))return d;return-1};a.zk=function(a,b){var d=this.fc,e=d.Kk,h;h=Q(a)?this.Fs(a):a-1;h=U(h);if(0>h||h>=e.length)return b?this.x:this.y;var l=(e[h][1]-d.wb)*this.width,e=e[h][2],e=(e-d.xb)*this.height,d=Math.cos(this.j);h=Math.sin(this.j);var n=l*d-e*h,e=e*d+l*h,l=n+this.x,e=e+this.y;return b?l:e};var b=new ba,t=!1;new sa(0,0,0,0);q.finish=function(a){if(t){if(a){var c=this.b.Hb().Cc.Vc;a=null.ea();var d=
b.Bd(),e,h;if(a.ma){a.ma=!1;a.c.length=d.length;e=0;for(h=d.length;e<h;e++)a.c[e]=d[e];if(c)for(e=a.O.length=0,h=null.c.length;e<h;e++)d=null.c[e],b.contains(d)||a.O.push(d)}else if(c)for(c=a.c.length,a.c.length=c+d.length,e=0,h=d.length;e<h;e++)a.c[c+e]=d[e],Ba(a.O,d[e]);else ya(a.c,d);null.Id()}b.clear();t=!1}};l.prototype.fq=function(a){return gb(this.Qm,a)};l.prototype.gq=function(){return!0};l.prototype.$e=function(){return!0};p.d=new l;e.prototype.Jq=function(a){this.Dh=a;this.Yk||(this.b.rh(this),
this.Yk=!0);this.Lk||this.mn()};p.ha=new e;p.Qa=new function(){}})();function nc(n){this.b=n}
(function(){function n(a,b){return a.length?a.pop():new b}function l(a,c,d){if(d){var e;d=0;for(e=c.length;d<e;d++)a.length<b&&a.push(c[d]);c.length=0}else for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a.length<b&&a.push(c[e]),delete c[e])}function e(a,b,c){var d=a.Le;c=c.replace(/\s\s*$/,"");b>=d.length&&d.push(n(t,Object));b=d[b];b.text=c;b.width=a.ol(c);a.Rf=ma(a.Rf,b.width)}function p(){}function q(){}var d=nc.prototype;d.S=function(){};d.ra=function(a){this.ga=a;this.b=a.b};var a=d.ra.prototype;
a.S=function(){this.A||(this.W=new Image,this.b.tm(this.W,this.rj),this.T=null)};a.Oi=function(){this.A||(this.T=null)};a.Qi=function(){if(!this.A&&this.c.length){this.T||(this.T=this.b.n.xf(this.W,!1,this.b.P,this.qh));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].T=this.T}};a.yj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};a.$i=function(a){a.drawImage(this.W,0,0)};d.ka=function(a){this.type=a;this.b=a.b};a=d.ka.prototype;a.Tg=function(){l(t,this.Le,
!0);l(g,this.Fh,!1);l(c,this.Gh,!1);Ua(this.Nd)};a.S=function(){this.W=this.type.W;this.Eh=this.Y[0];this.Ld=this.Y[1];this.characterSet=this.Y[2];this.text=this.Y[3];this.Md=this.Y[4];this.visible=0===this.Y[5];this.Hn=this.Y[6]/2;this.Mp=this.Y[7]/2;this.Fu=0===this.Y[9];this.ff=this.Y[10];this.lineHeight=this.Y[11];this.Ve=this.Rf=0;this.vc?(this.Le.length=0,Ua(this.Fh),Ua(this.Gh),Ua(this.Nd)):(this.Le=[],this.Fh={},this.Gh={},this.Nd={});this.ph=!0;this.el=this.width;this.b.n&&(this.type.T||
(this.type.T=this.b.n.xf(this.type.W,!1,this.b.P,this.type.qh)),this.T=this.type.T);this.Sq()};a.mb=function(){var a={t:this.text,csc:this.Md,csp:this.ff,lh:this.lineHeight,tw:this.Rf,th:this.Ve,lrt:this.ut,cw:{}},b;for(b in this.Nd)a.cw[b]=this.Nd[b];return a};a.Kb=function(a){this.text=a.t;this.Md=a.csc;this.ff=a.csp;this.lineHeight=a.lh;this.Rf=a.tw;this.Ve=a.th;this.ut=a.lrt;for(var b in a.cw)this.Nd[b]=a.cw[b];this.ph=!0;this.el=this.width};var b=1E3,t=[],g=[],c=[];a.Sq=function(){for(var a=
this.W,b=a.width,d=a.height,a=this.Eh,e=this.Ld,f=a/b,l=e/d,m=this.characterSet,b=Math.floor(b/a),d=Math.floor(d/e),p=0;p<m.length&&!(p>=b*d);p++){var y=p%b,q=Math.floor(p/b),x=m.charAt(p);if(this.b.n){var t=this.Gh,w=y*f,E=q*l,y=(y+1)*f,q=(q+1)*l;void 0===t[x]&&(t[x]=n(c,sa));t[x].left=w;t[x].top=E;t[x].right=y;t[x].bottom=q}else t=this.Fh,y*=a,q*=e,w=a,E=e,void 0===t[x]&&(t[x]=n(g,Object)),t[x].x=y,t[x].y=q,t[x].Op=w,t[x].Gn=E}};var m=[];d.Uq=function(a){m.length=0;for(var b="",c,d=0;d<a.length;)if(c=
a.charAt(d),"\n"===c)b.length&&(m.push(b),b=""),m.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));m.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&m.push(b)};d.Vq=function(a){var b=a.text,c=a.Le;if(b&&b.length){var d=a.width;if(2>=d)l(t,c,!0);else{var f=a.Md,e=a.ff;if(b.length*(a.Eh*f+e)-e<=d&&-1===b.indexOf("\n")&&(e=a.ol(b),e<=d)){l(t,c,!0);c.push(n(t,Object));c[0].text=b;c[0].width=e;a.Rf=e;a.Ve=a.Ld*f+a.lineHeight;
return}this.Wq(a);a.Ve=c.length*(a.Ld*f+a.lineHeight)}}else l(t,c,!0)};d.Wq=function(a){var c=a.Fu,d=a.text,g=a.Le,f=a.width;c&&(this.Uq(d),d=m);var l="",n,p,y,q=0,x=!1;for(y=0;y<d.length;y++)"\n"===d[y]?(!0===x?x=!1:(e(a,q,l),q++),l=""):(x=!1,n=l,l+=d[y],p=a.ol(l.replace(/\s\s*$/,"")),p>f&&(""===n?(e(a,q,l),l="",x=!0):(e(a,q,n),l=d[y]),q++,c||" "!==l||(l="")));l.replace(/\s\s*$/,"").length&&(e(a,q,l),q++);for(y=q;y<g.length;y++)t.length<b&&t.push(g[y]);g.length=q};a.ol=function(a){for(var b=this.ff,
c=a.length,d=0,f=0;f<c;f++)d+=this.vk(a.charAt(f))*this.Md+b;return d-(0<d?b:0)};a.vk=function(a){var b=this.Nd;return void 0!==b[a]?b[a]:this.Eh};a.ep=function(){if(this.ph||this.width!==this.el)this.Ve=this.Rf=0,this.type.ga.Vq(this),this.ph=!1,this.el=this.width};a.Dc=function(a){var b=this.W;if(""!==this.text&&null!=b&&(this.ep(),!(this.height<this.Ld*this.Md+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.Yc&&(b=Math.round(b),c=Math.round(c));var d=this.i.na,f=this.i.pa,
e=this.i.xa,g=this.i.wa;a.save();a.translate(b,c);a.rotate(this.j);for(var l=this.Hn,m=this.Md,n=this.Ld*m,p=this.lineHeight,q=this.ff,w=this.Le,E,t=-(this.wb*this.width),u=-(this.xb*this.height),u=u+this.Mp*ma(0,this.height-this.Ve),D,z,Z,I=0;I<w.length;I++){var K=w[I].text;E=l*ma(0,this.width-w[I].width);D=t+E;u+=p;if(c+u+n<f)u+=n;else{for(var A=0;A<K.length;A++){z=K.charAt(A);E=this.vk(z);var C=this.Fh[z];if(b+D+E*m+q<d)D+=E*m+q;else{if(D+E*m>this.width+1E-5)break;void 0!==C&&(z=D,Z=u,0===this.j&&
(z=Math.round(z),Z=Math.round(Z)),a.drawImage(this.W,C.x,C.y,C.Op,C.Gn,z,Z,C.Op*m,C.Gn*m));D+=E*m+q;if(b+D>e)break}}u+=n;if(u+n+p>this.height||c+u>g)break}}a.restore()}};var u=new ua;a.Gb=function(a){a.Nb(this.T);a.Se(this.opacity);if(this.text&&(this.ep(),!(this.height<this.Ld*this.Md+this.lineHeight))){this.eb();var b=this.ef,c=0,d=0;this.b.Yc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);var f=this.i.na,e=this.i.pa,g=this.i.xa,l=this.i.wa,m=this.j,n=this.Hn,p=this.Mp,q=this.Md,w=this.Ld*
q,E=this.lineHeight,t=this.ff,R=this.Le,D=this.Ve,z,Z,I;0!==m&&(Z=Math.cos(m),I=Math.sin(m));for(var c=b.Va+c,b=b.Wa+d,K,p=p*ma(0,this.height-D),A,C,D=0;D<R.length;D++)if(d=R[D].text,K=z=n*ma(0,this.width-R[D].width),p+=E,0===m&&b+p+w<e)p+=w;else{for(var L=0;L<d.length;L++){var G=d.charAt(L);z=this.vk(G);G=this.Gh[G];if(c+K+z*q+t<f)K+=z*q+t;else{if(K+z*q>this.width+1E-5)break;if(void 0!==G){var J=this.Eh*q,H=this.Ld*q;A=K;C=p;0===m&&(A=Math.round(A),C=Math.round(C));u.Va=A;u.Wa=C;u.Bb=A+J;u.Cb=C;
u.ob=A;u.pb=C+H;u.qb=A+J;u.rb=C+H;0!==m&&(A=u,C=Z,J=I,H=void 0,H=A.Va*C-A.Wa*J,A.Wa=A.Wa*C+A.Va*J,A.Va=H,H=A.Bb*C-A.Cb*J,A.Cb=A.Cb*C+A.Bb*J,A.Bb=H,H=A.ob*C-A.pb*J,A.pb=A.pb*C+A.ob*J,A.ob=H,H=A.qb*C-A.rb*J,A.rb=A.rb*C+A.qb*J,A.qb=H);u.offset(c,b);a.de(u.Va,u.Wa,u.Bb,u.Cb,u.qb,u.rb,u.ob,u.pb,G)}K+=z*q+t;if(0===m&&c+K>g)break}}p+=w;if(p+w+E>this.height||b+p>l)break}}};d.d=new function(){};p.prototype.Nq=function(a){O(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.ph=
!0,this.b.ba=!0)};a.tv=function(a,b){var c=parseInt(b,10);this.Nd[a]!==c&&(this.Nd[a]=c,this.ph=!0,this.b.ba=!0)};d.ha=new p;q.prototype.Text=function(a){a.bb(this.text)};d.Qa=new q})();function Y(n){this.b=n}
(function(){function n(a){g=a.x;c=a.y;m=a.z}function l(a){u=a.x;h=a.y;r=a.z}function e(a,b,c,d){var f;f=s.length?s.pop():new p;f.init(a,b,c,d);return f}function p(){this.jh=this.id=this.y=this.x=this.pj=this.oj=this.dl=this.time=this.am=0;this.uh=this.wj=!1}function q(){}function d(){}var a=Y.prototype;a.ra=function(a){this.ga=a;this.b=a.b};a.ra.prototype.S=function(){};a.ka=function(a){this.type=a;this.b=a.b;this.touches=[];this.ql=!1};var b=a.ka.prototype,t={left:0,top:0};b.mg=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var g=0,c=0,m=0,u=0,h=0,r=0,s=[];p.prototype.init=function(a,b,c,d){var f=Va();this.am=this.dl=this.time=f;this.oj=a;this.pj=b;this.x=a;this.y=b;this.id=c;this.jh=d;this.uh=this.wj=!1};p.prototype.update=function(a,b,c){this.dl=this.time;this.time=a;this.x=b;this.y=c;!this.uh&&15<=Ra(this.oj,this.pj,this.x,this.y)&&(this.uh=!0)};p.prototype.zt=function(a,b){!this.wj&&500<=Va()-this.am&&!this.uh&&15>Ra(this.oj,this.pj,
this.x,this.y)&&(this.wj=!0,a.bd=this.jh,a.Tf=this.id,a.lf=b,a.b.trigger(Y.prototype.d.qq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.rq,a),a.lf=0)};var k=-1E3,f=-1E3,v=-1E4;p.prototype.wo=function(a,b){if(!this.wj){var c=Va();333>=c-this.am&&!this.uh&&15>Ra(this.oj,this.pj,this.x,this.y)&&(a.bd=this.jh,a.Tf=this.id,a.lf=b,666>=c-v&&25>Ra(k,f,this.x,this.y)?(a.b.trigger(Y.prototype.d.mq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.nq,a),f=k=-1E3,v=-1E4):(a.b.trigger(Y.prototype.d.Fq,
a),a.hd=this.x,a.jd=this.y,a.b.trigger(Y.prototype.d.Gq,a),k=this.x,f=this.y,v=c),a.lf=0)}};b.S=function(){this.ot=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.lf=this.Tf=this.bd=this.jd=this.hd=this.Lm=this.Km=this.Jm=this.$q=this.Zq=this.Yq=this.Wg=this.Vg=this.Ug=0;this.Du=0!==this.Y[0];var a=0<this.b.tb?document:this.b.canvas,b=document;this.b.$a?b=a=window.Canvas:this.b.Wb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Io(a)},
!1),a.addEventListener("pointermove",function(a){c.Ho(a)},!1),b.addEventListener("pointerup",function(a){c.Pi(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Pi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Io(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Ho(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Pi(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Pi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Ko(a)},
!1),a.addEventListener("touchmove",function(a){c.Jo(a)},!1),b.addEventListener("touchend",function(a){c.Bl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Bl(a,!0)},!1));if(this.ot){var d=function(a){a=a.reading;c.Jm=a.accelerationX;c.Km=a.accelerationY;c.Lm=a.accelerationZ},f=function(a){a=a.reading;c.Ug=a.yawDegrees;c.Vg=a.pitchDegrees;c.Wg=a.rollDegrees},e=Windows.Devices.Sensors.Accelerometer.getDefault();e&&(e.reportInterval=Math.max(e.minimumReportInterval,16),e.addEventListener("readingchanged",
d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(e&&e.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",f)):(e&&e.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Ug=a.alpha||
0;c.Vg=a.beta||0;c.Wg=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Yq=a.accelerationIncludingGravity.x||0,c.Zq=a.accelerationIncludingGravity.y||0,c.$q=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Jm=a.acceleration.x||0,c.Km=a.acceleration.y||0,c.Lm=a.acceleration.z||0)},!1);this.Du&&!this.b.fa&&(jQuery(document).mousemove(function(a){c.zl(a)}),jQuery(document).mousedown(function(a){c.yl(a)}),jQuery(document).mouseup(function(a){c.Al(a)}));
this.b.of&&!this.b.$a&&AppMobi.accelerometer.watchAcceleration(n,{frequency:40,adjustForRotation:!0});this.b.Xb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(l,null,{frequency:40});this.b.tu(this)};b.Ho=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.mg(a.pointerId),c=Va();if(0<=b){var d=this.b.fa?t:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};b.Io=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&hb(a)&&a.preventDefault();var b=this.b.fa?t:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Va();this.bd=this.touches.length;this.Tf=a.pointerId;this.touches.push(e(c,b,a.pointerId,this.bd));this.b.ya=!0;this.b.trigger(Y.prototype.d.Em,this);this.b.trigger(Y.prototype.d.Hm,this);this.hd=c;this.jd=b;this.b.trigger(Y.prototype.d.Gm,this);
this.b.ya=!1}};b.Pi=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&hb(a)&&a.preventDefault();var c=this.mg(a.pointerId);this.bd=0<=c?this.touches[c].jh:-1;this.Tf=0<=c?this.touches[c].id:-1;this.b.ya=!0;this.b.trigger(Y.prototype.d.Dm,this);this.b.trigger(Y.prototype.d.Fm,this);0<=c&&(b||this.touches[c].wo(this,c),100>s.length&&s.push(this.touches[c]),this.touches.splice(c,1));this.b.ya=!1}};b.Jo=function(a){a.preventDefault&&a.preventDefault();
var b=Va(),c,d,f,e;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],e=this.mg(f.identifier),0<=e){var g=this.b.fa?t:jQuery(this.b.canvas).offset();e=this.touches[e];2>b-e.time||e.update(b,f.pageX-g.left,f.pageY-g.top)}};b.Ko=function(a){a.preventDefault&&hb(a)&&a.preventDefault();var b=this.b.fa?t:jQuery(this.b.canvas).offset();Va();this.b.ya=!0;var c,d,f,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],g=this.mg(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-
b.top;this.bd=this.touches.length;this.Tf=f.identifier;this.touches.push(e(g,h,f.identifier,this.bd));this.b.trigger(Y.prototype.d.Em,this);this.b.trigger(Y.prototype.d.Hm,this);this.hd=g;this.jd=h;this.b.trigger(Y.prototype.d.Gm,this)}this.b.ya=!1};b.Bl=function(a,b){a.preventDefault&&hb(a)&&a.preventDefault();this.b.ya=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.mg(f.identifier),0<=f&&(this.bd=this.touches[f].jh,this.Tf=this.touches[f].id,this.b.trigger(Y.prototype.d.Dm,
this),this.b.trigger(Y.prototype.d.Fm,this),b||this.touches[f].wo(this,f),100>s.length&&s.push(this.touches[f]),this.touches.splice(f,1));this.b.ya=!1};b.Kv=function(){return this.b.of&&0===this.Ug&&0!==m?90*m:this.b.Xb&&0===this.Ug&&0!==r?90*r:this.Ug};b.Lv=function(){return this.b.of&&0===this.Vg&&0!==c?-90*c:this.b.Xb&&0===this.Vg&&0!==h?90*h:this.Vg};b.Nv=function(){return this.b.of&&0===this.Wg&&0!==g?90*g:this.b.Xb&&0===this.Wg&&0!==u?90*u:this.Wg};b.yl=function(a){a.preventDefault&&this.b.nf&&
!this.b.qd&&a.preventDefault();this.Ko({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ql=!0};b.zl=function(a){this.ql&&this.Jo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Al=function(a){a.preventDefault&&this.b.nf&&!this.b.qd&&a.preventDefault();this.b.nf=!0;this.Bl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ql=!1};b.tj=function(){var a,b,c,d=Va();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.dl=d),c.zt(this,
a)};q.prototype.Hm=function(){return!0};q.prototype.Fm=function(){return!0};q.prototype.Gm=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};q.prototype.Em=function(a){a=Math.floor(a);return a===this.bd};q.prototype.Dm=function(a){a=Math.floor(a);return a===this.bd};q.prototype.qq=function(){return!0};q.prototype.Fq=function(){return!0};q.prototype.mq=function(){return!0};q.prototype.rq=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};q.prototype.Gq=function(a){return a?this.b.nh(a,this.hd,
this.jd):!1};q.prototype.nq=function(a){return a?this.b.nh(a,this.hd,this.jd):!1};a.d=new q;d.prototype.yh=function(a,b){var c=this.lf;if(0>c||c>=this.touches.length)a.q(0);else{var d,f,e,g,h;fa(b)?(d=this.b.od(0),f=d.scale,e=d.Db,g=d.rc,h=d.j,d.scale=1,d.Db=1,d.rc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)),d.scale=f,d.Db=e,d.rc=g,d.j=h):(d=O(b)?this.b.od(b):this.b.ng(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)):a.q(0)}};d.prototype.Kj=function(a,b){var c=this.lf;if(0>c||c>=
this.touches.length)a.q(0);else{var d,f,e,g,h;fa(b)?(d=this.b.od(0),f=d.scale,e=d.Db,g=d.tc,h=d.j,d.scale=1,d.Db=1,d.tc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)),d.scale=f,d.Db=e,d.tc=g,d.j=h):(d=O(b)?this.b.od(b):this.b.ng(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)):a.q(0)}};a.Qa=new d})();function oc(n){this.b=n}
(function(){function n(){}var l=oc.prototype;l.ra=function(d){this.ga=d;this.b=d.b};l.ra.prototype.S=function(){};l.ka=function(d){this.type=d;this.b=d.b};var e=l.ka.prototype,p="",q="undefined"!==typeof window.is_scirra_arcade;q&&(p="arcade"+window.scirra_arcade_id);e.S=function(){"undefined"===typeof localStorage&&N("[Construct 2] Webstorage plugin: local storage is not supported on this platform.");"undefined"===typeof sessionStorage&&N("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")};
l.d=new function(){};l.ha=new function(){};n.prototype.wm=function(d){if("undefined"===typeof localStorage)d.bb("");else{var a={},b,e,g;b=0;for(e=localStorage.length;b<e;b++)g=localStorage.key(b),q?g.substr(0,p.length)===p&&(a[g.substr(p.length)]=localStorage.getItem(g)):a[g]=localStorage.getItem(g);d.bb(JSON.stringify({c2dictionary:!0,data:a}))}};l.Qa=new n})();function qc(n){this.b=n}
(function(){function n(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function l(c){b[c.gamepad.index]=c.gamepad;d.trigger(qc.prototype.d.oq,a)}function e(c){d.trigger(qc.prototype.d.pq,a);b[c.gamepad.index]=null}function p(){}var q=qc.prototype;q.ra=function(a){this.ga=a;this.b=a.b};q.ra.prototype.S=function(){};var d=null,a=null,b=Array(16),t="",g="",c=null,m={windows:{}};m.windows.firefox={};var u=[0,1,2,3,4,5,8,9,10,11],h=[0,1,[7,6],2,3,[14,15],[12,13]];m.windows.firefox.xbox360=function(a,b){return b?
a>=h.length?-1:O(h[a])?h[a]+16:h[a]:a>=u.length?-1:u[a]};var r=[2,0,1,3,4,6,5,7,8,9],s=[0,1,2,3,[14,15],[12,13]];m.windows.firefox.logitechdualaction=function(a,b){return b?a>=s.length?-1:O(s[a])?s[a]+16:s[a]:a>=r.length?-1:r[a]};q.ka=function(b){this.type=b;d=this.b=b.b;a=this};var k=q.ka.prototype;k.S=function(){this.vi=0;var a=navigator.userAgent;t="windows";/mac/i.test(a)&&(t="mac");c=m[t];g="chrome";/firefox/i.test(a)&&(g="firefox");c&&(c=c[g]);window.addEventListener("webkitgamepadconnected",
l,!1);window.addEventListener("webkitgamepaddisconnected",e,!1);window.addEventListener("MozGamepadConnected",l,!1);window.addEventListener("MozGamepadDisconnected",e,!1);window.addEventListener("gamepadconnected",l,!1);window.addEventListener("gamepaddisconnected",e,!1);this.b.rh(this);this.zh=[]};k.Oa=function(){this.zh.length=0;var a=null,d=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():
navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.Tn&&window.cr_getGamepads?(a=window.cr_getGamepads(),d=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||b;if(a){var e,g,h,k,l,m,p;e=0;for(g=a.length;e<g;e++){var q=a[e];if(q){if(q.Bc)for(h=0;20>h;h++)q.Tj[h]=q.Bc[h];else for(q.Bc=Array(20),q.Tj=Array(20),h=0;20>h;h++)q.Tj[h]=0;d?h=n:c?(h="",k=q.id.toLowerCase(),-1<k.indexOf("xbox 360")?h="xbox360":-1<k.indexOf("logitech dual action")&&(h="logitechdualaction"),h=c[h]||
n):h=n;l=h;h=0;for(k=q.buttons.length;h<k;h++)p="undefined"!==typeof q.buttons[h].value?q.buttons[h].value:q.buttons[h],m=l(h,!1,p),0<=m&&20>m&&(q.Bc[m]=100*p,50<=q.Bc[m]&&50>q.Tj[m]&&(this.vi=m));h=0;for(k=q.axes.length;h<k;h++)p=q.axes[h],m=l(h,!0,p),O(m)?0<=m&&20>m&&(q.Bc[m]=100*p):(q.Bc[m[0]]=0,q.Bc[m[1]]=0,0>=p?q.Bc[m[0]]=Math.abs(100*p):q.Bc[m[1]]=Math.abs(100*p));this.zh.push(q)}}}};k.mb=function(){return{lastButton:this.vi}};k.Kb=function(a){this.vi=a.lastButton};p.prototype.oq=function(){return!0};
p.prototype.pq=function(){return!0};p.prototype.ym=function(a,b){a=Math.floor(a);if(0>a||a>=this.zh.length)return!1;var c=this.zh[a];if(!c.Bc)return!1;if(c=50<=c.Bc[b])this.vi=b;return c};q.d=new p;q.ha=new function(){};q.Qa=new function(){}})();function rc(n){this.b=n;this.hj=this.ih=this.Te=this.gj=0}
(function(){function n(){}var l=rc.prototype;l.ra=function(e){this.behavior=e;this.b=e.b};l.ra.prototype.S=function(){};l.ka=function(e,l){this.type=e;this.behavior=e.behavior;this.it=l;this.b=e.b};var e=l.ka.prototype;e.S=function(){this.enabled=0!==this.Y[0]};e.mb=function(){return{smg:this.behavior.gj,ss:this.behavior.Te,se:this.behavior.ih,smd:this.behavior.hj}};e.Kb=function(e){this.behavior.gj=e.smg;this.behavior.Te=e.ss;this.behavior.ih=e.se;this.behavior.hj=e.smd};e.Oa=function(){};e.tj=function(){if(this.enabled){var e=
this.behavior.Li.Bd(),l=0,d=0,a,b,n,g=0;a=0;for(b=e.length;a<b;a++){a:{n=e[a];for(var c=void 0,m=void 0,u=void 0,c=0,m=n.G.length;c<m;++c)if(u=n.G[c],u.behavior instanceof rc){n=u;break a}n=null}n&&n.enabled&&(l+=e[a].x,d+=e[a].y,++g)}e=this.it.i.Ia;b=this.b.yb.V;n=a=0;b>=this.behavior.Te&&b<this.behavior.ih&&(a=this.behavior.gj*Math.min(this.b.We,1),0===this.behavior.hj&&(a*=1-(b-this.behavior.Te)/(this.behavior.ih-this.behavior.Te)),b=Math.random()*Math.PI*2,n=Math.random()*a,a=Math.cos(b)*n,n*=
Math.sin(b));e.Ul(l/g+a);e.Vl(d/g+n)}};n.prototype.Rq=function(e,l,d){this.behavior.gj=e;this.behavior.Te=this.b.yb.V;this.behavior.ih=this.behavior.Te+l;this.behavior.hj=d};l.ha=new n})();
function gc(){return[ic,jc,qc,kc,lc,mc,Y,hc,nc,oc,rc,lc.prototype.d.Ij,hc.prototype.ha.Qp,X.prototype.ha.Oq,X.prototype.d.Zp,nc.prototype.ha.Nq,hc.prototype.d.Up,hc.prototype.ha.Jq,hc.prototype.ha.Lq,X.prototype.d.Vp,hc.prototype.ha.Qq,X.prototype.d.xm,X.prototype.ha.Xp,lc.prototype.Qa.yh,lc.prototype.Qa.Kj,rc.prototype.ha.Rq,lc.prototype.d.ym,hc.prototype.ha.Kq,hc.prototype.ha.Mq,hc.prototype.d.Wp,hc.prototype.Qa.yh,X.prototype.d.Yp,X.prototype.ha.Tq,nc.prototype.ha.Pq,kc.prototype.d.Am,jc.prototype.ha.Iq,
jc.prototype.ha.$p]};
