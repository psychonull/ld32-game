// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,M,fa,ha,O,P,ia,ja,ka,na,oa,pa,R,qa,sa,ua,wa,xa,ya,za,Aa,Ba,Ca,V,Da,Ea,Fa,Ha,Ia,Ja,Ka,La,Ma,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,W,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(n){return n.__proto__}:function(n){return n.constructor.prototype});
(function(){function n(f,l,c,a){this.set(f,l,c,a)}function k(){this.pb=this.ob=this.rb=this.qb=this.Cb=this.Bb=this.Wa=this.Va=0}function e(f,l,c,a){f<l?c<a?(r=f<c?f:c,s=l>a?l:a):(r=f<a?f:a,s=l>c?l:c):c<a?(r=l<c?l:c,s=f>a?f:a):(r=l<a?l:a,s=f>c?f:c)}function p(){this.items=this.Jc=null;this.wf=0;F&&(this.Jc=new Set);this.Xf=[];this.Kd=!0}function q(f){y[T++]=f}function d(){this.V=this.uj=this.y=this.Vj=0}function a(f){this.Jf=[];this.Wm=this.Ym=this.Zm=this.Xm=0;this.jh(f)}function b(f,l){this.ak=
f;this.$j=l;this.cells={}}function t(f,l){this.ak=f;this.$j=l;this.cells={}}function g(f,l,c){var a;return x.length?(a=x.pop(),a.Gk=f,a.x=l,a.y=c,a):new ba(f,l,c)}function c(f,l,c){this.Gk=f;this.x=l;this.y=c;this.Sa=new ca}function m(f,l,c){var a;return Q.length?(a=Q.pop(),a.Gk=f,a.x=l,a.y=c,a):new da(f,l,c)}function u(f,l,c){this.Gk=f;this.x=l;this.y=c;this.Sa=[];this.vf=!0;this.Xc=new ca;this.ag=!1}function h(f,l){return f.Mc-l.Mc}M=function(f){window.console&&window.console.log&&window.console.log(f)};
fa=function(f){window.console&&window.console.error&&window.console.error(f)};ha=function(f){return"undefined"===typeof f};O=function(f){return"number"===typeof f};P=function(f){return"string"===typeof f};ia=function(f){return 0<f&&0===(f-1&f)};ja=function(f){--f;for(var l=1;32>l;l<<=1)f|=f>>l;return f+1};ka=function(f){return 0>f?-f:f};na=function(f,l){return f>l?f:l};oa=function(f,l){return f<l?f:l};pa=Math.PI;R=function(f){return 0<=f?f|0:(f|0)-1};qa=function(f){var l=f|0;return l===f?l:l+1};sa=
function(f,l,c,a,w,b,d,E){var h,m,y,r;f<c?(m=f,h=c):(m=c,h=f);w<d?(r=w,y=d):(r=d,y=w);if(h<r||m>y)return!1;l<a?(m=l,h=a):(m=a,h=l);b<E?(r=b,y=E):(r=E,y=b);if(h<r||m>y)return!1;h=w-f+d-c;m=b-l+E-a;f=c-f;l=a-l;w=d-w;b=E-b;E=ka(l*w-b*f);return ka(w*m-b*h)>E?!1:ka(f*m-l*h)<=E};n.prototype.set=function(f,l,c,a){this.left=f;this.top=l;this.right=c;this.bottom=a};n.prototype.Mh=function(f){this.left=f.left;this.top=f.top;this.right=f.right;this.bottom=f.bottom};n.prototype.width=function(){return this.right-
this.left};n.prototype.height=function(){return this.bottom-this.top};n.prototype.offset=function(f,l){this.left+=f;this.top+=l;this.right+=f;this.bottom+=l;return this};n.prototype.normalize=function(){var f=0;this.left>this.right&&(f=this.left,this.left=this.right,this.right=f);this.top>this.bottom&&(f=this.top,this.top=this.bottom,this.bottom=f)};n.prototype.ec=function(f,l){return f>=this.left&&f<=this.right&&l>=this.top&&l<=this.bottom};n.prototype.Vh=function(f){return this.left===f.left&&this.top===
f.top&&this.right===f.right&&this.bottom===f.bottom};ua=n;k.prototype.ih=function(f){this.Va=f.left;this.Wa=f.top;this.Bb=f.right;this.Cb=f.top;this.qb=f.right;this.rb=f.bottom;this.ob=f.left;this.pb=f.bottom};k.prototype.rp=function(f,l){if(0===l)this.ih(f);else{var c=Math.sin(l),a=Math.cos(l),w=f.left*c,b=f.top*c,d=f.right*c,c=f.bottom*c,E=f.left*a,h=f.top*a,m=f.right*a,a=f.bottom*a;this.Va=E-b;this.Wa=h+w;this.Bb=m-b;this.Cb=h+d;this.qb=m-c;this.rb=a+d;this.ob=E-c;this.pb=a+w}};k.prototype.offset=
function(f,l){this.Va+=f;this.Wa+=l;this.Bb+=f;this.Cb+=l;this.qb+=f;this.rb+=l;this.ob+=f;this.pb+=l;return this};var r=0,s=0;k.prototype.an=function(f){e(this.Va,this.Bb,this.qb,this.ob);f.left=r;f.right=s;e(this.Wa,this.Cb,this.rb,this.pb);f.top=r;f.bottom=s};k.prototype.ec=function(f,l){var c=this.Bb-this.Va,a=this.Cb-this.Wa,w=this.qb-this.Va,b=this.rb-this.Wa,d=f-this.Va,E=l-this.Wa,h=c*c+a*a,m=c*w+a*b,a=c*d+a*E,y=w*w+b*b,r=w*d+b*E,g=1/(h*y-m*m),c=(y*a-m*r)*g,h=(h*r-m*a)*g;if(0<=c&&0<h&&1>c+
h)return!0;c=this.ob-this.Va;a=this.pb-this.Wa;h=c*c+a*a;m=c*w+a*b;a=c*d+a*E;g=1/(h*y-m*m);c=(y*a-m*r)*g;h=(h*r-m*a)*g;return 0<=c&&0<h&&1>c+h};wa=k;xa=function(f,l){for(var c in l)l.hasOwnProperty(c)&&(f[c]=l[c]);return f};ya=function(f,l){var c,a;l=R(l);if(!(0>l||l>=f.length)){c=l;for(a=f.length-1;c<a;c++)f[c]=f[c+1];f.length=a}};za=function(f,l){f.length=l.length;var c,a;c=0;for(a=l.length;c<a;c++)f[c]=l[c]};Aa=function(f,l){f.push.apply(f,l)};Ba=function(f,l){var c,a;c=0;for(a=f.length;c<a;++c)if(f[c]===
l)return c;return-1};Ca=function(f,l){var c=Ba(f,l);-1!==c&&ya(f,c)};V=function(f){return f/(180/pa)};Da=function(f){return 180/pa*f};Ea=function(f){f%=360;0>f&&(f+=360);return f};Fa=function(f){f%=2*pa;0>f&&(f+=2*pa);return f};Ha=function(f){return Ea(Da(f))};Ia=function(f){return Fa(V(f))};Ja=function(f,l,c,a){return Math.atan2(a-l,c-f)};Ka=function(f,l){if(f===l)return 0;var c=Math.sin(f),a=Math.cos(f),w=Math.sin(l),b=Math.cos(l),c=c*w+a*b;return 1<=c?0:-1>=c?pa:Math.acos(c)};La=function(f,l,c){var a=
Math.sin(f),w=Math.cos(f),b=Math.sin(l),h=Math.cos(l);return Math.acos(a*b+w*h)>c?0<w*b-a*h?Fa(f+c):Fa(f-c):Fa(l)};Ma=function(f,l){var c=Math.sin(f),a=Math.cos(f),w=Math.sin(l),b=Math.cos(l);return 0>=a*w-c*b};Ra=function(f,l,c,a,w,b){if(0===c)return b?f:l;var h=Math.sin(c);c=Math.cos(c);f-=a;l-=w;var d=f*h;f=f*c-l*h;l=l*c+d;return b?f+a:l+w};Sa=function(f,l,c,a){f=c-f;l=a-l;return Math.sqrt(f*f+l*l)};Ta=function(f,l){return!f!==!l};Ua=function(f){for(var l in f)if(f.hasOwnProperty(l))return!0;return!1};
Va=function(f){for(var l in f)f.hasOwnProperty(l)&&delete f[l]};var l=+new Date;Wa=function(){if("undefined"!==typeof window.performance){var f=window.performance;if("undefined"!==typeof f.now)return f.now();if("undefined"!==typeof f.webkitNow)return f.webkitNow();if("undefined"!==typeof f.mozNow)return f.mozNow();if("undefined"!==typeof f.msNow)return f.msNow()}return Date.now()-l};var f=!1,w=f=!1,E=!1;"undefined"!==typeof window&&(f=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
f=!f&&/safari/i.test(navigator.userAgent),w=/(iphone|ipod|ipad)/i.test(navigator.userAgent),E=window.c2ejecta);var F=!f&&!E&&!w&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(f){return this.pd()?!1:F?this.Jc.has(f):this.items&&this.items.hasOwnProperty(f)};p.prototype.add=function(f){if(F)this.Jc.has(f)||(this.Jc.add(f),this.Kd=!1);else{var l=f.toString(),c=this.items;c?c.hasOwnProperty(l)||(c[l]=f,this.wf++,this.Kd=!1):(this.items={},this.items[l]=
f,this.wf=1,this.Kd=!1)}};p.prototype.remove=function(f){if(!this.pd())if(F)this.Jc.has(f)&&(this.Jc["delete"](f),this.Kd=!1);else if(this.items){f=f.toString();var l=this.items;l.hasOwnProperty(f)&&(delete l[f],this.wf--,this.Kd=!1)}};p.prototype.clear=function(){this.pd()||(F?this.Jc.clear():(this.items=null,this.wf=0),this.Xf.length=0,this.Kd=!0)};p.prototype.pd=function(){return 0===this.count()};p.prototype.count=function(){return F?this.Jc.size:this.wf};var y=null,T=0;p.prototype.Du=function(){if(!this.Kd){if(F)this.Xf.length=
this.Jc.size,y=this.Xf,T=0,this.Jc.forEach(q),y=null,T=0;else{var f=this.Xf;f.length=this.wf;var l,c=0,a=this.items;if(a)for(l in a)a.hasOwnProperty(l)&&(f[c++]=a[l])}this.Kd=!0}};p.prototype.Bd=function(){this.Du();return this.Xf};ca=p;new ca;Xa=function(f,l){F?Ya(f,l.Jc):Za(f,l.Bd())};Ya=function(f,l){var c,a,w,b;a=c=0;for(w=f.length;c<w;++c)b=f[c],l.has(b)||(f[a++]=b);f.length=a};Za=function(f,l){var c,a,w,b;a=c=0;for(w=f.length;c<w;++c)b=f[c],-1===Ba(l,b)&&(f[a++]=b);f.length=a};d.prototype.add=
function(f){this.y=f-this.Vj;this.uj=this.V+this.y;this.Vj=this.uj-this.V-this.y;this.V=this.uj};d.prototype.reset=function(){this.V=this.uj=this.y=this.Vj=0};$a=d;ab=function(f){return f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};a.prototype.jh=function(f){this.fp=f;this.fj=f.length/2;this.Jf.length=f.length;this.Xj=this.Yj=-1;this.dn=0};a.prototype.wt=function(){return!this.fp.length};a.prototype.eb=function(){for(var f=this.Jf,l=f[0],c=l,a=f[1],w=a,b,h,d=1,E=this.fj;d<E;++d)h=2*d,b=f[h],h=f[h+
1],b<l&&(l=b),b>c&&(c=b),h<a&&(a=h),h>w&&(w=h);this.Xm=l;this.Ym=c;this.Zm=a;this.Wm=w};a.prototype.ih=function(f,l,c){this.Jf.length=8;this.fj=4;var a=this.Jf;a[0]=f.left-l;a[1]=f.top-c;a[2]=f.right-l;a[3]=f.top-c;a[4]=f.right-l;a[5]=f.bottom-c;a[6]=f.left-l;a[7]=f.bottom-c;this.Yj=f.right-f.left;this.Xj=f.bottom-f.top;this.eb()};a.prototype.sr=function(f,l,c){if(this.Yj!==f||this.Xj!==l||this.dn!==c){this.Yj=f;this.Xj=l;this.dn=c;var a,w,b,h,d,E=0,m=1,y=this.fp,r=this.Jf;0!==c&&(E=Math.sin(c),m=
Math.cos(c));c=0;for(b=this.fj;c<b;c++)a=2*c,w=a+1,h=y[a]*f,d=y[w]*l,r[a]=h*m-d*E,r[w]=d*m+h*E;this.eb()}};a.prototype.ec=function(f,l){var c=this.Jf;if(f===c[0]&&l===c[1])return!0;var a,w,b,h=this.fj,d=this.Xm-110,E=this.Zm-101,m=this.Ym+131,y=this.Wm+120,r,g,T=0,F=0;for(a=0;a<h;a++)w=2*a,b=(a+1)%h*2,r=c[w],w=c[w+1],g=c[b],b=c[b+1],sa(d,E,f,l,r,w,g,b)&&T++,sa(m,y,f,l,r,w,g,b)&&F++;return 1===T%2||1===F%2};bb=a;b.prototype.Ud=function(f,l,c){var a;a=this.cells[f];return a?(a=a[l])?a:c?(a=g(this,f,
l),this.cells[f][l]=a):null:c?(a=g(this,f,l),this.cells[f]={},this.cells[f][l]=a):null};b.prototype.Rb=function(f){return R(f/this.ak)};b.prototype.Sb=function(f){return R(f/this.$j)};b.prototype.update=function(f,l,c){var a,w,b,h,d;if(l)for(a=l.left,w=l.right;a<=w;++a)for(b=l.top,h=l.bottom;b<=h;++b)if(!c||!c.ec(a,b))if(d=this.Ud(a,b,!1))d.remove(f),d.pd()&&(d.Sa.clear(),1E3>x.length&&x.push(d),this.cells[a][b]=null);if(c)for(a=c.left,w=c.right;a<=w;++a)for(b=c.top,h=c.bottom;b<=h;++b)l&&l.ec(a,
b)||this.Ud(a,b,!0).Sk(f)};b.prototype.hp=function(f,l){var c,a,w,b,h,d;c=this.Rb(f.left);w=this.Sb(f.top);a=this.Rb(f.right);for(h=this.Sb(f.bottom);c<=a;++c)for(b=w;b<=h;++b)(d=this.Ud(c,b,!1))&&d.dump(l)};cb=b;t.prototype.Ud=function(f,l,c){var a;a=this.cells[f];return a?(a=a[l])?a:c?(a=m(this,f,l),this.cells[f][l]=a):null:c?(a=m(this,f,l),this.cells[f]={},this.cells[f][l]=a):null};t.prototype.Rb=function(f){return R(f/this.ak)};t.prototype.Sb=function(f){return R(f/this.$j)};t.prototype.update=
function(f,l,c){var a,w,b,h,d;if(l)for(a=l.left,w=l.right;a<=w;++a)for(b=l.top,h=l.bottom;b<=h;++b)if(!c||!c.ec(a,b))if(d=this.Ud(a,b,!1))d.remove(f),d.pd()&&(d.reset(),1E3>Q.length&&Q.push(d),this.cells[a][b]=null);if(c)for(a=c.left,w=c.right;a<=w;++a)for(b=c.top,h=c.bottom;b<=h;++b)l&&l.ec(a,b)||this.Ud(a,b,!0).Sk(f)};t.prototype.hp=function(f,l,c,a,w){var b,h;f=this.Rb(f);l=this.Sb(l);c=this.Rb(c);for(b=this.Sb(a);f<=c;++f)for(a=l;a<=b;++a)(h=this.Ud(f,a,!1))&&h.dump(w)};t.prototype.Ct=function(f){var l,
c,a,w,b;l=f.left;a=f.top;c=f.right;for(w=f.bottom;l<=c;++l)for(f=a;f<=w;++f)if(b=this.Ud(l,f,!1))b.vf=!1};db=t;var x=[];c.prototype.pd=function(){return this.Sa.pd()};c.prototype.Sk=function(f){this.Sa.add(f)};c.prototype.remove=function(f){this.Sa.remove(f)};c.prototype.dump=function(f){Aa(f,this.Sa.Bd())};ba=c;var Q=[];u.prototype.pd=function(){if(!this.Sa.length)return!0;if(this.Sa.length>this.Xc.count())return!1;this.qk();return!0};u.prototype.Sk=function(f){this.Xc.contains(f)?(this.Xc.remove(f),
this.Xc.pd()&&(this.ag=!1)):this.Sa.length?(this.Sa[this.Sa.length-1].Tc()>f.Tc()&&(this.vf=!1),this.Sa.push(f)):(this.Sa.push(f),this.vf=!0)};u.prototype.remove=function(f){this.Xc.add(f);this.ag=!0;30<=this.Xc.count()&&this.qk()};u.prototype.qk=function(){this.ag&&(this.Xc.count()===this.Sa.length?this.reset():(Xa(this.Sa,this.Xc),this.Xc.clear(),this.ag=!1))};u.prototype.Xr=function(){this.vf||(this.Sa.sort(h),this.vf=!0)};u.prototype.reset=function(){this.Sa.length=0;this.vf=!0;this.Xc.clear();
this.ag=!1};u.prototype.dump=function(f){this.qk();this.Xr();this.Sa.length&&f.push(this.Sa)};da=u;var v="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");eb=function(f){return 0>=f||11<=f?"source-over":v[f-1]};fb=function(f,l,c){if(c)switch(f.ib=c.ONE,f.hb=c.ONE_MINUS_SRC_ALPHA,l){case 1:f.ib=c.ONE;f.hb=c.ONE;break;case 3:f.ib=c.ONE;f.hb=c.ZERO;break;case 4:f.ib=c.ONE_MINUS_DST_ALPHA;f.hb=c.ONE;break;case 5:f.ib=c.DST_ALPHA;
f.hb=c.ZERO;break;case 6:f.ib=c.ZERO;f.hb=c.SRC_ALPHA;break;case 7:f.ib=c.ONE_MINUS_DST_ALPHA;f.hb=c.ZERO;break;case 8:f.ib=c.ZERO;f.hb=c.ONE_MINUS_SRC_ALPHA;break;case 9:f.ib=c.DST_ALPHA;f.hb=c.ONE_MINUS_SRC_ALPHA;break;case 10:f.ib=c.ONE_MINUS_DST_ALPHA,f.hb=c.SRC_ALPHA}};gb=function(f){return Math.round(1E6*f)/1E6};hb=function(f,l){return"string"!==typeof f||"string"!==typeof l||f.length!==l.length?!1:f===l?!0:f.toLowerCase()===l.toLowerCase()};ib=function(f){f=f.target;return!f||f===document||
f===window||document&&document.body&&f===document.body||hb(f.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(n){var k=new ac(3);n&&(k[0]=n[0],k[1]=n[1],k[2]=n[2]);return k}function cc(n){var k=new ac(16);n&&(k[0]=n[0],k[1]=n[1],k[2]=n[2],k[3]=n[3],k[4]=n[4],k[5]=n[5],k[6]=n[6],k[7]=n[7],k[8]=n[8],k[9]=n[9],k[10]=n[10],k[11]=n[11],k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);return k}
function dc(n,k){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=n[4];k[5]=n[5];k[6]=n[6];k[7]=n[7];k[8]=n[8];k[9]=n[9];k[10]=n[10];k[11]=n[11];k[12]=n[12];k[13]=n[13];k[14]=n[14];k[15]=n[15]}function ec(n,k){var e=k[0],p=k[1];k=k[2];n[0]*=e;n[1]*=e;n[2]*=e;n[3]*=e;n[4]*=p;n[5]*=p;n[6]*=p;n[7]*=p;n[8]*=k;n[9]*=k;n[10]*=k;n[11]*=k}
function fc(n,k,e,p){p||(p=cc());var q,d,a,b,t,g,c,m,u=n[0],h=n[1];n=n[2];d=e[0];a=e[1];q=e[2];e=k[1];g=k[2];u===k[0]&&h===e&&n===g?(n=p,n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1):(e=u-k[0],g=h-k[1],c=n-k[2],m=1/Math.sqrt(e*e+g*g+c*c),e*=m,g*=m,c*=m,k=a*c-q*g,q=q*e-d*c,d=d*g-a*e,(m=Math.sqrt(k*k+q*q+d*d))?(m=1/m,k*=m,q*=m,d*=m):d=q=k=0,a=g*d-c*q,b=c*k-e*d,t=e*q-g*k,(m=Math.sqrt(a*a+b*b+t*t))?(m=1/m,a*=m,b*=m,t*=m):t=b=a=0,
p[0]=k,p[1]=a,p[2]=e,p[3]=0,p[4]=q,p[5]=b,p[6]=g,p[7]=0,p[8]=d,p[9]=t,p[10]=c,p[11]=0,p[12]=-(k*u+q*h+d*n),p[13]=-(a*u+b*h+t*n),p[14]=-(e*u+g*h+c*n),p[15]=1)}
(function(){function n(d){this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.en=bc([0,0,100]);this.lo=bc([0,0,0]);this.Lp=bc([0,1,0]);this.vm=bc([1,1,1]);this.tn=!0;this.ml=cc();this.qc=cc();this.ao=cc();this.hk=cc();this.k=d;this.Pn()}function k(d,a,b){this.k=d;this.kh=a;this.name=b;this.pc=d.getAttribLocation(a,"aPos");this.Zd=d.getAttribLocation(a,"aTex");this.jo=d.getUniformLocation(a,"matP");this.Li=d.getUniformLocation(a,"matMV");this.Bf=
d.getUniformLocation(a,"opacity");this.ko=d.getUniformLocation(a,"samplerFront");this.Pg=d.getUniformLocation(a,"samplerBack");this.Ne=d.getUniformLocation(a,"destStart");this.Me=d.getUniformLocation(a,"destEnd");this.jl=d.getUniformLocation(a,"seconds");this.il=d.getUniformLocation(a,"pixelWidth");this.hl=d.getUniformLocation(a,"pixelHeight");this.Og=d.getUniformLocation(a,"layerScale");this.Ng=d.getUniformLocation(a,"layerAngle");this.Rg=d.getUniformLocation(a,"viewOrigin");this.Qg=d.getUniformLocation(a,
"scrollPos");this.ht=!!(this.il||this.hl||this.jl||this.Pg||this.Ne||this.Me||this.Og||this.Ng||this.Rg||this.Qg);this.uo=this.vo=-999;this.Ni=1;this.po=this.oo=0;this.ro=this.no=this.mo=1;this.xo=this.wo=this.zo=this.yo=this.qo=0;this.cl=[];this.so=cc();this.Bf&&d.uniform1f(this.Bf,1);this.ko&&d.uniform1i(this.ko,0);this.Pg&&d.uniform1i(this.Pg,1);this.Ne&&d.uniform2f(this.Ne,0,0);this.Me&&d.uniform2f(this.Me,1,1);this.Og&&d.uniform1f(this.Og,1);this.Ng&&d.uniform1f(this.Ng,0);this.Rg&&d.uniform2f(this.Rg,
0,0);this.Qg&&d.uniform2f(this.Qg,0,0);this.Ae=!1}function e(d,a){this.type=d;this.n=a;this.k=a.k;this.lc=this.$b=this.Po=0;this.ba=this.Kc=null;this.sp=[]}n.prototype.Pn=function(){var d=this.k,a;this.bo=1;this.Ie=this.He=null;this.Qh=1;d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.enable(d.BLEND);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);d.disable(d.CULL_FACE);d.disable(d.DEPTH_TEST);this.co=d.ONE;this.$n=d.ONE_MINUS_SRC_ALPHA;this.Fl=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.Fl);this.zh=
Array(4);this.rh=Array(4);for(a=0;4>a;a++)this.zh[a]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.zh[a]),this.rh[a]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.rh[a]);this.gd=0;this.kt=d.createBuffer();d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,this.kt);this.qm=new Float32Array(16E3);this.cm=new Float32Array(16E3);this.bp=new Float32Array(32E3);for(var b=new Uint16Array(12E3),e=a=0;12E3>a;)b[a++]=e,b[a++]=e+1,b[a++]=e+2,b[a++]=e,b[a++]=e+2,b[a++]=e+3,e+=4;d.bufferData(d.ELEMENT_ARRAY_BUFFER,b,
d.STATIC_DRAW);this.Hf=this.cd=0;this.Oa=[];a=this.fk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Oa.push(a);a=this.fk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Oa.push(a);for(var g in gc)gc.hasOwnProperty(g)&&this.Oa.push(this.fk(gc[g],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,null);this.fd=[];this.Oc=0;this.Ib=this.ub=!1;this.nn=this.Fg=-1;this.kg=null;this.zs=d.createFramebuffer();this.kp=null;this.ke=bc([0,0,0]);d=d.getParameter(d.ALIASED_POINT_SIZE_RANGE);this.Ft=d[0];this.nl=
d[1];2048<this.nl&&(this.nl=2048);this.$c(0)};k.prototype.lm=function(d){var a=this.so;if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||a[4]!==d[4]||a[5]!==d[5]||a[6]!==d[6]||a[7]!==d[7]||a[8]!==d[8]||a[9]!==d[9]||a[10]!==d[10]||a[11]!==d[11]||a[12]!==d[12]||a[13]!==d[13]||a[14]!==d[14]||a[15]!==d[15])dc(d,this.so),this.k.uniformMatrix4fv(this.Li,!1,d)};n.prototype.fk=function(d,a,b){var e=this.k,g=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(g,d.src);e.compileShader(g);if(!e.getShaderParameter(g,
e.COMPILE_STATUS))return e.deleteShader(g),null;var c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,a);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))return e.deleteShader(g),e.deleteShader(c),null;a=e.createProgram();e.attachShader(a,g);e.attachShader(a,c);e.linkProgram(a);if(!e.getProgramParameter(a,e.LINK_STATUS))return e.deleteShader(g),e.deleteShader(c),e.deleteProgram(a),null;e.useProgram(a);e.deleteShader(g);e.deleteShader(c);b=new k(e,a,b);b.Yh=d.Yh||0;b.Zh=d.Zh||0;b.gk=
!!d.gk;b.Sj=!!d.Sj;b.I=d.I||[];d=0;for(g=b.I.length;d<g;d++)b.I[d][1]=e.getUniformLocation(a,b.I[d][0]),b.cl.push(0),e.uniform1f(b.I[d][1],0);return b};n.prototype.Dk=function(d){var a,b;a=0;for(b=this.Oa.length;a<b;a++)if(this.Oa[a].name===d)return a;return-1};n.prototype.ep=function(d,a,b){var e=this.qc,g=this.ml,c=[0,0,0,0,0,0,0,0];c[0]=e[0]*d+e[4]*a+e[12];c[1]=e[1]*d+e[5]*a+e[13];c[2]=e[2]*d+e[6]*a+e[14];c[3]=e[3]*d+e[7]*a+e[15];c[4]=g[0]*c[0]+g[4]*c[1]+g[8]*c[2]+g[12]*c[3];c[5]=g[1]*c[0]+g[5]*
c[1]+g[9]*c[2]+g[13]*c[3];c[6]=g[2]*c[0]+g[6]*c[1]+g[10]*c[2]+g[14]*c[3];c[7]=-c[2];0!==c[7]&&(c[7]=1/c[7],c[4]*=c[7],c[5]*=c[7],c[6]*=c[7],b[0]=(.5*c[4]+.5)*this.width,b[1]=(.5*c[5]+.5)*this.height)};n.prototype.Nf=function(d,a,b){if(this.width!==d||this.height!==a||b){this.Sd();this.width=d;this.height=a;this.k.viewport(0,0,d,a);a=d/a;var e=this.ml,g;g=1*Math.tan(45*Math.PI/360);a*=g;d=-a;b=-g;e||(e=cc());var c=a-d,m=g-b;e[0]=2/c;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/m;e[6]=0;e[7]=0;e[8]=(a+d)/c;e[9]=
(g+b)/m;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;fc(this.en,this.lo,this.Lp,this.qc);d=[0,0];a=[0,0];this.ep(0,0,d);this.ep(1,1,a);this.vm[0]=1/(a[0]-d[0]);this.vm[1]=-1/(a[1]-d[1]);d=0;for(a=this.Oa.length;d<a;d++)b=this.Oa[d],b.Ae=!1,b.jo&&(this.k.useProgram(b.kh),this.k.uniformMatrix4fv(b.jo,!1,this.ml));this.k.useProgram(this.Oa[this.Fg].kh);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE1);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE0);
this.Ie=this.He=null}};n.prototype.fe=function(){fc(this.en,this.lo,this.Lp,this.qc);ec(this.qc,this.vm)};n.prototype.translate=function(d,a){if(0!==d||0!==a){this.ke[0]=d;this.ke[1]=a;this.ke[2]=0;var b=this.qc,e=this.ke,g=e[0],c=e[1],e=e[2];b[12]=b[0]*g+b[4]*c+b[8]*e+b[12];b[13]=b[1]*g+b[5]*c+b[9]*e+b[13];b[14]=b[2]*g+b[6]*c+b[10]*e+b[14];b[15]=b[3]*g+b[7]*c+b[11]*e+b[15]}};n.prototype.scale=function(d,a){if(1!==d||1!==a)this.ke[0]=d,this.ke[1]=a,this.ke[2]=1,ec(this.qc,this.ke)};n.prototype.lp=
function(d){if(0!==d){var a=this.qc,b,e=Math.sin(d);d=Math.cos(d);var g=a[0],c=a[1],m=a[2],u=a[3],h=a[4],r=a[5],s=a[6],l=a[7];b?a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=g*d+h*e;b[1]=c*d+r*e;b[2]=m*d+s*e;b[3]=u*d+l*e;b[4]=g*-e+h*d;b[5]=c*-e+r*d;b[6]=m*-e+s*d;b[7]=u*-e+l*d}};n.prototype.me=function(){for(var d=!1,a=0;16>a;a++)if(this.ao[a]!==this.qc[a]){d=!0;break}d&&(d=this.uc(),d.type=5,d.ba?dc(this.qc,d.ba):d.ba=cc(this.qc),dc(this.qc,
this.ao),this.Ib=this.ub=!1)};e.prototype.Nr=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Kc)};e.prototype.Or=function(){var d=this.k;d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,this.Kc);d.activeTexture(d.TEXTURE0)};e.prototype.Kr=function(){var d=this.Po,a=this.n;a.Qh=d;a=a.kg;a.Bf&&a.Ni!==d&&(a.Ni=d,this.k.uniform1f(a.Bf,d))};e.prototype.Hr=function(){this.k.drawElements(this.k.TRIANGLES,this.lc,this.k.UNSIGNED_SHORT,2*this.$b)};e.prototype.Jr=function(){this.k.blendFunc(this.$b,
this.lc)};e.prototype.Pr=function(){var d,a,b,e=this.n.Oa,g=this.n.nn;d=0;for(a=e.length;d<a;d++)b=e[d],d===g&&b.Li?(b.lm(this.ba),b.Ae=!0):b.Ae=!1;dc(this.ba,this.n.hk)};e.prototype.Ir=function(){var d=this.k,a=this.n;this.Kc?(a.Ie===this.Kc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,null),a.Ie=null,d.activeTexture(d.TEXTURE0)),d.bindFramebuffer(d.FRAMEBUFFER,a.zs),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.Kc,0)):(d.framebufferTexture2D(d.FRAMEBUFFER,
d.COLOR_ATTACHMENT0,d.TEXTURE_2D,null,0),d.bindFramebuffer(d.FRAMEBUFFER,null))};e.prototype.Fr=function(){var d=this.k;0===this.$b?(d.clearColor(this.ba[0],this.ba[1],this.ba[2],this.ba[3]),d.clear(d.COLOR_BUFFER_BIT)):(d.enable(d.SCISSOR_TEST),d.scissor(this.ba[0],this.ba[1],this.ba[2],this.ba[3]),d.clearColor(0,0,0,0),d.clear(this.k.COLOR_BUFFER_BIT),d.disable(d.SCISSOR_TEST))};e.prototype.Gr=function(){var d=this.k,a=this.n,b=a.Oa[1];d.useProgram(b.kh);!b.Ae&&b.Li&&(b.lm(a.hk),b.Ae=!0);d.enableVertexAttribArray(b.pc);
d.bindBuffer(d.ARRAY_BUFFER,a.Fl);d.vertexAttribPointer(b.pc,4,d.FLOAT,!1,0,0);d.drawArrays(d.POINTS,this.$b/4,this.lc);b=a.kg;d.useProgram(b.kh);0<=b.pc&&(d.enableVertexAttribArray(b.pc),d.bindBuffer(d.ARRAY_BUFFER,a.zh[a.gd]),d.vertexAttribPointer(b.pc,2,d.FLOAT,!1,0,0));0<=b.Zd&&(d.enableVertexAttribArray(b.Zd),d.bindBuffer(d.ARRAY_BUFFER,a.rh[a.gd]),d.vertexAttribPointer(b.Zd,2,d.FLOAT,!1,0,0))};e.prototype.Lr=function(){var d=this.k,a=this.n,b=a.Oa[this.$b];a.nn=this.$b;a.kg=b;d.useProgram(b.kh);
!b.Ae&&b.Li&&(b.lm(a.hk),b.Ae=!0);b.Bf&&b.Ni!==a.Qh&&(b.Ni=a.Qh,d.uniform1f(b.Bf,a.Qh));0<=b.pc&&(d.enableVertexAttribArray(b.pc),d.bindBuffer(d.ARRAY_BUFFER,a.zh[a.gd]),d.vertexAttribPointer(b.pc,2,d.FLOAT,!1,0,0));0<=b.Zd&&(d.enableVertexAttribArray(b.Zd),d.bindBuffer(d.ARRAY_BUFFER,a.rh[a.gd]),d.vertexAttribPointer(b.Zd,2,d.FLOAT,!1,0,0))};e.prototype.Mr=function(){var d,a,b=this.n.kg,e=this.k;d=this.ba;b.Pg&&this.n.Ie!==this.Kc&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.Kc),
this.n.Ie=this.Kc,e.activeTexture(e.TEXTURE0));var g=d[0];b.il&&g!==b.vo&&(b.vo=g,e.uniform1f(b.il,g));g=d[1];b.hl&&g!==b.uo&&(b.uo=g,e.uniform1f(b.hl,g));g=d[2];a=d[3];!b.Ne||g===b.oo&&a===b.po||(b.oo=g,b.po=a,e.uniform2f(b.Ne,g,a));g=d[4];a=d[5];!b.Me||g===b.mo&&a===b.no||(b.mo=g,b.no=g,e.uniform2f(b.Me,g,a));g=d[6];b.Og&&g!==b.ro&&(b.ro=g,e.uniform1f(b.Og,g));g=d[7];b.Ng&&g!==b.qo&&(b.qo=g,e.uniform1f(b.Ng,g));g=d[8];a=d[9];!b.Rg||g===b.yo&&a===b.zo||(b.yo=g,b.zo=a,e.uniform2f(b.Rg,g,a));g=d[10];
a=d[11];!b.Qg||g===b.wo&&a===b.xo||(b.wo=g,b.xo=a,e.uniform2f(b.Qg,g,a));b.jl&&e.uniform1f(b.jl,Wa()/1E3);if(b.I.length)for(d=0,a=b.I.length;d<a;d++)g=this.sp[d],g!==b.cl[d]&&(b.cl[d]=g,e.uniform1f(b.I[d][1],g))};n.prototype.uc=function(){this.Oc===this.fd.length&&this.fd.push(new e(0,this));return this.fd[this.Oc++]};n.prototype.Sd=function(){if(0!==this.Oc&&!this.k.isContextLost()){var d=this.k;0<this.Hf&&(d.bindBuffer(d.ARRAY_BUFFER,this.Fl),d.bufferData(d.ARRAY_BUFFER,this.bp.subarray(0,this.Hf),
d.STREAM_DRAW),a&&0<=a.pc&&"<point>"===a.name&&d.vertexAttribPointer(a.pc,4,d.FLOAT,!1,0,0));if(0<this.cd){var a=this.kg;d.bindBuffer(d.ARRAY_BUFFER,this.zh[this.gd]);d.bufferData(d.ARRAY_BUFFER,this.qm.subarray(0,this.cd),d.STREAM_DRAW);a&&0<=a.pc&&"<point>"!==a.name&&d.vertexAttribPointer(a.pc,2,d.FLOAT,!1,0,0);d.bindBuffer(d.ARRAY_BUFFER,this.rh[this.gd]);d.bufferData(d.ARRAY_BUFFER,this.cm.subarray(0,this.cd),d.STREAM_DRAW);a&&0<=a.Zd&&"<point>"!==a.name&&d.vertexAttribPointer(a.Zd,2,d.FLOAT,
!1,0,0)}for(var b,d=0,a=this.Oc;d<a;d++)switch(b=this.fd[d],b.type){case 1:b.Hr();break;case 2:b.Nr();break;case 3:b.Kr();break;case 4:b.Jr();break;case 5:b.Pr();break;case 6:b.Ir();break;case 7:b.Fr();break;case 8:b.Gr();break;case 9:b.Lr();break;case 10:b.Mr();break;case 11:b.Or()}this.Hf=this.cd=this.Oc=0;this.Ib=this.ub=!1;this.gd++;4<=this.gd&&(this.gd=0)}};n.prototype.Se=function(d){if(d!==this.bo){var a=this.uc();a.type=3;this.bo=a.Po=d;this.Ib=this.ub=!1}};n.prototype.Nb=function(d){if(d!==
this.He){var a=this.uc();a.type=2;this.He=a.Kc=d;this.Ib=this.ub=!1}};n.prototype.ge=function(d,a){if(d!==this.co||a!==this.$n){var b=this.uc();b.type=4;b.$b=d;b.lc=a;this.co=d;this.$n=a;this.Ib=this.ub=!1}};n.prototype.op=function(){this.ge(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};n.prototype.eh=function(d,a,b,e,g,c,m,u){15992<=this.cd&&this.Sd();var h=this.cd,r=this.qm,s=this.cm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var l=this.uc();l.type=1;l.$b=h/4*3;l.lc=6;this.ub=!0;this.Ib=!1}r[h]=d;s[h++]=
0;r[h]=a;s[h++]=0;r[h]=b;s[h++]=1;r[h]=e;s[h++]=0;r[h]=g;s[h++]=1;r[h]=c;s[h++]=1;r[h]=m;s[h++]=0;r[h]=u;s[h++]=1;this.cd=h};n.prototype.de=function(d,a,b,e,g,c,m,u,h){15992<=this.cd&&this.Sd();var r=this.cd,s=this.qm,l=this.cm;if(this.ub)this.fd[this.Oc-1].lc+=6;else{var f=this.uc();f.type=1;f.$b=r/4*3;f.lc=6;this.ub=!0;this.Ib=!1}var f=h.left,w=h.top,E=h.right;h=h.bottom;s[r]=d;l[r++]=f;s[r]=a;l[r++]=w;s[r]=b;l[r++]=E;s[r]=e;l[r++]=w;s[r]=g;l[r++]=E;s[r]=c;l[r++]=h;s[r]=m;l[r++]=f;s[r]=u;l[r++]=
h;this.cd=r};n.prototype.Tt=function(d,a,b,e){7996<=this.Hf&&this.Sd();var g=this.Hf,c=this.bp;if(this.Ib)this.fd[this.Oc-1].lc++;else{var m=this.uc();m.type=8;m.$b=g;m.lc=1;this.Ib=!0;this.ub=!1}c[g++]=d;c[g++]=a;c[g++]=b;c[g++]=e;this.Hf=g};n.prototype.$c=function(d){if(this.Fg!==d){if(!this.Oa[d]){if(0===this.Fg)return;d=0}var a=this.uc();a.type=9;this.Fg=a.$b=d;this.Ib=this.ub=!1}};n.prototype.bh=function(d){d=this.Oa[d];return!(!d.Ne&&!d.Me)};n.prototype.Gl=function(d){d=this.Oa[d];return!!(d.Ne||
d.Me||d.gk)};n.prototype.$t=function(d){d=this.Oa[d];return 0!==d.Yh||0!==d.Zh};n.prototype.Os=function(d){return this.Oa[d].Yh};n.prototype.Ps=function(d){return this.Oa[d].Zh};n.prototype.Qs=function(d,a){return this.Oa[d].I[a][2]};n.prototype.ej=function(d){return this.Oa[d].Sj};n.prototype.Mf=function(d,a,b,e,g,c,m,u,h,r,s,l,f,w){var E=this.Oa[this.Fg],F,y;if(E.ht||w.length){F=this.uc();F.type=10;F.ba?dc(this.qc,F.ba):F.ba=cc();y=F.ba;y[0]=a;y[1]=b;y[2]=e;y[3]=g;y[4]=c;y[5]=m;y[6]=u;y[7]=h;y[8]=
r;y[9]=s;y[10]=l;y[11]=f;F.Kc=E.Pg?d:null;if(w.length)for(b=F.sp,b.length=w.length,d=0,a=w.length;d<a;d++)b[d]=w[d];this.Ib=this.ub=!1}};n.prototype.clear=function(d,a,b,e){var g=this.uc();g.type=7;g.$b=0;g.ba||(g.ba=cc());g.ba[0]=d;g.ba[1]=a;g.ba[2]=b;g.ba[3]=e;this.Ib=this.ub=!1};n.prototype.clearRect=function(d,a,b,e){if(!(0>b||0>e)){var g=this.uc();g.type=7;g.$b=1;g.ba||(g.ba=cc());g.ba[0]=d;g.ba[1]=a;g.ba[2]=b;g.ba[3]=e;this.Ib=this.ub=!1}};n.prototype.Zt=function(){this.Sd();this.k.flush()};
var p=[],q={};n.prototype.wr=function(){p.length=0;q={}};n.prototype.yf=function(d,a,b,e){a=!!a;b=!!b;var g=d.src+","+a+","+b+(a?",undefined":""),c=null;if("undefined"!==typeof d.src&&q.hasOwnProperty(g))return c=q[g],c.Fh++,c;this.Sd();var m=this.k,u=ia(d.width)&&ia(d.height),c=m.createTexture();m.bindTexture(m.TEXTURE_2D,c);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var h=m.RGBA,r=m.RGBA,s=m.UNSIGNED_BYTE;if(e&&!this.Fe)switch(e){case 1:r=h=m.RGB;break;case 2:s=m.UNSIGNED_SHORT_4_4_4_4;
break;case 3:s=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:r=h=m.RGB,s=m.UNSIGNED_SHORT_5_6_5}if(!u&&a){e=document.createElement("canvas");e.width=ja(d.width);e.height=ja(d.height);var l=e.getContext("2d");l.webkitImageSmoothingEnabled=b;l.mozImageSmoothingEnabled=b;l.msImageSmoothingEnabled=b;l.imageSmoothingEnabled=b;l.drawImage(d,0,0,d.width,d.height,0,0,e.width,e.height);m.texImage2D(m.TEXTURE_2D,0,h,r,s,e)}else m.texImage2D(m.TEXTURE_2D,0,h,r,s,d);a?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));b?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),u&&this.tn?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.He=null;c.fg=d.width;c.eg=d.height;c.Fh=1;c.cn=g;p.push(c);return q[g]=c};n.prototype.Pd=function(d,a,b){var e;this.Sd();var g=this.k;this.Fe&&(e=!1);var c=g.createTexture();g.bindTexture(g.TEXTURE_2D,c);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,a,0,g.RGBA,e?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,b?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.He=null;c.fg=d;c.eg=a;p.push(c);return c};n.prototype.deleteTexture=function(d){d&&("undefined"!==typeof d.Fh&&1<d.Fh?d.Fh--:(this.Sd(),d===this.He&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.He=null),d===this.Ie&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.Ie=
null),Ca(p,d),"undefined"!==typeof d.cn&&delete q[d.cn],this.k.deleteTexture(d)))};n.prototype.Zc=function(d){if(d!==this.kp){var a=this.uc();a.type=6;this.kp=a.Kc=d;this.Ib=this.ub=!1}};jb=n})();
(function(){function n(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function k(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function e(l){if(l&&(l.getContext||l.dc)&&!l.c2runtime){l.c2runtime=this;var f=this;this.Xb=(this.zg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.$a=!!l.dc;this.pf="undefined"!==typeof window.AppMobi||this.$a;this.Wb=!!window.c2cocoonjs;this.mc=!!window.c2ejecta;this.Wb&&(CocoonJS.App.onSuspended.addEventListener(function(){f.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){f.setSuspended(!1)}));this.mc&&(document.addEventListener("pagehide",function(){f.setSuspended(!0)}),document.addEventListener("pageshow",
function(){f.setSuspended(!1)}),document.addEventListener("resize",function(){f.setSize(window.innerWidth,window.innerHeight)}));this.ga=this.$a||this.Wb||this.mc;this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Vn=/tizen/i.test(navigator.userAgent);this.pi=/android/i.test(navigator.userAgent)&&!this.Vn&&!this.Fe;this.al=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Fe;this.Zn=/ipad/i.test(navigator.userAgent);this.xi=this.al||this.Zn||this.mc;this.xt=this.al&&/os\s6/i.test(navigator.userAgent);this.yg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Fe;this.Vk=/amazonwebappplatform/i.test(navigator.userAgent);this.ot=/firefox/i.test(navigator.userAgent);this.Un=/safari/i.test(navigator.userAgent)&&!this.yg&&!this.Fe;this.tt=/windows/i.test(navigator.userAgent);this.Xd="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Wn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Xn=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.sf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ri=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Zk=this.Wn||this.Xn||this.ri;this.nt=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.qi=this.pi&&!this.yg&&!this.zg&&!this.ot&&!this.Vk&&!this.ga;this.devicePixelRatio=1;this.qd=this.Xb||this.zg||this.pf||this.Wb||this.pi||this.xi||this.sf||this.ri||this.nt||this.Vn||this.mc;this.qd||(this.qd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Xd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.Xd=!0);this.canvas=l;this.gn=document.getElementById("c2canvasdiv");this.ea=this.n=this.k=null;this.tk="";this.bi=!1;this.Jo=this.Ko=0;this.canvas.oncontextmenu=function(f){f.preventDefault&&f.preventDefault();return!1};this.canvas.onselectstart=function(f){f.preventDefault&&f.preventDefault();return!1};this.$a&&(window.c2runtime=this);this.Xd&&(window.ondragover=function(f){f.preventDefault();return!1},window.ondrop=function(f){f.preventDefault();return!1},require("nw.gui").App.clearCache());
this.qi&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=l.width;this.height=l.height;this.L=this.width;this.K=this.height;this.Oh=this.width;this.Nh=this.height;this.Hg=window.innerWidth;this.Gg=window.innerHeight;this.Bs=!1;this.ca=!0;this.Bg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.m=[];this.Ea=[];this.fl={};this.Hc=[];this.nk={};this.ld=[];this.Zf=[];this.Bj=[];this.lr=[];this.mr=[];this.te={};this.Wk=
this.Vd=!1;this.Fc=0;this.Yk=!1;this.Qc=[];this.rd=this.kb=this.Hi=this.Tl="";this.oh=this.wp=!1;this.ek=this.Sg=this.Rd=this.ve=0;this.We=1;this.yb=new $a;this.dd=new $a;this.Ri=this.di=this.Xh=this.vh=this.Ke=this.sk=this.Ei=0;this.bk=null;this.kk=[];this.mk=[];this.Wh=-1;this.kl=[[]];this.im=this.Mi=0;this.Il(null);this.ng=this.Eo=this.Vg=0;this.ph=[];this.fm=this.Jl=-1;this.yi=!0;this.Af=0;this.Ag=!1;this.uu=0;this.df=null;this.za=this.of=!1;this.Io=new ca;this.tl=new ca;this.ul=new ca;this.cu=
[];new bb([]);new bb([]);this.cf=[];this.ki={};this.hf={};this.bf={};this.Yf={};this.$m={};this.ho=this.Gi=this.Jb=this.Zb=this.fo=this.Fi=this.ja=null;this.Wf=this.$k=!1;this.uk=[null,null];this.ye=0;this.pk="";this.td={};this.oj=this.zf=null;this.Qi=[];this.du()}}function p(l){l.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(l,f,c,a){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=a;b.onsuccess=function(b){b=b.target.result;b.onerror=a;b.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:l,data:f}).onsuccess=c}}function d(l,f,c){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=p;a.onerror=c;a.onsuccess=function(a){a=a.target.result;a.onerror=c;var b=a.transaction(["saves"]).objectStore("saves").get(l);b.onsuccess=function(){b.result?f(b.result.data):f(null)}}}function a(){M("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+=
"?continuous"}function b(l){var f,c={};for(f in l)!l.hasOwnProperty(f)||l[f]instanceof ca||l[f]&&"undefined"!==typeof l[f].Lv||(c[f]=l[f]);return c}e.prototype.du=function(){var l=this,f;f=this.sf?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Wn||this.sf||this.ri)c="data.json";f.open("GET",c,!0);var a=!1;if(!this.ga&&"response"in f&&"responseType"in f)try{f.responseType="json",a="json"===f.responseType}catch(b){a=!1}if(!a&&"responseType"in f)try{f.responseType=
"text"}catch(h){}if("overrideMimeType"in f)try{f.overrideMimeType("application/json; charset=utf-8")}catch(d){}this.sf?f.onreadystatechange=function(){4===f.readyState&&l.Ji(JSON.parse(f.responseText))}:(f.onload=function(){if(a)l.Ji(f.response);else if(l.mc){var c=f.responseText,c=c.substr(c.indexOf("{"));l.Ji(JSON.parse(c))}else l.Ji(JSON.parse(f.responseText))},f.onerror=function(f){fa("Error requesting "+c+":");fa(f)});f.send()};e.prototype.lt=function(){var l=this,f,c,a,b,h,d,m,e,r;this.devicePixelRatio=
(this.rf=(!this.ga||this.mc)&&this.Gu&&!this.qi)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.fb();c=!(!this.Bs&&(!this.Qj||this.Xd||this.Zk||this.sf||this.zg||this.Xb||this.Vk));0<this.tb&&this.setSize(n(),k(),!0);try{this.Vr&&(this.Wb||this.mc||!this.ga)&&(f={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",f)||this.canvas.getContext("experimental-webgl",f))}catch(g){}if(this.k){this.ga||
(this.ab=document.createElement("canvas"),jQuery(this.ab).appendTo(this.canvas.parentNode),this.ab.oncontextmenu=function(){return!1},this.ab.onselectstart=function(){return!1},this.ab.width=this.Oh,this.ab.height=this.Nh,jQuery(this.ab).css({width:this.Oh+"px",height:this.Nh+"px"}),this.dp(),this.El=this.ab.getContext("2d"));this.n=new jb(this.k,this.qd);this.n.Nf(this.canvas.width,this.canvas.height);this.n.tn=0!==this.Qr;this.ea=null;this.canvas.addEventListener("webglcontextlost",function(f){f.preventDefault();
l.It();M("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){l.n.Pn();l.n.Nf(l.n.width,l.n.height,!0);l.Zb=null;l.Jb=null;l.uk[0]=null;l.uk[1]=null;l.Jt();l.ca=!0;M("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);f=0;for(c=this.m.length;f<c;f++)for(h=this.m[f],a=0,b=h.F.length;a<b;a++)m=h.F[a],m.cb=this.n.Dk(m.id),this.Wf=this.Wf||this.n.bh(m.cb);f=0;for(c=this.Hc.length;f<c;f++){e=this.Hc[f];a=
0;for(b=e.F.length;a<b;a++)m=e.F[a],m.cb=this.n.Dk(m.id);a=0;for(b=e.J.length;a<b;a++)for(r=e.J[a],h=0,d=r.F.length;h<d;h++)m=r.F[h],m.cb=this.n.Dk(m.id),this.Wf=this.Wf||this.n.bh(m.cb)}}else{if(0<this.tb&&this.$a){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ea=AppMobi.canvas.getContext("2d");try{this.ea.samplingMode=this.P?"smooth":"sharp",this.ea.globalScale=1,this.ea.HTML5CompatibilityMode=!0,this.ea.imageSmoothingEnabled=this.P}catch(u){}0!==
this.width&&0!==this.height&&(this.ea.width=this.width,this.ea.height=this.height)}this.ea||(f=this.Wb?{antialias:!!this.P,alpha:c}:{alpha:c},this.ea=this.canvas.getContext("2d",f),this.ea.webkitImageSmoothingEnabled=this.P,this.ea.mozImageSmoothingEnabled=this.P,this.ea.msImageSmoothingEnabled=this.P,this.ea.imageSmoothingEnabled=this.P);this.El=this.ab=null}this.Cp=function(f){l.Pa(!1,f)};window==window.top||this.ga||this.Zk||this.sf||(document.addEventListener("mousedown",function(){window.focus()},
!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Wb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(M("Reloading for continuous preview"),this.Hi="__c2_continuouspreview",this.oh=!0),this.Rt&&!this.qd&&(jQuery(window).focus(function(){l.setSuspended(!1)}),jQuery(window).blur(function(){l.setSuspended(!0)})));this.ga||(f=function(f){if(ib(f)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(l){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",f):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",f):document.addEventListener("touchstart",f),document.addEventListener("mousedown",f));0===this.tb&&this.rf&&1<this.devicePixelRatio&&this.setSize(this.La,this.Ka,!0);this.Hp();this.dt();this.go();this.X={}};e.prototype.setSize=
function(l,f,c){var a=0,b=0,h=0,d=0,d=0,m=this.xt&&this.Un&&!navigator.standalone&&!this.ga&&!this.Xb;m&&(f+=60);if(this.Hg!==l||this.Gg!==f||c){this.Hg=l;this.Gg=f;var e=this.tb,r=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ag)&&!this.Xb;if(r||0!==this.tb||c)r&&0<this.ye&&(e=this.ye),c=this.devicePixelRatio,4<=e?(h=this.La/this.Ka,l/f>h?(h*=f,5===e?(d=h*c/this.La,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),h=this.La*d/c,d=this.Ka*
d/c,a=(l-h)/2,b=(f-d)/2,l=h,f=d):(a=(l-h)/2,l=h)):(d=l/h,5===e?(d=d*c/this.Ka,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),h=this.La*d/c,d=this.Ka*d/c,a=(l-h)/2,b=(f-d)/2,l=h):b=(f-d)/2,f=d),r&&!this.Xd&&(b=a=0)):this.Xd&&this.Ag&&0===this.zn&&(a=Math.floor((l-this.La)/2),b=Math.floor((f-this.Ka)/2),l=this.La,f=this.Ka),2>e&&(this.dg=c),this.rf&&this.Zn&&1<c&&(1024<=l&&(l=1023),1024<=f&&(f=1023)),this.Oh=Math.round(l),this.Nh=Math.round(f),this.width=Math.round(l*c),this.height=Math.round(f*c),this.ca=
!0,this.Tp?(this.L=this.width,this.K=this.height,this.jc=!0):this.width<this.La&&this.height<this.Ka||1===e?(this.L=this.width,this.K=this.height,this.jc=!0):(this.L=this.La,this.K=this.Ka,this.jc=!1,2===e?(h=this.La/this.Ka,e=this.Hg/this.Gg,e<h?this.L=this.K*e:e>h&&(this.K=this.L/e)):3===e&&(h=this.La/this.Ka,e=this.Hg/this.Gg,e>h?this.L=this.K*e:e<h&&(this.K=this.L/e))),this.gn&&!this.ga&&(jQuery(this.gn).css({width:Math.round(l)+"px",height:Math.round(f)+"px","margin-left":Math.floor(a)+"px",
"margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(l)+"px",height:Math.round(f)+"px"})),this.canvas&&(this.canvas.width=Math.round(l*c),this.canvas.height=Math.round(f*c),this.mc?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(l)+"px",this.canvas.style.height=Math.round(f)+"px"):this.rf&&!this.ga&&jQuery(this.canvas).css({width:Math.round(l)+"px",height:Math.round(f)+
"px"})),this.ab&&(this.ab.width=Math.round(l),this.ab.height=Math.round(f),jQuery(this.ab).css({width:Math.round(l)+"px",height:Math.round(f)+"px"})),this.n&&this.n.Nf(Math.round(l*c),Math.round(f*c)),this.$a&&this.ea&&(this.ea.width=Math.round(l),this.ea.height=Math.round(f)),this.ea&&(this.ea.webkitImageSmoothingEnabled=this.P,this.ea.mozImageSmoothingEnabled=this.P,this.ea.msImageSmoothingEnabled=this.P,this.ea.imageSmoothingEnabled=this.P),this.Hp(),this.ga||!m&&!this.al||window.setTimeout(function(){window.scrollTo(0,
1)},100)}};e.prototype.Hp=function(){if(this.or&&0!==this.Cl){var l="portrait";2===this.Cl&&(l="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(l):screen.lockOrientation?screen.lockOrientation(l):screen.webkitLockOrientation?screen.webkitLockOrientation(l):screen.mozLockOrientation?screen.mozLockOrientation(l):screen.msLockOrientation&&screen.msLockOrientation(l)}};e.prototype.It=function(){this.n.wr();this.$k=!0;var l,f,c;l=0;for(f=this.m.length;l<f;l++)c=this.m[l],
c.Si&&c.Si()};e.prototype.Jt=function(){this.$k=!1;var l,f,c;l=0;for(f=this.m.length;l<f;l++)c=this.m[l],c.Ui&&c.Ui()};e.prototype.dp=function(){if(!this.ga){var l=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ag)&&!this.Xb?jQuery(this.canvas).offset():jQuery(this.canvas).position();l.position="absolute";jQuery(this.ab).css(l)}};var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;e.prototype.setSuspended=function(l){var f;if(l&&!this.Bg)for(M("[Construct 2] Suspending"),this.Bg=!0,-1!==this.Jl&&t&&t(this.Jl),-1!==this.fm&&clearTimeout(this.fm),l=0,f=this.ph.length;l<f;l++)this.ph[l](!0);else if(!l&&this.Bg){M("[Construct 2] Resuming");this.Bg=!1;this.Ei=Wa();this.Ke=Wa();l=this.Sg=this.di=0;for(f=this.ph.length;l<f;l++)this.ph[l](!1);this.Pa(!1)}};e.prototype.Qm=function(l){this.ph.push(l)};e.prototype.Ed=function(l){return this.Qi[l]};e.prototype.Ji=
function(l){l&&l.project||fa("Project model unavailable");l=l.project;this.name=l[0];this.yn=l[1];this.tb=l[12];this.zn=l[12];this.La=l[10];this.Ka=l[11];this.Wo=this.La/2;this.Xo=this.Ka/2;this.ga&&!this.mc&&(4<=l[12]||0===l[12])&&(M("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.zn=this.tb=3);this.om=l[18];this.Mg=l[19];0===this.Mg&&(this.zf=new Image,this.zf.src="loading-logo.png");this.Vg=l[21];this.Qi=hc();this.ad=new X(this);
var f,c,a,b,h,d,m,e,r;f=0;for(c=l[2].length;f<c;f++)m=l[2][f],a=this.Ed(m[0]),kb(m,a.prototype),r=new a(this),r.mj=m[1],r.Yd=m[2],r.Co=m[9],r.S&&r.S(),this.plugins.push(r);this.Qi=hc();f=0;for(c=l[3].length;f<c;f++){m=l[3][f];h=this.Ed(m[1]);r=null;a=0;for(b=this.plugins.length;a<b;a++)if(this.plugins[a]instanceof h){r=this.plugins[a];break}var g=new r.ta(r);g.name=m[0];g.A=m[2];g.Tk=m[3].slice(0);g.Iu=m[3].length;g.pr=m[4];g.Ds=m[5];g.M=m[11];g.A?(g.Oi=[],g.md=this.ng++,g.ra=null):(g.Oi=null,g.md=
-1,g.ra=[]);g.$h=null;g.kf=null;g.un=null;g.Yb=!1;g.Fb=null;m[6]?(g.vj=m[6][0],g.em=m[6][1],g.uh=m[6][2]):(g.vj=null,g.em=0,g.uh=0);g.Eb=m[7]?m[7]:null;g.index=f;g.c=[];g.Sh=[];g.ie=[new lb(g)];g.kd=0;g.hc=null;g.Er=0;g.Rf=!0;g.Dj=mb;g.Hs=nb;g.Ms=ob;g.fa=pb;g.dh=qb;g.Hl=rb;g.If=sb;g.fi=ub;g.wk=vb;g.Ak=wb;g.Id=xb;g.Fn=yb;g.jn=new cb(this.La,this.Ka);g.Tm=!0;g.Um=!1;g.X={};g.toString=zb;g.Ea=[];a=0;for(b=m[8].length;a<b;a++){e=m[8][a];var u=this.Ed(e[1]),s=null;h=0;for(d=this.Ea.length;h<d;h++)if(this.Ea[h]instanceof
u){s=this.Ea[h];break}s||(s=new u(this),s.Do=[],s.Pi=new ca,s.S&&s.S(),this.Ea.push(s));-1===s.Do.indexOf(g)&&s.Do.push(g);h=new s.ta(s,g);h.name=e[0];h.M=e[2];h.S();g.Ea.push(h)}g.global=m[9];g.Xk=m[10];g.F=[];a=0;for(b=m[12].length;a<b;a++)g.F.push({id:m[12][a][0],name:m[12][a][1],cb:-1,Qa:!0,index:a});g.Xv=m[13];this.om&&!g.A&&!g.Xk&&r.Yd||g.S();g.name&&(this.types[g.name]=g);this.m.push(g);r.mj&&(a=new r.ka(g),a.uid=this.Vg++,a.gp=this.Eo++,a.Ce=0,a.sg=Ab,a.toString=Bb,a.Y=m[14],a.S(),g.c.push(a),
this.td[a.uid.toString()]=a)}f=0;for(c=l[4].length;f<c;f++)for(h=l[4][f],d=this.m[h[0]],a=1,b=h.length;a<b;a++)m=this.m[h[a]],m.ra.push(d),d.Oi.push(m);f=0;for(c=l[27].length;f<c;f++){h=l[27][f];d=[];a=0;for(b=h.length;a<b;a++)d.push(this.m[h[a]]);a=0;for(b=d.length;a<b;a++)d[a].Yb=!0,d[a].Fb=d}if(0<this.ng)for(f=0,c=this.m.length;f<c;f++)if(m=this.m[f],!m.A&&m.ra.length){m.$h=Array(this.ng);m.kf=Array(this.ng);m.un=Array(this.ng);g=[];a=s=u=e=0;for(b=m.ra.length;a<b;a++)for(r=m.ra[a],m.$h[r.md]=
e,e+=r.Iu,m.kf[r.md]=u,u+=r.pr,m.un[r.md]=s,s+=r.Ds,h=0,d=r.F.length;h<d;h++)g.push(xa({},r.F[h]));m.F=g.concat(m.F);a=0;for(b=m.F.length;a<b;a++)m.F[a].index=a}f=0;for(c=l[5].length;f<c;f++)m=l[5][f],a=new Cb(this,m),this.fl[a.name]=a,this.Hc.push(a);f=0;for(c=l[6].length;f<c;f++)m=l[6][f],a=new Db(this,m),this.nk[a.name]=a,this.ld.push(a);f=0;for(c=this.ld.length;f<c;f++)this.ld[f].Ca();f=0;for(c=this.ld.length;f<c;f++)this.ld[f].km();f=0;for(c=this.Bj.length;f<c;f++)this.Bj[f].Ca();this.Bj.length=
0;this.nr=l[7];this.pk=l[8];this.Yc=l[9];this.dg=1;this.Vr=l[13];this.P=l[14];this.Qj=l[15];this.Gu=l[17];this.Cl=l[20];this.or=0<this.Cl;this.Rt=l[22];this.jc=this.Tp=l[23];this.Qr=l[24];this.Xt=l[25];this.rj=Date.now();this.Qi.length=0;this.lt()};var g=!1;e.prototype.tm=function(l,f){l.cocoonLazyLoad=!0;l.onerror=function(f){g=l.bn=!0;console&&console.error&&console.error("Error loading image '"+l.src+"': ",f)};this.mc?l.src=f:l.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(f){l.src=
f},function(c){g=l.bn=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",c)}):l.src=f);this.Zf.push(l)};e.prototype.As=function(l){var f,c;f=0;for(c=this.Zf.length;f<c;f++)if(this.Zf[f].Ar===l)return this.Zf[f];return null};var c=0,m=!1;e.prototype.dt=function(){this.df&&(c=this.df.qu(this.nr))};e.prototype.Vm=function(){var l=c,f=0,a=0,b=!0,h,d,a=0;for(h=this.Zf.length;a<h;a++){d=this.Zf[a];var g=d.ln;if(!g||0>=g)g=5E4;l+=g;d.src&&(d.complete||d.loaded)&&
!d.bn?f+=g:b=!1}b&&this.Xt&&this.df&&(m||(this.df.vu(),m=!0),a=this.df.Ns(),f+=a,a<c&&(b=!1));this.Re=0==l?0:f/l;return b};e.prototype.go=function(){if(this.ea||this.n){var l=this.ea||this.El;this.ab&&this.dp();this.Re=0;this.eo=-1;if(this.Vm())this.et();else{var f=Date.now()-this.rj;if(l){var c=this.width,a=this.height,b=this.devicePixelRatio;this.ab&&(c=this.Oh,a=this.Nh,b=1);if(3!==this.Mg&&(this.Wb||500<=f&&this.eo!=this.Re)){l.clearRect(0,0,c,a);var f=c/2,a=a/2,c=0===this.Mg&&this.zf.complete,
h=40*b,d=0,m=80*b,e;c&&(m=this.zf.width*b,e=this.zf.height*b,h=m/2,d=e/2,l.drawImage(this.zf,R(f-h),R(a-d),m,e));1>=this.Mg?(f=R(f-h)+.5,a=R(a+(d+(c?12*b:0)))+.5,l.fillStyle=g?"red":"DodgerBlue",l.fillRect(f,a,Math.floor(m*this.Re),6*b),l.strokeStyle="black",l.strokeRect(f,a,m,6*b),l.strokeStyle="white",l.strokeRect(f-1*b,a-1*b,m+2*b,8*b)):2===this.Mg&&(l.font=this.mc?"12pt ArialMT":"12pt Arial",l.fillStyle=g?"#f00":"#999",l.Wv="middle",b=Math.round(100*this.Re)+"%",c=l.measureText?l.measureText(b):
null,l.fillText(b,f-(c?c.width:0)/2,a))}this.eo=this.Re}setTimeout(function(f){return function(){f.go()}}(this),this.Wb?10:100)}}};e.prototype.et=function(){this.ab&&(this.canvas.parentNode.removeChild(this.ab),this.ab=this.El=null);this.rj=Date.now();this.Ke=Wa();var l,f,c;if(this.om)for(l=0,f=this.m.length;l<f;l++)c=this.m[l],c.A||c.Xk||!c.ha.Yd||c.S();else this.yi=!1;l=0;for(f=this.Hc.length;l<f;l++)this.Hc[l].Br();2<=this.tb&&(l=this.La/this.Ka,f=this.width/this.height,this.dg=2!==this.tb&&f>
l||2===this.tb&&f<l?this.height/this.Ka:this.width/this.La);this.yn?this.fl[this.yn].$l():this.Hc[0].$l();this.om||(this.Af=1,this.trigger(X.prototype.d.Cm,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();l=0;for(f=this.m.length;l<f;l++)c=this.m[l],c.Ht&&c.Ht();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Pa(!1);this.$a&&AppMobi.webview.execute("onGameReady();")};var u=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.Pa=function(l,f,c){if(this.ja){var a=Wa();if(c||!this.Bg||l){l||(u?this.Jl=u(this.Cp):this.fm=setTimeout(this.Cp,this.qd?1:16));f=f||a;var b=this.tb;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Xb)||this.Ag)&&0<this.ye&&(b=this.ye);0<b&&(!this.xi||window.self!==window.top)&&(b=window.innerHeight,
this.Hg===window.innerWidth&&this.Gg===b||this.setSize(n(),k()));this.ga||(c?(this.bi||(this.tk=jQuery(this.canvas).css("margin")||"0",this.bi=!0),this.yg||this.Xd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.bi?(this.yg||this.Xd||jQuery(this.canvas).css("margin",this.tk),this.tk="",this.bi=!1,0===this.tb&&this.setSize(Math.round(this.Ko/this.devicePixelRatio),
Math.round(this.Jo/this.devicePixelRatio),!0)):(this.Ko=this.width,this.Jo=this.height));this.yi&&(c=this.Vm(),this.Af=this.Re,c&&(this.yi=!1,this.Re=1,this.trigger(X.prototype.d.Cm,null)));this.Bt(f);!this.ca&&!this.Wb||this.$k||this.oh||l||(this.ca=!1,this.n?this.Gb():this.Dc(),this.oj&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.oj[0],this.oj[1]),this.trigger(X.prototype.d.oq,null)),this.oj=null));this.Rv||(this.vh++,this.Xh++,this.di++);this.Sg+=Wa()-a}}};e.prototype.Bt=function(c){var f,
a,b,h,d,m,g,e;1E3<=c-this.Ke&&(this.Ke+=1E3,1E3<=c-this.Ke&&(this.Ke=c),this.sk=this.di,this.di=0,this.ek=this.Sg,this.Sg=0);0!==this.Ei&&(f=c-this.Ei,0>f&&(f=0),this.Rd=f/1E3,.5<this.Rd?this.Rd=0:.1<this.Rd&&(this.Rd=.1));this.Ei=c;this.ve=this.Rd*this.We;this.yb.add(this.ve);this.dd.add(this.Rd);c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ag)&&!this.Xb;2<=this.tb||c&&0<this.ye?(f=this.La/this.Ka,a=this.width/this.height,b=this.tb,
c&&0<this.ye&&(b=this.ye),this.dg=2!==b&&a>f||2===b&&a<f?this.height/this.Ka:this.width/this.La,this.ja&&(this.ja.Ul(this.ja.scrollX),this.ja.Vl(this.ja.scrollY))):this.dg=this.rf?this.devicePixelRatio:1;this.fb();this.Fc++;this.ad.gu();this.Fc--;this.fb();this.Fc++;a=this.Io.Bd();c=0;for(f=a.length;c<f;c++)a[c].Tv();c=0;for(f=this.m.length;c<f;c++)if(m=this.m[c],!m.A&&(m.Ea.length||m.ra.length))for(a=0,b=m.c.length;a<b;a++)for(g=m.c[a],h=0,d=g.G.length;h<d;h++)g.G[h].Pa();c=0;for(f=this.m.length;c<
f;c++)if(m=this.m[c],!m.A&&(m.Ea.length||m.ra.length))for(a=0,b=m.c.length;a<b;a++)for(g=m.c[a],h=0,d=g.G.length;h<d;h++)e=g.G[h],e.Wt&&e.Wt();a=this.tl.Bd();c=0;for(f=a.length;c<f;c++)a[c].Pa();this.Fc--;this.gt();for(c=0;this.bk&&10>c++;)this.sn(this.bk);c=0;for(f=this.ld.length;c<f;c++)this.ld[c].Kk=!1;this.ja.we&&this.ja.we.Ma();this.cu.length=0;this.Fc++;c=0;for(f=this.m.length;c<f;c++)if(m=this.m[c],!m.A&&(m.Ea.length||m.ra.length))for(a=0,b=m.c.length;a<b;a++)for(g=m.c[a],h=0,d=g.G.length;h<
d;h++)e=g.G[h],e.xj&&e.xj();a=this.ul.Bd();c=0;for(f=a.length;c<f;c++)a[c].xj();this.Fc--};e.prototype.sn=function(c){var f=this.ja;this.ja.wu();var a,b,h,d,m,g,e;if(this.n)for(a=0,b=this.m.length;a<b;a++)m=this.m[a],m.A||!m.Cj||m.global&&0!==m.c.length||-1!==c.xg.indexOf(m)||m.Cj();f==c&&(this.ad.Qb.length=0);c.$l();a=0;for(b=this.m.length;a<b;a++)if(m=this.m[a],m.global||m.ha.mj)for(c=0,f=m.c.length;c<f;c++)if(g=m.c[c],g.xl&&g.xl(),g.G)for(h=0,d=g.G.length;h<d;h++)e=g.G[h],e.xl&&e.xl();this.ca=
!0;this.fb()};e.prototype.Tf=function(c){this.tl.add(c)};e.prototype.xu=function(c){this.ul.add(c)};e.prototype.yk=function(c){return c&&-1!==c.Ug?this.Rd*c.Ug:this.ve};e.prototype.Dc=function(){this.ja.Dc(this.ea);this.$a&&this.ea.present()};e.prototype.Gb=function(){this.ja.Gb(this.n);this.n.Zt()};e.prototype.ir=function(c){c&&this.kk.push(c)};e.prototype.hi=function(c){c=c.toString();return this.td.hasOwnProperty(c)?this.td[c]:null};var h=[];e.prototype.Dd=function(c){var f,a;f=c.type.name;var b=
null;if(this.te.hasOwnProperty(f)){if(b=this.te[f],b.contains(c))return}else b=h.length?h.pop():new ca,this.te[f]=b;b.add(c);this.Vd=!0;if(c.Yb)for(f=0,a=c.siblings.length;f<a;f++)this.Dd(c.siblings[f]);this.Wk&&b.Xf.push(c);this.Fc++;this.trigger(Object.getPrototypeOf(c.type.ha).d.pq,c);this.Fc--};e.prototype.fb=function(){if(this.Vd){var c,f,a,b,h,d;this.Wk=!0;a=0;for(h=this.Qc.length;a<h;++a)for(c=this.Qc[a],f=c.type,f.c.push(c),b=0,d=f.ra.length;b<d;++b)f.ra[b].c.push(c),f.ra[b].Rf=!0;this.Qc.length=
0;this.iq();Va(this.te);this.Vd=this.Wk=!1}};e.prototype.iq=function(){for(var c in this.te)this.te.hasOwnProperty(c)&&this.Wp(this.te[c])};e.prototype.Wp=function(c){var f=c.Bd(),a=f[0].type,b,d,m,g,e,r;Xa(a.c,c);a.Rf=!0;0===a.c.length&&(a.Um=!1);b=0;for(d=a.ra.length;b<d;++b)r=a.ra[b],Xa(r.c,c),r.Rf=!0;b=0;for(d=this.ad.Qb.length;b<d;++b)if(e=this.ad.Qb[b],e.Ob.hasOwnProperty(a.index)&&Xa(e.Ob[a.index].Ee,c),!a.A)for(m=0,g=a.ra.length;m<g;++m)r=a.ra[m],e.Ob.hasOwnProperty(r.index)&&Xa(e.Ob[r.index].Ee,
c);if(e=f[0].i){if(e.Lc)for(m=e.c,b=0,d=m.length;b<d;++b)g=m[b],c.contains(g)&&(g.eb(),e.Mb.update(g,g.zb,null),g.zb.set(0,0,-1,-1));Xa(e.c,c);e.hh(0)}for(b=0;b<f.length;++b)this.Vp(f[b],a);c.clear();h.push(c);this.ca=!0};e.prototype.Vp=function(c,f){var a,b,h;a=0;for(b=this.kk.length;a<b;++a)this.kk[a](c);c.Od&&f.jn.update(c,c.Od,null);(a=c.i)&&a.Kf(c,!0);if(c.G)for(a=0,b=c.G.length;a<b;++a)h=c.G[a],h.Wg&&h.Wg(),h.behavior.Pi.remove(c);this.Io.remove(c);this.tl.remove(c);this.ul.remove(c);c.Wg&&
c.Wg();this.td.hasOwnProperty(c.uid.toString())&&delete this.td[c.uid.toString()];this.Ri--;100>f.Sh.length&&f.Sh.push(c)};e.prototype.mn=function(c,f,a,b){if(c.A){var h=R(Math.random()*c.Oi.length);return this.mn(c.Oi[h],f,a,b)}return c.hc?this.Qd(c.hc,f,!1,a,b,!1):null};var r=[];e.prototype.Qd=function(c,f,a,b,h,d){var m,g,e,u;if(!c)return null;var s=this.m[c[1]],q=s.ha.Yd;if(this.yi&&q&&!s.Xk||q&&!this.n&&11===c[0][11])return null;var n=f;q||(f=null);var k;s.Sh.length?(k=s.Sh.pop(),k.vc=!0,s.ha.ka.call(k,
s)):(k=new s.ha.ka(s),k.vc=!1);k.uid=!a||d||this.td.hasOwnProperty(c[2].toString())?this.Vg++:c[2];this.td[k.uid.toString()]=k;k.gp=this.Eo++;k.Ce=s.c.length;m=0;for(g=this.Qc.length;m<g;++m)this.Qc[m].type===s&&k.Ce++;k.sg=Ab;k.toString=Bb;e=c[3];if(k.vc)Va(k.X);else{k.X={};if("undefined"!==typeof cr_is_preview)for(k.Sn=[],k.Sn.length=e.length,m=0,g=e.length;m<g;m++)k.Sn[m]=e[m][1];k.Ha=[];k.Ha.length=e.length}m=0;for(g=e.length;m<g;m++)k.Ha[m]=e[m][0];if(q){var p=c[0];k.x=ha(b)?p[0]:b;k.y=ha(h)?
p[1]:h;k.z=p[2];k.width=p[3];k.height=p[4];k.depth=p[5];k.j=p[6];k.opacity=p[7];k.wb=p[8];k.xb=p[9];k.nb=p[10];m=p[11];!this.n&&s.F.length&&(k.nb=m);k.hg=eb(k.nb);this.k&&fb(k,k.nb,this.k);if(k.vc){m=0;for(g=p[12].length;m<g;m++)for(e=0,u=p[12][m].length;e<u;e++)k.ua[m][e]=p[12][m][e];k.Xa.set(0,0,0,0);k.Od.set(0,0,-1,-1);k.zb.set(0,0,-1,-1);k.ef.ih(k.Xa);k.Uj.length=0}else{k.ua=p[12].slice(0);m=0;for(g=k.ua.length;m<g;m++)k.ua[m]=p[12][m].slice(0);k.U=[];k.Fd=[];k.Fd.length=s.F.length;k.Xa=new ua(0,
0,0,0);k.Od=new ua(0,0,-1,-1);k.zb=new ua(0,0,-1,-1);k.ef=new wa;k.Uj=[];k.Na=Eb;k.kr=Fb;k.ec=Gb;k.eb=Hb;k.Fu=Ib;k.Eu=Jb;k.Tc=Kb}k.zu=!1;k.Bu=0;k.Au=0;k.yu=null;14===p.length&&(k.zu=!0,k.Bu=p[13][0],k.Au=p[13][1],k.yu=p[13][2]);m=0;for(g=s.F.length;m<g;m++)k.Fd[m]=!0;k.Ad=Lb;k.Ad();k.Pp=!!k.U.length;k.Dh=!0;k.Zj=!0;s.Tm=!0;k.visible=!0;k.Ug=-1;k.i=f;k.Mc=f.c.length;"undefined"===typeof k.Pc&&(k.Pc=null);this.ca=k.gg=!0}var t;m=r.length=0;for(g=s.ra.length;m<g;m++)r.push.apply(r,s.ra[m].Ea);r.push.apply(r,
s.Ea);if(k.vc)for(m=0,g=r.length;m<g;m++){var I=r[m];t=k.G[m];t.vc=!0;I.behavior.ka.call(t,I,k);p=c[4][m];e=0;for(u=p.length;e<u;e++)t.Y[e]=p[e];t.S();I.behavior.Pi.add(k)}else for(k.G=[],m=0,g=r.length;m<g;m++)I=r[m],t=new I.behavior.ka(I,k),t.vc=!1,t.Y=c[4][m].slice(0),t.S(),k.G.push(t),I.behavior.Pi.add(k);p=c[5];if(k.vc)for(m=0,g=p.length;m<g;m++)k.Y[m]=p[m];else k.Y=p.slice(0);this.Qc.push(k);this.Vd=!0;f&&(f.bg(k,!0),1!==f.rc||1!==f.tc)&&(s.Um=!0);this.Ri++;if(s.Yb){if(k.Yb=!0,k.vc?k.siblings.length=
0:k.siblings=[],!a&&!d){m=0;for(g=s.Fb.length;m<g;m++)if(s.Fb[m]!==s){if(!s.Fb[m].hc)return null;k.siblings.push(this.Qd(s.Fb[m].hc,n,!1,q?k.x:b,q?k.y:h,!0))}m=0;for(g=k.siblings.length;m<g;m++)for(k.siblings[m].siblings.push(k),e=0;e<g;e++)m!==e&&k.siblings[m].siblings.push(k.siblings[e])}}else k.Yb=!1,k.siblings=null;k.S();m=0;for(g=k.G.length;m<g;m++)k.G[m].Vt&&k.G[m].Vt();return k};e.prototype.qg=function(c){var f,a;f=0;for(a=this.ja.J.length;f<a;f++){var b=this.ja.J[f];if(hb(b.name,c))return b}return null};
e.prototype.od=function(c){c=R(c);0>c&&(c=0);c>=this.ja.J.length&&(c=this.ja.J.length-1);return this.ja.J[c]};e.prototype.ck=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].fa().ma=!0};e.prototype.dh=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].dh()};e.prototype.Hl=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].Hl()};e.prototype.If=function(c){var f,a;f=0;for(a=c.length;f<a;f++)c[f].If()};e.prototype.qh=function(c,f,a){var b=c.fa(),m,h,d,g,e,r;if(b.ma)for(b.ma=!1,m=b.c.length=0,g=
c.c.length;m<g;m++)d=c.c[m],d.eb(),e=d.i.Ya(f,a,!0),r=d.i.Ya(f,a,!1),d.ec(e,r)&&b.c.push(d);else{m=h=0;for(g=b.c.length;m<g;m++)d=b.c[m],d.eb(),e=d.i.Ya(f,a,!0),r=d.i.Ya(f,a,!1),d.ec(e,r)&&(b.c[h]=b.c[m],h++);b.c.length=h}c.Id();return b.Jk()};new wa;new ua(0,0,0,0);e.prototype.Ip=function(c,f){if(!f)return!1;var a,b,m,h,d;a=0;for(b=c.Ea.length;a<b;a++)if(c.Ea[a].behavior instanceof f)return!0;if(!c.A)for(a=0,b=c.ra.length;a<b;a++)for(d=c.ra[a],m=0,h=d.Ea.length;m<h;m++)if(d.Ea[m].behavior instanceof
f)return!0;return!1};e.prototype.Jp=function(c){return this.Ip(c,$b.lv)};e.prototype.jm=function(c){return this.Ip(c,$b.mv)};var s=-1;e.prototype.trigger=function(c,f,a){if(!this.ja)return!1;var b=this.ja.we;if(!b)return!1;var m=!1,h,d,g;s++;var e=b.jk;d=0;for(g=e.length;d<g;++d)h=this.Fp(c,f,e[d],a),m=m||h;h=this.Fp(c,f,b,a);s--;return m||h};e.prototype.Fp=function(c,f,a,b){var m=!1,h,d,g,e;if(f)for(g=this.hm(c,f,f.type.name,a,b),m=m||g,e=f.type.ra,h=0,d=e.length;h<d;++h)g=this.hm(c,f,e[h].name,
a,b),m=m||g;else g=this.hm(c,f,"system",a,b),m=m||g;return m};e.prototype.hm=function(c,f,a,b,m){var h,d=!1,g=!1,g="undefined"!==typeof m,e=(g?b.wn:b.Gp)[a];if(!e)return d;var r=null;b=0;for(h=e.length;b<h;++b)if(e[b].method==c){r=e[b].mg;break}if(!r)return d;c=g?r[m]:r;if(!c)return null;b=0;for(h=c.length;b<h;b++)m=c[b][0],g=c[b][1],g=this.ys(f,a,m,g),d=d||g;return d};e.prototype.ys=function(c,f,a,b){var m,h,d=!1;this.im++;var g=this.Hb().Cc;g&&this.dh(g.he);var e=1<this.im;this.dh(a.he);e&&this.au();
var r=this.Il(a);r.Cc=a;c&&(m=this.types[f].fa(),m.ma=!1,m.c.length=1,m.c[0]=c,this.types[f].Id());c=!0;if(a.parent){f=r.Ap;for(m=a.parent;m;)f.push(m),m=m.parent;f.reverse();m=0;for(h=f.length;m<h;m++)if(!f[m].iu()){c=!1;break}}c&&(this.Xh++,a.Vc?a.hu(b):a.Ma(),d=d||r.Je);this.cp();e&&this.Ut();this.If(a.he);g&&this.If(g.he);this.Vd&&0===this.Fc&&0===s&&!this.Yk&&this.fb();this.im--;return d};e.prototype.Cn=function(){var c=this.Hb();return c.Cc.gb[c.sb]};e.prototype.au=function(){this.Mi++;this.Mi>=
this.kl.length&&this.kl.push([])};e.prototype.Ut=function(){this.Mi--};e.prototype.Dn=function(){return this.kl[this.Mi]};e.prototype.Il=function(c){this.Wh++;this.Wh>=this.mk.length&&this.mk.push(new Mb);var f=this.Hb();f.reset(c);return f};e.prototype.cp=function(){this.Wh--};e.prototype.Hb=function(){return this.mk[this.Wh]};e.prototype.En=function(c,f){for(var a,b,m,h,d,g;f;){a=0;for(b=f.wc.length;a<b;a++)if(g=f.wc[a],g instanceof Nb&&hb(c,g.name))return g;f=f.parent}a=0;for(b=this.ld.length;a<
b;a++)for(d=this.ld[a],m=0,h=d.Td.length;m<h;m++)if(g=d.Td[m],g instanceof Nb&&hb(c,g.name))return g;return null};e.prototype.Gn=function(c){var f,a;f=0;for(a=this.Hc.length;f<a;f++)if(this.Hc[f].M===c)return this.Hc[f];return null};e.prototype.ii=function(c){var f,a;f=0;for(a=this.m.length;f<a;f++)if(this.m[f].M===c)return this.m[f];return null};e.prototype.Is=function(c){var f,a;f=0;for(a=this.cf.length;f<a;f++)if(this.cf[f].M===c)return this.cf[f];return null};e.prototype.gt=function(){var c=this,
f=this.Tl,b=this.rd,m=this.Hi,h=!1;this.wp&&(h=!0,f="__c2_continuouspreview",this.wp=!1);if(f.length){this.fb();b=this.mu();if(window.indexedDB&&!this.Wb)q(f,b,function(){M("Saved state to IndexedDB storage ("+b.length+" bytes)");c.rd=b;c.trigger(X.prototype.d.Nj,null);c.rd="";h&&a()},function(m){try{localStorage.setItem("__c2save_"+f,b),M("Saved state to WebStorage ("+b.length+" bytes)"),c.rd=b,c.trigger(X.prototype.d.Nj,null),c.rd="",h&&a()}catch(d){M("Failed to save game state: "+m+"; "+d)}});
else try{localStorage.setItem("__c2save_"+f,b),M("Saved state to WebStorage ("+b.length+" bytes)"),c.rd=b,this.trigger(X.prototype.d.Nj,null),c.rd="",h&&a()}catch(g){M("Error saving to WebStorage: "+g)}this.kb=this.Hi=this.Tl=""}m.length&&(window.indexedDB&&!this.Wb?d(m,function(f){f?(c.kb=f,M("Loaded state from IndexedDB storage ("+c.kb.length+" bytes)")):(c.kb=localStorage.getItem("__c2save_"+m)||"",M("Loaded state from WebStorage ("+c.kb.length+" bytes)"));c.oh=!1;c.kb.length||c.trigger(X.prototype.d.Lj,
null)},function(){c.kb=localStorage.getItem("__c2save_"+m)||"";M("Loaded state from WebStorage ("+c.kb.length+" bytes)");c.oh=!1;c.kb.length||c.trigger(X.prototype.d.Lj,null)}):(this.kb=localStorage.getItem("__c2save_"+m)||"",M("Loaded state from WebStorage ("+this.kb.length+" bytes)"),this.oh=!1,c.kb.length||c.trigger(X.prototype.d.Lj,null)),this.Tl=this.Hi="");this.kb.length&&(this.fb(),this.At(this.kb),this.rd=this.kb,this.trigger(X.prototype.d.Bq,null),this.kb=this.rd="")};e.prototype.mu=function(){var c,
f,a,m,h,d,g,e={c2save:!0,version:1,rt:{time:this.yb.V,walltime:this.dd.V,timescale:this.We,tickcount:this.vh,execcount:this.Xh,next_uid:this.Vg,running_layout:this.ja.M,start_time_offset:Date.now()-this.rj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(f=this.m.length;c<f;c++)if(h=this.m[c],!h.A&&!this.Jp(h)){d={instances:[]};Ua(h.X)&&(d.ex=b(h.X));a=0;for(m=h.c.length;a<m;a++)d.instances.push(this.Sl(h.c[a]));e.types[h.M.toString()]=d}c=0;for(f=this.Hc.length;c<f;c++)a=
this.Hc[c],e.layouts[a.M.toString()]=a.mb();m=e.events.groups;c=0;for(f=this.cf.length;c<f;c++)a=this.cf[c],m[a.M.toString()]=this.ki[a.ug].tg;f=e.events.cnds;for(g in this.hf)this.hf.hasOwnProperty(g)&&(c=this.hf[g],Ua(c.X)&&(f[g]={ex:b(c.X)}));f=e.events.acts;for(g in this.bf)this.bf.hasOwnProperty(g)&&(c=this.bf[g],Ua(c.X)&&(f[g]={ex:c.X}));f=e.events.vars;for(g in this.Yf)this.Yf.hasOwnProperty(g)&&(c=this.Yf[g],c.ti||c.parent&&!c.Eg||(f[g]=c.data));e.system=this.ad.mb();return JSON.stringify(e)};
e.prototype.jp=function(){var c,f,a,b,m,h;this.td={};c=0;for(f=this.m.length;c<f;c++)if(a=this.m[c],!a.A)for(b=0,m=a.c.length;b<m;b++)h=a.c[b],this.td[h.uid.toString()]=h};e.prototype.At=function(c){c=JSON.parse(c);if(c.c2save&&!(1<c.version)){var f=c.rt;this.yb.reset();this.yb.V=f.time;this.dd.reset();this.dd.V=f.walltime||0;this.We=f.timescale;this.vh=f.tickcount;this.Xh=f.execcount;this.rj=Date.now()-f.start_time_offset;var a=f.running_layout;if(a!==this.ja.M)if(a=this.Gn(a))this.sn(a);else return;
var b,m,h,d,g,e,r;e=c.types;for(m in e)if(e.hasOwnProperty(m)&&(d=this.ii(parseInt(m,10)))&&!d.A&&!this.Jp(d)){e[m].ex?d.X=e[m].ex:Va(d.X);g=d.c;h=e[m].instances;a=0;for(b=oa(g.length,h.length);a<b;a++)this.Ii(g[a],h[a]);a=h.length;for(b=g.length;a<b;a++)this.Dd(g[a]);a=g.length;for(b=h.length;a<b;a++){g=null;if(d.ha.Yd&&(g=this.ja.gi(h[a].w.l),!g))continue;g=this.Qd(d.hc,g,!1,0,0,!0);this.Ii(g,h[a])}d.Rf=!0}this.fb();this.jp();b=c.layouts;for(m in b)b.hasOwnProperty(m)&&(a=this.Gn(parseInt(m,10)))&&
a.Kb(b[m]);b=c.events.groups;for(m in b)b.hasOwnProperty(m)&&(a=this.Is(parseInt(m,10)))&&this.ki[a.ug]&&this.ki[a.ug].ou(b[m]);a=c.events.cnds;for(m in a)a.hasOwnProperty(m)&&this.hf.hasOwnProperty(m)&&(this.hf[m].X=a[m].ex);a=c.events.acts;for(m in a)a.hasOwnProperty(m)&&this.bf.hasOwnProperty(m)&&(this.bf[m].X=a[m].ex);a=c.events.vars;for(m in a)a.hasOwnProperty(m)&&this.Yf.hasOwnProperty(m)&&(this.Yf[m].data=a[m]);this.Vg=f.next_uid;this.ad.Kb(c.system);a=0;for(b=this.m.length;a<b;a++)if(d=this.m[a],
!d.A)for(m=0,c=d.c.length;m<c;m++){g=d.c[m];if(d.Yb)for(e=g.sg(),f=g.siblings.length=0,h=d.Fb.length;f<h;f++)r=d.Fb[f],d!==r&&g.siblings.push(r.c[e]);g.Gd&&g.Gd();if(g.G)for(f=0,h=g.G.length;f<h;f++)e=g.G[f],e.Gd&&e.Gd()}this.ca=!0}};e.prototype.Sl=function(c,f){var a,m,h,d,g;d=c.type;h=d.ha;var e={};f?e.c2=!0:e.uid=c.uid;Ua(c.X)&&(e.ex=b(c.X));if(c.Ha&&c.Ha.length)for(e.ivs={},a=0,m=c.Ha.length;a<m;a++)e.ivs[c.type.Tk[a].toString()]=c.Ha[a];if(h.Yd){h={x:c.x,y:c.y,w:c.width,h:c.height,l:c.i.M,zi:c.Tc()};
0!==c.j&&(h.a=c.j);1!==c.opacity&&(h.o=c.opacity);.5!==c.wb&&(h.hX=c.wb);.5!==c.xb&&(h.hY=c.xb);0!==c.nb&&(h.bm=c.nb);c.visible||(h.v=c.visible);c.gg||(h.ce=c.gg);-1!==c.Ug&&(h.mts=c.Ug);if(d.F.length)for(h.fx=[],a=0,m=d.F.length;a<m;a++)g=d.F[a],h.fx.push({name:g.name,active:c.Fd[g.index],params:c.ua[g.index]});e.w=h}if(c.G&&c.G.length)for(e.behs={},a=0,m=c.G.length;a<m;a++)d=c.G[a],d.mb&&(e.behs[d.type.M.toString()]=d.mb());c.mb&&(e.data=c.mb());return e};e.prototype.Ks=function(c,f){var a,b;a=
0;for(b=c.Tk.length;a<b;a++)if(c.Tk[a]===f)return a;return-1};e.prototype.Gs=function(c,f){var a,b;a=0;for(b=c.G.length;a<b;a++)if(c.G[a].type.M===f)return a;return-1};e.prototype.Ii=function(c,f,a){var b,m,h,d,g;g=c.type;h=g.ha;if(a){if(!f.c2)return}else c.uid=f.uid;f.ex?c.X=f.ex:Va(c.X);if(m=f.ivs)for(b in m)m.hasOwnProperty(b)&&(a=this.Ks(g,parseInt(b,10)),0>a||a>=c.Ha.length||(c.Ha[a]=m[b]));if(h.Yd){h=f.w;c.i.M!==h.l&&(a=c.i,c.i=this.ja.gi(h.l),c.i?(a.Kf(c,!0),c.i.bg(c,!0),c.Na(),c.i.hh(0)):
(c.i=a,this.Dd(c)));c.x=h.x;c.y=h.y;c.width=h.w;c.height=h.h;c.Mc=h.zi;c.j=h.hasOwnProperty("a")?h.a:0;c.opacity=h.hasOwnProperty("o")?h.o:1;c.wb=h.hasOwnProperty("hX")?h.hX:.5;c.xb=h.hasOwnProperty("hY")?h.hY:.5;c.visible=h.hasOwnProperty("v")?h.v:!0;c.gg=h.hasOwnProperty("ce")?h.ce:!0;c.Ug=h.hasOwnProperty("mts")?h.mts:-1;c.nb=h.hasOwnProperty("bm")?h.bm:0;c.hg=eb(c.nb);this.k&&fb(c,c.nb,this.k);c.Na();if(h.hasOwnProperty("fx"))for(a=0,m=h.fx.length;a<m;a++)d=g.Ak(h.fx[a].name),0>d||(c.Fd[d]=h.fx[a].active,
c.ua[d]=h.fx[a].params);c.Ad()}if(g=f.behs)for(b in g)g.hasOwnProperty(b)&&(h=this.Gs(c,parseInt(b,10)),0>h||c.G[h].Kb(g[b]));f.data&&c.Kb(f.data)};Ob=function(c){return new e(document.getElementById(c))};Pb=function(c,f){return new e({dc:!0,width:c,height:f})};window.cr_createRuntime=Ob;window.cr_createDCRuntime=Pb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.Vv=!0;document.body.appendChild(c);c=new e(c);
window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c};window.createEjectaRuntime=function(){var c=new e(document.getElementById("canvas"));window.c2runtime=c;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();
window.cr_getC2Runtime=function(){var n=document.getElementById("c2canvas");return n?n.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(n,k){if(0!==n&&0!==k){var e=window.cr_getC2Runtime();e&&e.setSize(n,k)}};window.cr_setSuspended=function(n){var k=window.cr_getC2Runtime();k&&k.setSuspended(n)};
(function(){function n(c,a){this.b=c;this.we=null;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/2;this.scale=1;this.j=0;this.lf=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Kp=a[3];this.tp=a[4];this.M=a[5];var b=a[6],h,d;this.J=[];this.xg=[];h=0;for(d=b.length;h<d;h++){var g=new Qb(this,b[h]);g.Go=h;this.J.push(g)}b=a[7];this.De=[];h=0;for(d=b.length;h<d;h++){var g=b[h],l=this.b.m[g[1]];l.hc||(l.hc=g);this.De.push(g);-1===this.xg.indexOf(l)&&this.xg.push(l)}this.F=[];this.U=[];this.ua=
[];h=0;for(d=a[8].length;h<d;h++)this.F.push({id:a[8][h][0],name:a[8][h][1],cb:-1,Qa:!0,index:h}),this.ua.push(a[8][h][2].slice(0));this.Ad();this.Kl=new ua(0,0,1,1);this.Ll=new ua(0,0,1,1);this.be={}}function k(c,a){return c.Mc-a.Mc}function e(c,a){this.Ja=c;this.b=c.b;this.c=[];this.scale=1;this.j=0;this.ue=!1;this.yd=new ua(0,0,0,0);this.Dp=new wa;this.xa=this.pa=this.ya=this.na=0;this.Xe=!1;this.Cd=-1;this.name=a[0];this.index=a[1];this.M=a[2];this.visible=a[3];this.Jd=a[4];this.zd=a[5];this.rc=
a[6];this.tc=a[7];this.opacity=a[8];this.rk=a[9];this.Lc=a[10];this.Db=a[11];this.nb=a[12];this.Ur=a[13];this.hg="source-over";this.hb=this.ib=0;this.Mb=null;this.xf=p();this.ud=!0;this.Di=new ua(0,0,-1,-1);this.gc=new ua(0,0,-1,-1);this.Lc&&(this.Mb=new db(this.b.La,this.b.Ka));this.ee=!1;var b=a[14],h,d;this.yp=[];this.Vb=[];this.ig=[];h=0;for(d=b.length;h<d;h++){var g=b[h],l=this.b.m[g[1]];l.hc||(l.hc=g,l.Er=this.index);this.Vb.push(g);-1===this.Ja.xg.indexOf(l)&&this.Ja.xg.push(l)}za(this.yp,
this.Vb);this.F=[];this.U=[];this.ua=[];h=0;for(d=a[15].length;h<d;h++)this.F.push({id:a[15][h][0],name:a[15][h][1],cb:-1,Qa:!0,index:h}),this.ua.push(a[15][h][2].slice(0));this.Ad();this.Kl=new ua(0,0,1,1);this.Ll=new ua(0,0,1,1)}function p(){return b.length?b.pop():[]}function q(c){c.length=0;b.push(c)}n.prototype.lu=function(c){var a=c.type.M.toString();this.be.hasOwnProperty(a)||(this.be[a]=[]);this.be[a].push(this.b.Sl(c))};n.prototype.Mn=function(){var c=this.J[0];return!c.zd&&1===c.opacity&&
!c.rk&&c.visible};n.prototype.Ad=function(){this.U.length=0;var c,a,b;c=0;for(a=this.F.length;c<a;c++)b=this.F[c],b.Qa&&this.U.push(b)};n.prototype.zk=function(c){var a,b,h;a=0;for(b=this.F.length;a<b;a++)if(h=this.F[a],h.name===c)return h;return null};var d=[],a=!0;n.prototype.$l=function(){this.tp&&(this.we=this.b.nk[this.tp],this.we.km());this.b.ja=this;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/2;var c,b,g,h,e,s,l;c=0;for(g=this.b.m.length;c<g;c++)if(b=this.b.m[c],!b.A)for(e=b.c,b=0,h=e.length;b<
h;b++)if(s=e[b],s.i){var f=s.i.Go;f>=this.J.length&&(f=this.J.length-1);s.i=this.J[f];-1===s.i.c.indexOf(s)&&s.i.c.push(s);s.i.Xe=!0}if(!a)for(c=0,g=this.J.length;c<g;++c)this.J[c].c.sort(k);d.length=0;this.qr();c=0;for(g=this.J.length;c<g;c++)s=this.J[c],s.Cr(),s.mm();e=!1;if(!this.lf){for(l in this.be)if(this.be.hasOwnProperty(l)&&(b=this.b.ii(parseInt(l,10)))&&!b.A&&this.b.jm(b)){h=this.be[l];c=0;for(g=h.length;c<g;c++){s=null;if(b.ha.Yd&&(s=this.gi(h[c].w.l),!s))continue;s=this.b.Qd(b.hc,s,!1,
0,0,!0);this.b.Ii(s,h[c]);e=!0;d.push(s)}h.length=0}c=0;for(g=this.J.length;c<g;c++)this.J[c].c.sort(k),this.J[c].Xe=!0}e&&(this.b.fb(),this.b.jp());for(c=0;c<d.length;c++)if(s=d[c],s.type.Yb)for(g=s.sg(),b=0,h=s.type.Fb.length;b<h;b++)l=s.type.Fb[b],s.type!==l&&(l.c.length>g?s.siblings.push(l.c[g]):l.hc&&(e=this.b.Qd(l.hc,s.i,!0,s.x,s.y,!0),this.b.fb(),l.Dj(),s.siblings.push(e),d.push(e)));c=0;for(g=this.De.length;c<g;c++)this.b.Qd(this.De[c],null,!0);this.b.bk=null;this.b.fb();if(this.b.ea&&!this.b.ga)for(c=
0,g=this.b.m.length;c<g;c++)l=this.b.m[c],!l.A&&l.c.length&&l.dj&&l.dj(this.b.ea);c=0;for(g=d.length;c<g;c++)s=d[c],this.b.trigger(Object.getPrototypeOf(s.type.ha).d.Jj,s);d.length=0;this.b.trigger(X.prototype.d.Aq,null);this.lf=!1};n.prototype.Br=function(){var c,a,b,h,d;a=c=0;for(b=this.De.length;c<b;c++)h=this.De[c],d=this.b.m[h[1]],d.global?this.b.Qd(h,null,!0):(this.De[a]=h,a++);this.De.length=a};n.prototype.wu=function(){this.b.trigger(X.prototype.d.zq,null);this.b.ad.Qb.length=0;var c,b,d,
h,g,e;if(!this.lf)for(c=0,b=this.J.length;c<b;c++)for(this.J[c].nm(),g=this.J[c].c,d=0,h=g.length;d<h;d++)e=g[d],e.type.global||this.b.jm(e.type)&&this.lu(e);c=0;for(b=this.J.length;c<b;c++){g=this.J[c].c;d=0;for(h=g.length;d<h;d++)e=g[d],e.type.global||this.b.Dd(e);this.b.fb();g.length=0;this.J[c].Xe=!0}c=0;for(b=this.b.m.length;c<b;c++)if(g=this.b.m[c],!(g.global||g.ha.Yd||g.ha.mj||g.A)){d=0;for(h=g.c.length;d<h;d++)this.b.Dd(g.c[d]);this.b.fb()}a=!1};new ua(0,0,0,0);n.prototype.Dc=function(c){var a,
b=c,h=!1,d=!this.b.jc;d&&(this.b.Gi||(this.b.Gi=document.createElement("canvas"),a=this.b.Gi,a.width=this.b.L,a.height=this.b.K,this.b.ho=a.getContext("2d"),h=!0),a=this.b.Gi,b=this.b.ho,a.width!==this.b.L&&(a.width=this.b.L,h=!0),a.height!==this.b.K&&(a.height=this.b.K,h=!0),h&&(b.webkitImageSmoothingEnabled=this.b.P,b.mozImageSmoothingEnabled=this.b.P,b.msImageSmoothingEnabled=this.b.P,b.imageSmoothingEnabled=this.b.P));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.Qj&&!this.Mn()&&
b.clearRect(0,0,this.b.L,this.b.K);var g,l,h=0;for(g=this.J.length;h<g;h++)l=this.J[h],l.visible&&0<l.opacity&&11!==l.nb&&(l.c.length||!l.zd)?l.Dc(b):l.mm();d&&c.drawImage(a,0,0,this.b.width,this.b.height)};n.prototype.Gb=function(c){var a=0<this.U.length||this.b.Wf||!this.b.jc;if(a){this.b.Jb||(this.b.Jb=c.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Jb.fg!==this.b.L||this.b.Jb.eg!==this.b.K)c.deleteTexture(this.b.Jb),this.b.Jb=c.Pd(this.b.L,this.b.K,this.b.P);c.Zc(this.b.Jb);this.b.jc||c.Nf(this.b.L,
this.b.K)}else this.b.Jb&&(c.Zc(null),c.deleteTexture(this.b.Jb),this.b.Jb=null);this.b.Qj&&!this.Mn()&&c.clear(0,0,0,0);var b,h,d;b=0;for(h=this.J.length;b<h;b++)d=this.J[b],d.visible&&0<d.opacity&&(d.c.length||!d.zd)?d.Gb(c):d.mm();a&&(0===this.U.length||1===this.U.length&&this.b.jc?(1===this.U.length?(a=this.U[0].index,c.$c(this.U[0].cb),c.Mf(null,1/this.b.L,1/this.b.K,0,0,1,1,this.scale,this.j,0,0,this.b.L/2,this.b.K/2,this.ua[a]),c.ej(this.U[0].cb)&&(this.b.ca=!0)):c.$c(0),this.b.jc||c.Nf(this.b.width,
this.b.height),c.Zc(null),c.Se(1),c.Nb(this.b.Jb),c.op(),c.fe(),c.me(),a=this.b.width/2,b=this.b.height/2,c.eh(-a,b,a,b,a,-b,-a,-b),c.Nb(null)):this.Ml(c,null,null,null))};n.prototype.rg=function(){return 0<this.U.length||this.b.Wf||!this.b.jc?this.b.Jb:null};n.prototype.Hn=function(){var c=this.J[0].kc(),a,b,h;a=1;for(b=this.J.length;a<b;a++)h=this.J[a],(0!==h.rc||0!==h.tc)&&h.kc()<c&&(c=h.kc());return c};n.prototype.Ul=function(c){if(!this.Kp){var a=1/this.Hn()*this.b.L/2;c>this.width-a&&(c=this.width-
a);c<a&&(c=a)}this.scrollX!==c&&(this.scrollX=c,this.b.ca=!0)};n.prototype.Vl=function(c){if(!this.Kp){var a=1/this.Hn()*this.b.K/2;c>this.height-a&&(c=this.height-a);c<a&&(c=a)}this.scrollY!==c&&(this.scrollY=c,this.b.ca=!0)};n.prototype.qr=function(){this.Ul(this.scrollX);this.Vl(this.scrollY)};n.prototype.Ml=function(c,a,b,h){var d=b?b.U:a?a.U:this.U,g=1,l=0,f=0,e=0,k=this.b.L,q=this.b.K;b?(g=b.i.kc(),l=b.i.Ra(),f=b.i.na,e=b.i.pa,k=b.i.ya,q=b.i.xa):a&&(g=a.kc(),l=a.Ra(),f=a.na,e=a.pa,k=a.ya,q=
a.xa);var y=this.b.uk,n,p,t,v,D=0,va=1,S,C=this.b.L,z=this.b.K,aa=C/2,I=z/2,K=a?a.Kl:this.Kl,A=a?a.Ll:this.Ll,B=0,L=0,G=0,J=0,H=C,la=C,N=z,ra=z,ga=t=0,ta=b?b.i.Ra():0;if(b){n=0;for(p=d.length;n<p;n++)t+=c.Os(d[n].cb),ga+=c.Ps(d[n].cb);v=b.Xa;B=a.oc(v.left,v.top,!0);G=a.oc(v.left,v.top,!1);H=a.oc(v.right,v.bottom,!0);N=a.oc(v.right,v.bottom,!1);0!==ta&&(n=a.oc(v.right,v.top,!0),p=a.oc(v.right,v.top,!1),L=a.oc(v.left,v.bottom,!0),J=a.oc(v.left,v.bottom,!1),v=Math.min(B,H,n,L),H=Math.max(B,H,n,L),B=
v,v=Math.min(G,N,p,J),N=Math.max(G,N,p,J),G=v);B-=t;G-=ga;H+=t;N+=ga;A.left=B/C;A.top=1-G/z;A.right=H/C;A.bottom=1-N/z;L=B=R(B);J=G=R(G);la=H=qa(H);ra=N=qa(N);L-=t;J-=ga;la+=t;ra+=ga;0>B&&(B=0);0>G&&(G=0);H>C&&(H=C);N>z&&(N=z);0>L&&(L=0);0>J&&(J=0);la>C&&(la=C);ra>z&&(ra=z);K.left=B/C;K.top=1-G/z;K.right=H/C;K.bottom=1-N/z}else K.left=A.left=0,K.top=A.top=0,K.right=A.right=1,K.bottom=A.bottom=1;ga=b&&((b.j||ta)&&c.bh(d[0].cb)||0!==t||0!==ga||1!==b.opacity||b.type.ha.Co)||a&&!b&&1!==a.opacity;c.op();
if(ga){y[D]||(y[D]=c.Pd(C,z,this.b.P));if(y[D].fg!==C||y[D].eg!==z)c.deleteTexture(y[D]),y[D]=c.Pd(C,z,this.b.P);c.$c(0);c.Zc(y[D]);S=ra-J;c.clearRect(L,z-J-S,la-L,S);b?b.Gb(c):(c.Nb(this.b.Zb),c.Se(a.opacity),c.fe(),c.translate(-aa,-I),c.me(),c.de(B,N,H,N,H,G,B,G,K));A.left=A.top=0;A.right=A.bottom=1;b&&(v=K.top,K.top=K.bottom,K.bottom=v);D=1;va=0}c.Se(1);t=d.length-1;var ta=c.Gl(d[t].cb)||!a&&!b&&!this.b.jc,ea=0;n=0;for(p=d.length;n<p;n++){y[D]||(y[D]=c.Pd(C,z,this.b.P));if(y[D].fg!==C||y[D].eg!==
z)c.deleteTexture(y[D]),y[D]=c.Pd(C,z,this.b.P);c.$c(d[n].cb);ea=d[n].index;c.ej(d[n].cb)&&(this.b.ca=!0);0!=n||ga?(c.Mf(h,1/C,1/z,A.left,A.top,A.right,A.bottom,g,l,f,e,(f+k)/2,(e+q)/2,b?b.ua[ea]:a?a.ua[ea]:this.ua[ea]),c.Nb(null),n!==t||ta?(c.Zc(y[D]),S=ra-J,v=z-J-S,c.clearRect(L,v,la-L,S)):(b?c.ge(b.ib,b.hb):a&&c.ge(a.ib,a.hb),c.Zc(h)),c.Nb(y[va]),c.fe(),c.translate(-aa,-I),c.me(),c.de(B,N,H,N,H,G,B,G,K),n!==t||ta||c.Nb(null)):(c.Zc(y[D]),S=ra-J,v=z-J-S,c.clearRect(L,v,la-L,S),b?(c.Mf(h,1/b.width,
1/b.height,A.left,A.top,A.right,A.bottom,g,l,f,e,(f+k)/2,(e+q)/2,b.ua[ea]),b.Gb(c)):(c.Mf(h,1/C,1/z,0,0,1,1,g,l,f,e,(f+k)/2,(e+q)/2,a?a.ua[ea]:this.ua[ea]),c.Nb(a?this.b.Zb:this.b.Jb),c.fe(),c.translate(-aa,-I),c.me(),c.de(B,N,H,N,H,G,B,G,K)),A.left=A.top=0,A.right=A.bottom=1,b&&!ta&&(v=N,N=G,G=v));D=0===D?1:0;va=0===D?1:0}ta&&(c.$c(0),b?c.ge(b.ib,b.hb):a?c.ge(a.ib,a.hb):this.b.jc||(c.Nf(this.b.width,this.b.height),aa=this.b.width/2,I=this.b.height/2,G=B=0,H=this.b.width,N=this.b.height),c.Zc(h),
c.Nb(y[va]),c.fe(),c.translate(-aa,-I),c.me(),b&&1===d.length&&!ga?c.de(B,G,H,G,H,N,B,N,K):c.de(B,N,H,N,H,G,B,G,K),c.Nb(null))};n.prototype.gi=function(c){var a,b;a=0;for(b=this.J.length;a<b;a++)if(this.J[a].M===c)return this.J[a];return null};n.prototype.mb=function(){var c,a,b,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.lf,persist:this.be,fx:[],layers:{}};c=0;for(a=this.F.length;c<a;c++)b=this.F[c],h.fx.push({name:b.name,active:b.Qa,params:this.ua[b.index]});
c=0;for(a=this.J.length;c<a;c++)b=this.J[c],h.layers[b.M.toString()]=b.mb();return h};n.prototype.Kb=function(c){var a,b,h,d;this.scrollX=c.sx;this.scrollY=c.sy;this.scale=c.s;this.j=c.a;this.width=c.w;this.height=c.h;this.be=c.persist;"undefined"!==typeof c.fv&&(this.lf=c.fv);var g=c.fx;a=0;for(b=g.length;a<b;a++)if(h=this.zk(g[a].name))h.Qa=g[a].active,this.ua[h.index]=g[a].params;this.Ad();a=c.layers;for(d in a)a.hasOwnProperty(d)&&(c=this.gi(parseInt(d,10)))&&c.Kb(a[d])};Cb=n;e.prototype.Ad=function(){this.U.length=
0;var a,b,d;a=0;for(b=this.F.length;a<b;a++)d=this.F[a],d.Qa&&this.U.push(d)};e.prototype.zk=function(a){var b,d,h;b=0;for(d=this.F.length;b<d;b++)if(h=this.F[b],h.name===a)return h;return null};e.prototype.Cr=function(){var a,b,g,h,e,k;b=a=0;for(g=this.Vb.length;a<g;a++){h=this.Vb[a];e=this.b.m[h[1]];k=this.b.jm(e);e=!0;if(!k||this.Ja.lf)h=this.b.Qd(h,this,!0),d.push(h),h.type.global&&(e=!1,this.ig.push(h.uid));e&&(this.Vb[b]=this.Vb[a],b++)}this.Vb.length=b;this.b.fb();!this.b.n&&this.F.length&&
(this.nb=this.Ur);this.hg=eb(this.nb);this.b.k&&fb(this,this.nb,this.b.k);this.ud=!0};e.prototype.Kf=function(a,b){var d=Ba(this.c,a);0>d||(b&&this.Lc&&a.zb&&a.zb.right>=a.zb.left&&(a.eb(),this.Mb.update(a,a.zb,null),a.zb.set(0,0,-1,-1)),d===this.c.length-1?this.c.pop():(ya(this.c,d),this.hh(d)),this.ud=!0)};e.prototype.bg=function(a,b){a.Mc=this.c.length;this.c.push(a);b&&this.Lc&&a.zb&&a.Na();this.ud=!0};e.prototype.Yt=function(a){this.c.unshift(a);this.hh(0)};e.prototype.Gt=function(a,b,d){var h=
a.Tc();b=b.Tc();ya(this.c,h);h<b&&b--;d&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.hh(h<b?h:b)};e.prototype.hh=function(a){-1===this.Cd?this.Cd=a:a<this.Cd&&(this.Cd=a);this.ud=this.Xe=!0};e.prototype.nm=function(){if(this.Xe){-1===this.Cd&&(this.Cd=0);var a,b,d;if(this.Lc)for(a=this.Cd,b=this.c.length;a<b;++a)d=this.c[a],d.Mc=a,this.Mb.Ct(d.zb);else for(a=this.Cd,b=this.c.length;a<b;++a)this.c[a].Mc=a;this.Xe=!1;this.Cd=-1}};e.prototype.kc=function(a){return this.Ls()*(this.b.jc||
a?this.b.dg:1)};e.prototype.Ls=function(){return(this.scale*this.Ja.scale-1)*this.Db+1};e.prototype.Ra=function(){return this.ue?0:Fa(this.Ja.j+this.j)};var b=[],t=[],g=[];e.prototype.In=function(){this.nm();this.Mb.hp(this.na,this.pa,this.ya,this.xa,g);if(!g.length)return p();if(1===g.length){var a=p();za(a,g[0]);g.length=0;return a}for(var b=!0;1<g.length;){for(var a=g,d=void 0,h=void 0,e=void 0,k=void 0,l=void 0,d=0,h=a.length;d<h-1;d+=2){var e=a[d],k=a[d+1],l=p(),f=e,w=k,E=l,n=0,y=0,T=0,x=f.length,
Q=w.length,v=void 0,D=void 0;for(E.length=x+Q;n<x&&y<Q;++T)v=f[n],D=w[y],v.Mc<D.Mc?(E[T]=v,++n):(E[T]=D,++y);for(;n<x;++n,++T)E[T]=f[n];for(;y<Q;++y,++T)E[T]=w[y];b||(q(e),q(k));t.push(l)}1===h%2&&(b?(e=p(),za(e,a[h-1]),t.push(e)):t.push(a[h-1]));za(a,t);t.length=0;b=!1}a=g[0];g.length=0;return a};e.prototype.Dc=function(a){this.ee=this.rk||1!==this.opacity||0!==this.nb;var b=this.b.canvas,d=a,h=!1;this.ee&&(this.b.Fi||(this.b.Fi=document.createElement("canvas"),b=this.b.Fi,b.width=this.b.L,b.height=
this.b.K,this.b.fo=b.getContext("2d"),h=!0),b=this.b.Fi,d=this.b.fo,b.width!==this.b.L&&(b.width=this.b.L,h=!0),b.height!==this.b.K&&(b.height=this.b.K,h=!0),h&&(d.webkitImageSmoothingEnabled=this.b.P,d.mozImageSmoothingEnabled=this.b.P,d.msImageSmoothingEnabled=this.b.P,d.imageSmoothingEnabled=this.b.P),this.zd&&d.clearRect(0,0,this.b.L,this.b.K));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.zd||(d.fillStyle="rgb("+this.Jd[0]+","+this.Jd[1]+","+this.Jd[2]+")",d.fillRect(0,0,this.b.L,
this.b.K));d.save();this.ue=!0;var h=this.Ya(0,0,!0,!0),g=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(h=Math.round(h),g=Math.round(g));this.Ol(h,g,d);var e=this.kc();d.scale(e,e);d.translate(-h,-g);this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.ya),this.gc.bottom=this.Mb.Sb(this.xa),this.ud||!this.gc.Vh(this.Di)?(q(this.xf),h=this.In(),this.ud=!1,this.Di.Mh(this.gc)):h=this.xf):h=this.c;for(var l,f=null,g=0,e=h.length;g<e;++g)l=h[g],l!==f&&(this.Rr(l,
d),f=l);this.Lc&&(this.xf=h);d.restore();this.ee&&(a.globalCompositeOperation=this.hg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};e.prototype.Rr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var d=a.Xa;d.right<this.na||d.bottom<this.pa||d.left>this.ya||d.top>this.xa||(b.globalCompositeOperation=a.hg,a.Dc(b))}};e.prototype.mm=function(){this.ue=!0;var a=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(a=Math.round(a),b=Math.round(b));this.Ol(a,b,null)};e.prototype.Ol=
function(a,b,d){var h=this.kc();this.na=a;this.pa=b;this.ya=a+1/h*this.b.L;this.xa=b+1/h*this.b.K;a=this.Ra();0!==a&&(d&&(d.translate(this.b.L/2,this.b.K/2),d.rotate(-a),d.translate(this.b.L/-2,this.b.K/-2)),this.yd.set(this.na,this.pa,this.ya,this.xa),this.yd.offset((this.na+this.ya)/-2,(this.pa+this.xa)/-2),this.Dp.rp(this.yd,a),this.Dp.an(this.yd),this.yd.offset((this.na+this.ya)/2,(this.pa+this.xa)/2),this.na=this.yd.left,this.pa=this.yd.top,this.ya=this.yd.right,this.xa=this.yd.bottom)};e.prototype.Gb=
function(a){var b=0,d=0;if(this.ee=this.rk||1!==this.opacity||0<this.U.length||0!==this.nb){this.b.Zb||(this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P));if(this.b.Zb.fg!==this.b.L||this.b.Zb.eg!==this.b.K)a.deleteTexture(this.b.Zb),this.b.Zb=a.Pd(this.b.L,this.b.K,this.b.P);a.Zc(this.b.Zb);this.zd&&a.clear(0,0,0,0)}this.zd||a.clear(this.Jd[0]/255,this.Jd[1]/255,this.Jd[2]/255,1);this.ue=!0;var h=this.Ya(0,0,!0,!0),b=this.Ya(0,0,!1,!0);this.ue=!1;this.b.Yc&&(h=Math.round(h),b=Math.round(b));this.Ol(h,b,
null);h=this.kc();a.fe();a.scale(h,h);a.lp(-this.Ra());a.translate((this.na+this.ya)/-2,(this.pa+this.xa)/-2);a.me();this.Lc?(this.gc.left=this.Mb.Rb(this.na),this.gc.top=this.Mb.Sb(this.pa),this.gc.right=this.Mb.Rb(this.ya),this.gc.bottom=this.Mb.Sb(this.xa),this.ud||!this.gc.Vh(this.Di)?(q(this.xf),b=this.In(),this.ud=!1,this.Di.Mh(this.gc)):b=this.xf):b=this.c;var g,e,l=null,d=0;for(g=b.length;d<g;++d)e=b[d],e!==l&&(this.Sr(b[d],a),l=e);this.Lc&&(this.xf=b);this.ee&&(b=this.U.length?this.U[0].cb:
0,d=this.U.length?this.U[0].index:0,0===this.U.length||1===this.U.length&&!a.Gl(b)&&1===this.opacity?(1===this.U.length?(a.$c(b),a.Mf(this.Ja.rg(),1/this.b.L,1/this.b.K,0,0,1,1,h,this.Ra(),this.na,this.pa,(this.na+this.ya)/2,(this.pa+this.xa)/2,this.ua[d]),a.ej(b)&&(this.b.ca=!0)):a.$c(0),a.Zc(this.Ja.rg()),a.Se(this.opacity),a.Nb(this.b.Zb),a.ge(this.ib,this.hb),a.fe(),a.me(),h=this.b.L/2,b=this.b.K/2,a.eh(-h,b,h,b,h,-b,-h,-b),a.Nb(null)):this.Ja.Ml(a,this,null,this.Ja.rg()))};e.prototype.Sr=function(a,
b){if(a.visible&&0!==a.width&&0!==a.height){a.eb();var d=a.Xa;d.right<this.na||d.bottom<this.pa||d.left>this.ya||d.top>this.xa||(a.Pp?this.Tr(a,b):(b.$c(0),b.ge(a.ib,a.hb),a.Gb(b)))}};e.prototype.Tr=function(a,b){var d=a.U[0].cb,h=a.U[0].index,g=this.kc();if(1!==a.U.length||b.Gl(d)||b.$t(d)||(a.j||a.i.Ra())&&b.bh(d)||1!==a.opacity||a.type.ha.Co)this.Ja.Ml(b,this,a,this.ee?this.b.Zb:this.Ja.rg()),b.fe(),b.scale(g,g),b.lp(-this.Ra()),b.translate((this.na+this.ya)/-2,(this.pa+this.xa)/-2),b.me();else{b.$c(d);
b.ge(a.ib,a.hb);b.ej(d)&&(this.b.ca=!0);var e=0,l=0,f=0,k=0;b.bh(d)&&(d=a.Xa,e=this.oc(d.left,d.top,!0),l=this.oc(d.left,d.top,!1),f=this.oc(d.right,d.bottom,!0),d=this.oc(d.right,d.bottom,!1),e/=windowWidth,l=1-l/windowHeight,f/=windowWidth,k=1-d/windowHeight);b.Mf(this.ee?this.b.Zb:this.Ja.rg(),1/a.width,1/a.height,e,l,f,k,g,this.Ra(),this.na,this.pa,(this.na+this.ya)/2,(this.pa+this.xa)/2,a.ua[h]);a.Gb(b)}};e.prototype.Ya=function(a,b,d,h){var g=this.b.devicePixelRatio;this.b.rf&&(a*=g,b*=g);var g=
this.b.Wo,e=this.b.Xo,g=(this.Ja.scrollX-g)*this.rc+g,e=(this.Ja.scrollY-e)*this.tc+e,l=g,f=e,k=1/this.kc(!h);h?(l-=this.b.L*k/2,f-=this.b.K*k/2):(l-=this.b.width*k/2,f-=this.b.height*k/2);l+=a*k;f+=b*k;b=this.Ra();0!==b&&(l-=g,f-=e,a=Math.cos(b),b=Math.sin(b),h=l*a-f*b,f=f*a+l*b,l=h+g,f+=e);return d?l:f};e.prototype.oc=function(a,b,d){var h=this.b.Wo,g=this.b.Xo,h=(this.Ja.scrollX-h)*this.rc+h,e=(this.Ja.scrollY-g)*this.tc+g,g=h,l=e,f=this.Ra();if(0!==f){a-=h;b-=e;var k=Math.cos(-f),f=Math.sin(-f),
E=a*k-b*f;b=b*k+a*f;a=E+h;b+=e}h=1/this.kc(!1);g-=this.b.L*h/2;l-=this.b.K*h/2;g=(a-g)/h;return d?g:(b-l)/h};e.prototype.mb=function(){var a,b,d,h={s:this.scale,a:this.j,vl:this.na,vt:this.pa,vr:this.ya,vb:this.xa,v:this.visible,bc:this.Jd,t:this.zd,px:this.rc,py:this.tc,o:this.opacity,zr:this.Db,fx:[],cg:this.ig,instances:[]};a=0;for(b=this.F.length;a<b;a++)d=this.F[a],h.fx.push({name:d.name,active:d.Qa,params:this.ua[d.index]});return h};e.prototype.Kb=function(a){var b,d,h;this.scale=a.s;this.j=
a.a;this.na=a.vl;this.pa=a.vt;this.ya=a.vr;this.xa=a.vb;this.visible=a.v;this.Jd=a.bc;this.zd=a.t;this.rc=a.px;this.tc=a.py;this.opacity=a.o;this.Db=a.zr;this.ig=a.cg||[];za(this.Vb,this.yp);var g=new ca;b=0;for(h=this.ig.length;b<h;++b)g.add(this.ig[b]);d=b=0;for(h=this.Vb.length;b<h;++b)g.contains(this.Vb[b][2])||(this.Vb[d]=this.Vb[b],++d);this.Vb.length=d;d=a.fx;b=0;for(h=d.length;b<h;b++)if(a=this.zk(d[b].name))a.Qa=d[b].active,this.ua[a.index]=d[b].params;this.Ad();this.c.sort(k);this.Xe=!0};
Qb=e})();
(function(){function n(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function k(a,b){return a.index-b.index}function e(a){var b,c,d,h;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=r.length&&(r.length=a.length+1);r[a.length]||(r[a.length]=[]);h=r[a.length];b=0;for(c=h.length;b<c;b++)if(d=h[b],n(a,d))return d;h.push(a);return a}
function p(a,b){this.b=a;this.Gp={};this.wn={};this.Kk=!1;this.On=new ca;this.jk=[];this.Rj=[];this.name=b[0];var c=b[1];this.Td=[];var d,h;d=0;for(h=c.length;d<h;d++)this.Qn(c[d],null,this.Td)}function q(a){this.type=a;this.c=[];this.O=[];this.ma=!0}function d(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Da=[];this.he=[];this.Nn=this.yj=this.gm=this.Ok=this.group=this.xp=!1;this.gb=[];this.yc=[];this.wc=[];this.ug="";this.tg=this.Ok=this.group=!1;this.Kh=null;c[1]&&(this.ug=c[1][1].toLowerCase(),
this.group=!0,this.Ok=!!c[1][0],this.Kh=[],this.tg=this.Ok,this.b.cf.push(this),this.b.ki[this.ug]=this);this.Vc=c[2];this.M=c[4];this.group||(this.b.$m[this.M.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var h=new Rb(this,d[a]);h.index=a;this.gb.push(h);this.Pm(h.type)}d=c[6];a=0;for(b=d.length;a<b;a++)h=new Sb(this,d[a]),h.index=a,this.yc.push(h);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Qn(c[a],this,this.wc);this.vi=!1;this.gb.length&&(this.vi=null==this.gb[0].type&&
this.gb[0].Za==X.prototype.d.xm)}function a(a,b){var c,d,h;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Yb))for(c=0,d=a.Fb.length;c<d;c++)h=a.Fb[c],a!==h&&-1===b.indexOf(h)&&b.push(h)}function b(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.wa=[];this.X={};this.index=-1;this.$f=!1;this.Za=this.b.Ed(b[1]);this.trigger=0<b[3];this.vn=2===b[3];this.Uc=b[4];this.Uk=b[5];this.yt=b[6];this.M=b[7];this.b.hf[this.M.toString()]=this;-1===b[0]?(this.type=null,this.Ma=this.Rl,this.qe=null,this.Ac=-1):
(this.type=this.b.m[b[0]],this.Ma=this.yt?this.ju:this.Ql,b[2]?(this.qe=this.type.fi(b[2]),this.Ac=this.type.wk(b[2])):(this.qe=null,this.Ac=-1),this.Tb.parent&&this.Tb.parent.jj());this.vn&&(this.Ma=this.ku);if(10===b.length){var c,d,h=b[9];c=0;for(d=h.length;c<d;c++){var g=new Tb(this,h[c]);this.I.push(g)}this.wa.length=h.length}}function t(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.I=[];this.wa=[];this.X={};this.index=-1;this.$f=!1;this.Za=this.b.Ed(b[1]);-1===b[0]?(this.type=null,this.Ma=
this.Rl,this.qe=null,this.Ac=-1):(this.type=this.b.m[b[0]],this.Ma=this.Ql,b[2]?(this.qe=this.type.fi(b[2]),this.Ac=this.type.wk(b[2])):(this.qe=null,this.Ac=-1));this.M=b[3];this.b.bf[this.M.toString()]=this;if(6===b.length){var c,d,h=b[5];c=0;for(d=h.length;c<d;c++){var g=new Tb(this,h[c]);this.I.push(g)}this.wa.length=h.length}}function g(){l++;s.length===l&&s.push(new Ub);return s[l]}function c(a,b){this.la=a;this.Tb=a.Tb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rc=null;this.xd=0;this.get=
null;this.kn=0;this.Ja=null;this.key=0;this.object=null;this.index=0;this.xh=this.Ue=this.xh=this.Ue=this.xn=this.xe=this.yh=null;this.xc=!1;var c,d,h;switch(b[0]){case 0:case 7:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Us;break;case 1:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Vs;break;case 5:this.Rc=new Vb(this,b[1]);this.xd=0;this.get=this.Zs;break;case 3:case 8:this.kn=b[1];this.get=this.Ss;break;case 6:this.Ja=this.b.fl[b[1]];this.get=this.$s;break;case 9:this.key=b[1];this.get=
this.Ys;break;case 4:this.object=this.b.m[b[1]];this.get=this.bt;this.Tb.Pm(this.object);this.la instanceof Sb?this.Tb.jj():this.Tb.parent&&this.Tb.parent.jj();break;case 10:this.index=b[1];a.type.A?(this.get=this.Ws,this.xc=!0):this.get=this.Xs;break;case 11:this.yh=b[1];this.xe=null;this.get=this.Ts;break;case 2:case 12:this.xn=b[1];this.get=this.Rs;break;case 13:for(this.get=this.ct,this.Ue=[],this.xh=[],c=1,d=b.length;c<d;c++)h=new Tb(this.la,b[c]),this.Ue.push(h),this.xh.push(0)}}function m(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Da=[];this.name=c[1];this.pm=c[2];this.Nk=c[3];this.Eg=!!c[4];this.ti=!!c[5];this.M=c[6];this.b.Yf[this.M.toString()]=this;this.data=this.Nk;this.parent?(this.Oe=this.Eg||this.ti?-1:this.b.uu++,this.b.mr.push(this)):(this.Oe=-1,this.b.lr.push(this))}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Da=[];this.wg=null;this.jt=c[1];this.Qa=!0}function h(){this.Ap=[];this.reset(null)}var r=[];p.prototype.toString=function(){return this.name};
p.prototype.Qn=function(a,b,c){switch(a[0]){case 0:a=new Wb(this,b,a);if(a.Vc)for(c.push(a),c=0,b=a.gb.length;c<b;c++)a.gb[c].trigger&&this.Rn(a,c);else a.Yn()?this.Rn(a,0):c.push(a);break;case 1:a=new Nb(this,b,a);c.push(a);break;case 2:a=new Xb(this,b,a),c.push(a)}};p.prototype.Ca=function(){var a,b;a=0;for(b=this.Td.length;a<b;a++)this.Td[a].Ca(a<b-1&&this.Td[a+1].vi)};p.prototype.km=function(){this.jk.length=0;this.Rj.length=0;this.Om(this);this.Rj.length=0};p.prototype.Om=function(a){var b,c,
d,h,g=a.jk,e=a.Rj,l=this.On.Bd();b=0;for(c=l.length;b<c;++b)d=l[b],h=d.wg,!d.Qa||a===h||-1<e.indexOf(h)||(e.push(h),h.Om(a),g.push(h))};p.prototype.Ma=function(a){this.b.Uv||(this.Kk=!0,a||(this.b.Yk=!0));var b,c;b=0;for(c=this.Td.length;b<c;b++){var d=this.Td[b];d.Ma();this.b.ck(d.Da);this.b.Vd&&this.b.fb()}a||(this.b.Yk=!1)};p.prototype.Rn=function(a,b){a.Vc||this.b.Bj.push(a);var c,d,h=a.gb[b],g;g=h.type?h.type.name:"system";var e=(c=h.vn)?this.wn:this.Gp;e[g]||(e[g]=[]);g=e[g];e=h.Za;if(c){if(h.I.length&&
(h=h.I[0],1===h.type&&2===h.Rc.type)){h=h.Rc.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==e){c=g[c].mg;c[h]?c[h].push([a,b]):c[h]=[[a,b]];return}c={};c[h]=[[a,b]];g.push({method:e,mg:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==e){g[c].mg.push([a,b]);return}Y&&e===Y.prototype.d.$e?g.unshift({method:e,mg:[[a,b]]}):g.push({method:e,mg:[[a,b]]})}};Db=p;q.prototype.Jk=function(){return this.ma?this.type.c.length:this.c.length};q.prototype.Ec=function(){return this.ma?this.type.c:
this.c};q.prototype.ah=function(a){a&&(a.b.Hb().Cc.Vc?(this.ma&&(this.c.length=0,za(this.O,a.type.c),this.ma=!1),a=this.O.indexOf(a),-1!==a&&(this.c.push(this.O[a]),this.O.splice(a,1))):(this.ma=!1,this.c.length=1,this.c[0]=a))};lb=q;window._c2hh_="";d.prototype.Ca=function(a){var b,c=this.parent;if(this.group)for(this.yj=!0;c;){if(!c.group){this.yj=!1;break}c=c.parent}this.gm=!this.Yn()&&(!this.parent||this.parent.group&&this.parent.yj);this.Nn=!!a;this.he=this.Da.slice(0);for(c=this.parent;c;){a=
0;for(b=c.Da.length;a<b;a++)this.jr(c.Da[a]);c=c.parent}this.Da=e(this.Da);this.he=e(this.he);a=0;for(b=this.gb.length;a<b;a++)this.gb[a].Ca();a=0;for(b=this.yc.length;a<b;a++)this.yc[a].Ca();a=0;for(b=this.wc.length;a<b;a++)this.wc[a].Ca(a<b-1&&this.wc[a+1].vi)};d.prototype.ou=function(a){if(this.tg!==!!a){this.tg=!!a;var b;a=0;for(b=this.Kh.length;a<b;++a)this.Kh[a].Mp();0<b&&this.b.ja.we&&this.b.ja.we.km()}};d.prototype.Pm=function(b){a(b,this.Da)};d.prototype.jr=function(b){a(b,this.he)};d.prototype.jj=
function(){this.xp=!0;this.parent&&this.parent.jj()};d.prototype.Yn=function(){return this.gb.length?this.gb[0].trigger:!1};d.prototype.Ma=function(){var a,b=!1,c,d=this.b,h=this.b.Hb();h.Cc=this;var g=this.gb;this.vi||(h.lk=!1);if(this.Vc){0===g.length&&(b=!0);h.sb=0;for(a=g.length;h.sb<a;h.sb++)g[h.sb].trigger||(c=g[h.sb].Ma())&&(b=!0);(h.Je=b)&&this.Pl()}else{h.sb=0;for(a=g.length;h.sb<a;h.sb++)if(c=g[h.sb].Ma(),!c){h.Je=!1;this.gm&&d.Vd&&d.fb();return}h.Je=!0;this.Pl()}this.Wr(h)};d.prototype.Wr=
function(a){a.Je&&this.Nn&&(a.lk=!0);this.gm&&this.b.Vd&&this.b.fb()};d.prototype.hu=function(a){this.b.Hb().Cc=this;this.gb[a].Ma()&&(this.Pl(),this.b.Hb().Je=!0)};d.prototype.Pl=function(){var a=this.b.Hb(),b;a.ac=0;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].Ma())return;this.mp()};d.prototype.fu=function(){var a=this.b.Hb(),b;for(b=this.yc.length;a.ac<b;a.ac++)if(this.yc[a.ac].Ma())return;this.mp()};d.prototype.mp=function(){if(this.wc.length){var a,b,c,d,h=this.wc.length-1;this.b.Il(this);
if(this.xp)for(a=0,b=this.wc.length;a<b;a++)c=this.wc[a],(d=!this.yj||!this.group&&a<h)&&this.b.Hl(c.Da),c.Ma(),d?this.b.If(c.Da):this.b.ck(c.Da);else for(a=0,b=this.wc.length;a<b;a++)this.wc[a].Ma();this.b.cp()}};d.prototype.iu=function(){var a=this.b.Hb();a.Cc=this;var b=!1,c;a.sb=0;for(c=this.gb.length;a.sb<c;a.sb++)if(this.gb[a.sb].Ma())b=!0;else if(!this.Vc)return!1;return this.Vc?b:!0};d.prototype.pt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.gb[b].type===a.type)return!1;
return!0};Wb=d;b.prototype.Ca=function(){var a,b,c;a=0;for(b=this.I.length;a<b;a++)c=this.I[a],c.Ca(),c.xc&&(this.$f=!0)};b.prototype.ku=function(){return!0};b.prototype.Rl=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.wa[a]=this.I[a].get();return Ta(this.Za.apply(this.b.ad,this.wa),this.Uk)};b.prototype.ju=function(){var a,b;a=0;for(b=this.I.length;a<b;a++)this.wa[a]=this.I[a].get();a=this.Za.apply(this.qe?this.qe:this.type,this.wa);this.type.Id();return a};b.prototype.Ql=function(){var a,
b,c,d,h,g,e,l,m=this.type,k=m.fa(),r=this.Tb.Vc&&!this.trigger;b=0;var n=m.Yb,q=m.A,s=m.md,p=this.Ac,t=-1<p,u=this.$f,A=this.I,B=this.wa,L=this.Uk,G=this.Za,J;if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc||(B[b]=g.get(0));else for(b=0,h=A.length;b<h;++b)B[b]=A[b].get(0);if(k.ma){k.c.length=0;k.O.length=0;J=m.c;a=0;for(d=J.length;a<d;++a){l=J[a];if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc&&(B[b]=g.get(a));t?(b=0,q&&(b=l.type.kf[s]),b=G.apply(l.G[p+b],B)):b=G.apply(l,B);(e=Ta(b,L))?k.c.push(l):r&&k.O.push(l)}m.finish&&
m.finish(!0);k.ma=!1;m.Id();return k.Jk()}c=0;J=(e=r&&!this.Tb.pt(this))?k.O:k.c;var H=!1;a=0;for(d=J.length;a<d;++a){l=J[a];if(u)for(b=0,h=A.length;b<h;++b)g=A[b],g.xc&&(B[b]=g.get(a));t?(b=0,q&&(b=l.type.kf[s]),b=G.apply(l.G[p+b],B)):b=G.apply(l,B);if(Ta(b,L))if(H=!0,e){if(k.c.push(l),n)for(b=0,h=l.siblings.length;b<h;b++)g=l.siblings[b],g.type.fa().c.push(g)}else{J[c]=l;if(n)for(b=0,h=l.siblings.length;b<h;b++)g=l.siblings[b],g.type.fa().c[c]=g;c++}else if(e){J[c]=l;if(n)for(b=0,h=l.siblings.length;b<
h;b++)g=l.siblings[b],g.type.fa().O[c]=g;c++}else if(r&&(k.O.push(l),n))for(b=0,h=l.siblings.length;b<h;b++)g=l.siblings[b],g.type.fa().O.push(g)}J.length=c;if(n)for(q=m.Fb,a=0,d=q.length;a<d;a++)l=q[a].fa(),e?l.O.length=c:l.c.length=c;c=H;if(e&&!H)for(a=0,d=k.c.length;a<d;a++){l=k.c[a];if(u)for(b=0,h=A.length;b<h;b++)g=A[b],g.xc&&(B[b]=g.get(a));b=t?G.apply(l.G[p],B):G.apply(l,B);if(Ta(b,L)){H=!0;break}}m.finish&&m.finish(c||r);return r?H:k.Jk()};Rb=b;t.prototype.Ca=function(){var a,b,c;a=0;for(b=
this.I.length;a<b;a++)c=this.I[a],c.Ca(),c.xc&&(this.$f=!0)};t.prototype.Rl=function(){var a=this.b,b,c,d=this.I,h=this.wa;b=0;for(c=d.length;b<c;++b)h[b]=d[b].get();return this.Za.apply(a.ad,h)};t.prototype.Ql=function(){var a=this.type,b=this.Ac,c=a.md,d=this.$f,h=this.I,g=this.wa,e=this.Za,l=a.fa().Ec(),a=a.A,m=-1<b,k,r,n,q,s,p;if(d)for(r=0,q=h.length;r<q;++r)s=h[r],s.xc||(g[r]=s.get(0));else for(r=0,q=h.length;r<q;++r)g[r]=h[r].get(0);k=0;for(n=l.length;k<n;++k){p=l[k];if(d)for(r=0,q=h.length;r<
q;++r)s=h[r],s.xc&&(g[r]=s.get(k));m?(r=0,a&&(r=p.type.kf[c]),e.apply(p.G[b+r],g)):e.apply(p,g)}return!1};Sb=t;var s=[],l=-1;c.prototype.Ca=function(){var a,b;if(11===this.type)this.xe=this.b.En(this.yh,this.Tb.parent);else if(13===this.type)for(a=0,b=this.Ue.length;a<b;a++)this.Ue[a].Ca();this.Rc&&this.Rc.Ca()};c.prototype.Et=function(a){this.xc||!a||a.ha.mj||(this.xc=!0)};c.prototype.qp=function(){this.xc=!0};c.prototype.Us=function(a){this.xd=a||0;a=g();this.Rc.get(a);l--;return a.data};c.prototype.Vs=
function(a){this.xd=a||0;a=g();this.Rc.get(a);l--;return P(a.data)?a.data:""};c.prototype.bt=function(){return this.object};c.prototype.Ss=function(){return this.kn};c.prototype.Zs=function(a){this.xd=a||0;a=g();this.Rc.get(a);l--;return a.Ia()?this.b.od(a.data):this.b.qg(a.data)};c.prototype.$s=function(){return this.Ja};c.prototype.Ys=function(){return this.key};c.prototype.Xs=function(){return this.index};c.prototype.Ws=function(a){a=a||0;var b=this.la.type,c=null,c=b.fa(),d=c.Ec();if(d.length)c=
d[a%d.length].type;else if(c.O.length)c=c.O[a%c.O.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.$h[b.md]};c.prototype.Ts=function(){return this.xe};c.prototype.Rs=function(){return this.xn};c.prototype.ct=function(){var a,b;a=0;for(b=this.Ue.length;a<b;a++)this.xh[a]=this.Ue[a].get();return this.xh};Tb=c;m.prototype.Ca=function(){this.Da=e(this.Da)};m.prototype.Of=function(a){var b=this.b.Dn();this.parent&&!this.Eg&&b?(this.Oe>=b.length&&(b.length=this.Oe+
1),b[this.Oe]=a):this.data=a};m.prototype.ji=function(){var a=this.b.Dn();return!this.parent||this.Eg||!a||this.ti?this.data:this.Oe>=a.length||"undefined"===typeof a[this.Oe]?this.Nk:a[this.Oe]};m.prototype.Ma=function(){!this.parent||this.Eg||this.ti||this.Of(this.Nk)};Nb=m;u.prototype.toString=function(){return"include:"+this.wg.toString()};u.prototype.Ca=function(){this.wg=this.b.nk[this.jt];this.sheet.On.add(this);this.Da=e(this.Da);for(var a=this.parent;a;)a.group&&a.Kh.push(this),a=a.parent;
this.Mp()};u.prototype.Ma=function(){this.parent&&this.b.dh(this.b.m);this.wg.Kk||this.wg.Ma(!0);this.parent&&this.b.If(this.b.m)};u.prototype.Mp=function(){for(var a=this.parent;a;){if(a.group&&!a.tg){this.Qa=!1;return}a=a.parent}this.Qa=!0};Xb=u;h.prototype.reset=function(a){this.Cc=a;this.ac=this.sb=0;this.Ap.length=0;this.lk=this.Je=!1};Mb=h})();
(function(){function n(a,b){this.la=a;this.b=a.b;this.type=b[0];this.get=[this.ks,this.es,this.us,this.xs,this.Yr,this.vs,this.os,this.bs,this.ns,this.ts,this.Zr,this.rs,this.cs,this.ps,this.ls,this.ms,this.gs,this.hs,this.as,this.ws,this.qs,this.js,this.$r,this.ds][this.type];var d=null;this.sd=this.I=this.wa=this.Za=this.wj=this.Ua=this.first=this.value=null;this.Ac=-1;this.Wd=null;this.Rp=-1;this.xe=this.yh=null;this.Lf=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Vb(a,b[1]);break;case 18:this.first=new Vb(a,b[1]);this.Ua=new Vb(a,b[2]);this.wj=new Vb(a,b[3]);break;case 19:this.Za=this.b.Ed(b[1]);this.Za!==X.prototype.va.random&&this.Za!==X.prototype.va.ur||this.la.qp();this.wa=[];this.I=[];3===b.length?(d=b[2],this.wa.length=d.length+1):this.wa.length=1;break;case 20:this.sd=this.b.m[b[1]];this.Ac=-1;this.Za=this.b.Ed(b[2]);this.Lf=b[3];Zb.Function&&this.Za===Zb.Function.prototype.va.Qu&&this.la.qp();this.Wd=b[4]?new Vb(a,b[4]):null;this.wa=[];this.I=
[];6===b.length?(d=b[5],this.wa.length=d.length+1):this.wa.length=1;break;case 21:this.sd=this.b.m[b[1]];this.Lf=b[2];this.Wd=b[3]?new Vb(a,b[3]):null;this.Rp=b[4];break;case 22:this.sd=this.b.m[b[1]];this.sd.fi(b[2]);this.Ac=this.sd.wk(b[2]);this.Za=this.b.Ed(b[3]);this.Lf=b[4];this.Wd=b[5]?new Vb(a,b[5]):null;this.wa=[];this.I=[];7===b.length?(d=b[6],this.wa.length=d.length+1):this.wa.length=1;break;case 23:this.yh=b[1],this.xe=null}this.la.Et(this.sd);4<=this.type&&17>=this.type&&(this.first=new Vb(a,
b[1]),this.Ua=new Vb(a,b[2]));if(d){var g,c;g=0;for(c=d.length;g<c;g++)this.I.push(new Vb(a,d[g]))}}function k(){++d;q.length===d&&q.push(new Ub);return q[d]}function e(a,b,d){var g,c;g=0;for(c=a.length;g<c;++g)a[g].get(d),b[g+1]=d.data}function p(a,b){this.type=a||W.Ze;this.data=b||0;this.Pe=null;this.type==W.Ze&&(this.data=Math.floor(this.data))}n.prototype.Ca=function(){23===this.type&&(this.xe=this.la.b.En(this.yh,this.la.Tb.parent));this.first&&this.first.Ca();this.Ua&&this.Ua.Ca();this.wj&&
this.wj.Ca();this.Wd&&this.Wd.Ca();if(this.I){var a,b;a=0;for(b=this.I.length;a<b;a++)this.I[a].Ca()}};var q=[],d=-1;n.prototype.ws=function(a){var b=this.I,n=this.wa;n[0]=a;a=k();e(b,n,a);--d;this.Za.apply(this.b.ad,n)};n.prototype.qs=function(a){var b=this.sd,n=this.wa,g=this.I,c=this.Wd,m=this.Za,q=this.la.xd,h=b.fa(),r=h.Ec();if(!r.length)if(h.O.length)r=h.O;else{this.Lf?a.bb(""):a.da(0);return}n[0]=a;a.Pe=b;a=k();e(g,n,a);c&&(c.get(a),a.Ia()&&(q=a.data,r=b.c));--d;b=r.length;if(q>=b||q<=-b)q%=
b;0>q&&(q+=b);m.apply(r[q],n)};n.prototype.$r=function(a){var b=this.sd,q=this.wa,g=this.I,c=this.Wd,m=this.Ac,n=this.Za,h=this.la.xd,r=b.fa(),s=r.Ec();if(!s.length)if(r.O.length)s=r.O;else{this.Lf?a.bb(""):a.da(0);return}q[0]=a;a.Pe=b;a=k();e(g,q,a);c&&(c.get(a),a.Ia()&&(h=a.data,s=b.c));--d;g=s.length;if(h>=g||h<=-g)h%=g;0>h&&(h+=g);h=s[h];s=0;b.A&&(s=h.type.kf[b.md]);n.apply(h.G[m+s],q)};n.prototype.js=function(a){var b=this.Wd,e=this.sd,g=this.Rp,c=this.la.xd,m=e.fa(),q=m.Ec();if(!q.length)if(m.O.length)q=
m.O;else{this.Lf?a.bb(""):a.da(0);return}if(b){m=k();b.get(m);if(m.Ia()){c=m.data;e=e.c;c%=e.length;0>c&&(c+=e.length);g=e[c].Ha[g];P(g)?a.bb(g):a.q(g);--d;return}--d}b=q.length;if(c>=b||c<=-b)c%=b;0>c&&(c+=b);c=q[c];q=0;e.A&&(q=c.type.$h[e.md]);g=c.Ha[g+q];P(g)?a.bb(g):a.q(g)};n.prototype.ks=function(a){a.type=W.Ze;a.data=this.value};n.prototype.es=function(a){a.type=W.Ye;a.data=this.value};n.prototype.us=function(a){a.type=W.String;a.data=this.value};n.prototype.xs=function(a){this.first.get(a);
a.Ia()&&(a.data=-a.data)};n.prototype.Yr=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data+=b.data,b.tf()&&a.Cf());--d};n.prototype.vs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data-=b.data,b.tf()&&a.Cf());--d};n.prototype.os=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data*=b.data,b.tf()&&a.Cf());--d};n.prototype.bs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data/=b.data,a.Cf());
--d};n.prototype.ns=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data%=b.data,b.tf()&&a.Cf());--d};n.prototype.ts=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data=Math.pow(a.data,b.data),b.tf()&&a.Cf());--d};n.prototype.Zr=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()?b.wi()?a.bb(a.data.toString()+b.data):a.data&&b.data?a.da(1):a.da(0):a.wi()&&(a.data=b.wi()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());--d};
n.prototype.rs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.Ia()&&b.Ia()&&(a.data||b.data?a.da(1):a.da(0));--d};n.prototype.as=function(a){this.first.get(a);a.data?this.Ua.get(a):this.wj.get(a)};n.prototype.cs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data===b.data?1:0);--d};n.prototype.ps=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data!==b.data?1:0);--d};n.prototype.ls=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data<b.data?1:0);
--d};n.prototype.ms=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data<=b.data?1:0);--d};n.prototype.gs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data>b.data?1:0);--d};n.prototype.hs=function(a){this.first.get(a);var b=k();this.Ua.get(b);a.da(a.data>=b.data?1:0);--d};n.prototype.ds=function(a){var b=this.xe.ji();O(b)?a.q(b):a.bb(b)};Vb=n;p.prototype.tf=function(){return this.type===W.Ye};p.prototype.Ia=function(){return this.type===W.Ze||this.type===W.Ye};p.prototype.wi=
function(){return this.type===W.String};p.prototype.Cf=function(){this.tf()||(this.wi()&&(this.data=parseFloat(this.data)),this.type=W.Ye)};p.prototype.da=function(a){this.type=W.Ze;this.data=Math.floor(a)};p.prototype.q=function(a){this.type=W.Ye;this.data=a};p.prototype.bb=function(a){this.type=W.String;this.data=a};p.prototype.su=function(a){O(a)?(this.type=W.Ye,this.data=a):P(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.Ze,this.data=0)};Ub=p;W={Ze:0,Ye:1,String:2}})();
function X(n){this.b=n;this.Qb=[]}X.prototype.mb=function(){var n={},k,e,p,q,d,a,b,t;n.waits=[];var g=n.waits,c;k=0;for(e=this.Qb.length;k<e;k++){a=this.Qb[k];c={t:a.time,st:a.tu,s:a.vp,ev:a.lg.M,sm:[],sols:{}};a.lg.yc[a.ac]&&(c.act=a.lg.yc[a.ac].M);p=0;for(q=a.Da.length;p<q;p++)c.sm.push(a.Da[p].M);for(d in a.Ob)if(a.Ob.hasOwnProperty(d)){b=this.b.m[parseInt(d,10)];t={sa:a.Ob[d].np,insts:[]};p=0;for(q=a.Ob[d].Ee.length;p<q;p++)t.insts.push(a.Ob[d].Ee[p].uid);c.sols[b.M.toString()]=t}g.push(c)}return n};
X.prototype.Kb=function(n){n=n.waits;var k,e,p,q,d,a,b,t,g,c,m;k=this.Qb.length=0;for(e=n.length;k<e;k++)if(a=n[k],t=this.b.$m[a.ev.toString()]){g=-1;p=0;for(q=t.yc.length;p<q;p++)if(t.yc[p].M===a.act){g=p;break}if(-1!==g){b={Ob:{},Da:[],pn:!1};b.time=a.t;b.tu=a.st||"";b.vp=!!a.s;b.lg=t;b.ac=g;p=0;for(q=a.sm.length;p<q;p++)(t=this.b.ii(a.sm[p]))&&b.Da.push(t);for(d in a.sols)if(a.sols.hasOwnProperty(d)&&(t=this.b.ii(parseInt(d,10)))){g=a.sols[d];c={np:g.sa,Ee:[]};p=0;for(q=g.insts.length;p<q;p++)(m=
this.b.hi(g.insts[p]))&&c.Ee.push(m);b.Ob[t.index.toString()]=c}this.Qb.push(b)}}};
(function(){function n(){}function k(){}function e(){}var p=X.prototype;n.prototype.bq=function(){return!0};n.prototype.Aq=function(){return!0};n.prototype.zq=function(){return!0};n.prototype.aq=function(a){var b=this.b.Cn(),d=b.X.Every_lastTime||0,g=this.b.yb.V;"undefined"===typeof b.X.Every_seconds&&(b.X.Every_seconds=a);var c=b.X.Every_seconds;if(g>=d+c)return b.X.Every_lastTime=d+c,g>=b.X.Every_lastTime+.04&&(b.X.Every_lastTime=g),b.X.Every_seconds=a,!0;g<d-.1&&(b.X.Every_lastTime=g);return!1};
n.prototype.Yp=function(a,b,d){return Yb(a.ji(),b,d)};n.prototype.xm=function(){var a=this.b.Hb();return a.lk?!1:!a.Je};n.prototype.Cm=function(){return!0};n.prototype.oq=function(){return!0};n.prototype.Nj=function(){return!0};n.prototype.Bq=function(){return!0};n.prototype.Lj=function(){return!0};n.prototype.Up=function(a,b,d){return Ka(V(a),V(d))<=V(b)};n.prototype.hq=function(a,b){return Ma(V(a),V(b))};n.prototype.fq=function(a,b,d){a=Ia(a);b=Ia(b);d=Ia(d);return Ma(d,b)?Ma(a,b)&&!Ma(a,d):!(!Ma(a,
b)&&Ma(a,d))};p.d=new n;k.prototype.$p=function(a,b,d,g){if(b&&a&&(b=this.b.mn(a,b,d,g))){this.b.Fc++;var c;this.b.trigger(Object.getPrototypeOf(a.ha).d.Jj,b);if(b.Yb)for(d=0,g=b.siblings.length;d<g;d++)c=b.siblings[d],this.b.trigger(Object.getPrototypeOf(c.type.ha).d.Jj,c);this.b.Fc--;a=a.fa();a.ma=!1;a.c.length=1;a.c[0]=b;if(b.Yb)for(d=0,g=b.siblings.length;d<g;d++)c=b.siblings[d],a=c.type.fa(),a.ma=!1,a.c.length=1,a.c[0]=c}};k.prototype.Uq=function(a,b){0===a.pm?O(b)?a.Of(b):a.Of(parseFloat(b)):
1===a.pm&&a.Of(b.toString())};k.prototype.Zq=function(a,b){0===a.pm&&(O(b)?a.Of(a.ji()-b):a.Of(a.ji()-parseFloat(b)))};var q=[],d=[];p.Z=new k;e.prototype["int"]=function(a,b){P(b)?(a.da(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.da(b)};e.prototype["float"]=function(a,b){P(b)?(a.q(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.q(b)};e.prototype.random=function(a,b,d){void 0===d?a.q(Math.random()*b):a.q(Math.random()*(d-b)+b)};e.prototype.sqrt=function(a,b){a.q(Math.sqrt(b))};e.prototype.abs=function(a,
b){a.q(Math.abs(b))};e.prototype.round=function(a,b){a.da(Math.round(b))};e.prototype.floor=function(a,b){a.da(Math.floor(b))};e.prototype.ceil=function(a,b){a.da(Math.ceil(b))};e.prototype.sin=function(a,b){a.q(Math.sin(V(b)))};e.prototype.cos=function(a,b){a.q(Math.cos(V(b)))};e.prototype.tan=function(a,b){a.q(Math.tan(V(b)))};e.prototype.asin=function(a,b){a.q(Da(Math.asin(b)))};e.prototype.acos=function(a,b){a.q(Da(Math.acos(b)))};e.prototype.atan=function(a,b){a.q(Da(Math.atan(b)))};e.prototype.exp=
function(a,b){a.q(Math.exp(b))};e.prototype.log10=function(a,b){a.q(Math.log(b)/Math.LN10)};e.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var d,g,c;d=2;for(g=arguments.length;d<g;d++)c=arguments[d],"number"===typeof c&&b<c&&(b=c);a.q(b)};e.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var d,g,c;d=2;for(g=arguments.length;d<g;d++)c=arguments[d],"number"===typeof c&&b>c&&(b=c);a.q(b)};e.prototype.ve=function(a){a.q(this.b.ve)};e.prototype.We=function(a){a.q(this.b.We)};
e.prototype.time=function(a){a.q(this.b.yb.V)};e.prototype.vh=function(a){a.da(this.b.vh)};e.prototype.Ri=function(a){a.da(this.b.Ri)};e.prototype.sk=function(a){a.da(this.b.sk)};e.prototype.j=function(a,b,d,g,c){a.q(Da(Ja(b,d,g,c)))};e.prototype.find=function(a,b,d){P(b)&&P(d)?a.da(b.search(new RegExp(ab(d),"i"))):a.da(-1)};e.prototype.left=function(a,b,d){a.bb(P(b)?b.substr(0,d):"")};e.prototype.right=function(a,b,d){a.bb(P(b)?b.substr(b.length-d):"")};e.prototype.replace=function(a,b,d,g){P(b)&&
P(d)&&P(g)?a.bb(b.replace(new RegExp(ab(d),"gi"),g)):a.bb(P(b)?b:"")};e.prototype.trim=function(a,b){a.bb(P(b)?b.trim():"")};e.prototype.ur=function(a){var b=R(Math.random()*(arguments.length-1));a.su(arguments[b+1])};e.prototype.ek=function(a){a.q(this.b.ek/1E3)};e.prototype.Af=function(a){a.q(this.b.Af)};p.va=new e;p.gu=function(){var a,b,e,g,c,m,k=this.b.Hb();a=0;for(e=this.Qb.length;a<e;a++){g=this.Qb[a];if(-1===g.time){if(!g.vp)continue}else if(g.time>this.b.yb.V)continue;k.Cc=g.lg;k.ac=g.ac;
k.sb=0;for(b in g.Ob)g.Ob.hasOwnProperty(b)&&(c=this.b.m[parseInt(b,10)].fa(),m=g.Ob[b],c.ma=m.np,za(c.c,m.Ee),c=m,c.Ee.length=0,d.push(c));g.lg.fu();this.b.ck(g.Da);g.pn=!0}b=a=0;for(e=this.Qb.length;a<e;a++)g=this.Qb[a],this.Qb[b]=g,g.pn?(Va(g.Ob),g.Da.length=0,q.push(g)):b++;this.Qb.length=b}})();
(function(){kb=function(k,e){var n=k[1],q=k[3],d=k[4],a=k[5],b=k[6],t=k[7],g=k[8];e.d||(e.d={});e.Z||(e.Z={});e.va||(e.va={});var c=e.d,m=e.Z,u=e.va;q&&(c.Uu=function(a,b){return Yb(this.x,a,b)},c.Zp=function(a,b){return Yb(this.y,a,b)},c.$u=function(){var a=this.i;this.eb();var b=this.Xa;return!(b.right<a.na||b.bottom<a.pa||b.left>a.ya||b.top>a.xa)},c.av=function(){this.eb();var a=this.Xa,b=this.b.ja;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.ov=function(a,b,c){var d=this.fa(),
f=d.Ec();if(!f.length)return!1;var g=f[0],e=g,m=Sa(g.x,g.y,b,c),k,q,n;k=1;for(q=f.length;k<q;k++)if(g=f[k],n=Sa(g.x,g.y,b,c),0===a&&n<m||1===a&&n>m)m=n,e=g;d.ah(e);return!0},m.Ev=function(a){this.x!==a&&(this.x=a,this.Na())},m.Fv=function(a){this.y!==a&&(this.y=a,this.Na())},m.Sq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Na()},m.Bv=function(a,b){var c=a.Ms(this);if(c){var d;c.Bk?(d=c.Bk(b,!0),c=c.Bk(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Na()}},
m.hv=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.Na())},m.gv=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.Na())},u.Ah=function(a){a.q(this.x)},u.Bh=function(a){a.q(this.y)},u.ve=function(a){a.q(this.b.yk(this))});d&&(c.Tu=function(a,b){return Yb(this.width,a,b)},c.Ru=function(a,b){return Yb(this.height,a,b)},m.Vq=function(a){this.width!==a&&(this.width=a,this.Na())},m.zv=function(a){this.height!==a&&(this.height=a,this.Na())},m.Cv=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Na()},u.Iv=function(a){a.q(this.width)},u.Xu=function(a){a.q(this.height)},u.Nu=function(a){this.eb();a.q(this.Xa.left)},u.Pu=function(a){this.eb();a.q(this.Xa.top)},u.Ou=function(a){this.eb();a.q(this.Xa.right)},u.Mu=function(a){this.eb();a.q(this.Xa.bottom)});a&&(c.Up=function(a,b){return Ka(this.j,V(b))<=V(a)},c.hq=function(a){return Ma(this.j,V(a))},c.fq=function(a,b){var c=Ia(a),d=Ia(b),f=Fa(this.j);return Ma(d,
c)?Ma(f,c)&&!Ma(f,d):!(!Ma(f,c)&&Ma(f,d))},m.Nq=function(a){a=V(Ea(a));isNaN(a)||this.j===a||(this.j=a,this.Na())},m.sv=function(a){0===a||isNaN(a)||(this.j+=V(a),this.j=Fa(this.j),this.Na())},m.tv=function(a){0===a||isNaN(a)||(this.j-=V(a),this.j=Fa(this.j),this.Na())},m.uv=function(a,b){var c=La(this.j,V(b),V(a));isNaN(c)||this.j===c||(this.j=c,this.Na())},m.vv=function(a,b,c){a=La(this.j,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.j===a||(this.j=a,this.Na())},m.Dv=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.j===c||(this.j=c,this.Na())},u.Lu=function(a){a.q(Ha(this.j))});n||(c.Xp=function(a,b,c){return Yb(this.Ha[a],b,c)},c.gq=function(a){return this.Ha[a]},c.pv=function(a,b){var c=this.fa(),d=c.Ec();if(!d.length)return!1;var f=d[0],g=f,e=f.Ha[b],m,k,q;m=1;for(k=d.length;m<k;m++)if(f=d[m],q=f.Ha[b],0===a&&q<e||1===a&&q>e)e=q,g=f;c.ah(g);return!0},c.nv=function(a){var b,c,d,f,g;if(this.b.Cn().Uk){g=this.fa();if(g.ma)for(g.ma=!1,g.c.length=0,g.O.length=0,d=this.c,b=0,c=d.length;b<
c;b++)f=d[b],f.uid===a?g.O.push(f):g.c.push(f);else{d=b=0;for(c=g.c.length;b<c;b++)f=g.c[b],g.c[d]=f,f.uid===a?g.O.push(f):d++;g.c.length=d}this.Id();return!!g.c.length}f=this.b.hi(a);if(!f)return!1;g=this.fa();if(!g.ma&&-1===g.c.indexOf(f))return!1;if(this.A)for(a=f.type.ra,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.ah(f),this.Id(),!0}else if(f.type===this)return g.ah(f),this.Id(),!0;return!1},c.Jj=function(){return!0},c.pq=function(){return!0},m.Rq=function(a,b){var c=this.Ha;O(c[a])?c[a]=
O(b)?b:parseFloat(b):P(c[a])&&(c[a]=P(b)?b:b.toString())},m.Ku=function(a,b){var c=this.Ha;O(c[a])?c[a]=O(b)?c[a]+b:c[a]+parseFloat(b):P(c[a])&&(c[a]=P(b)?c[a]+b:c[a]+b.toString())},m.Yq=function(a,b){var c=this.Ha;O(c[a])&&(c[a]=O(b)?c[a]-b:c[a]-parseFloat(b))},m.Qq=function(a,b){this.Ha[a]=b?1:0},m.Gv=function(a){this.Ha[a]=1-this.Ha[a]},m.Wu=function(){this.b.Dd(this)},m.jq||(m.jq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Ii(this,b,!0);this.Gd&&this.Gd();if(this.G)for(a=0,
b=this.G.length;a<b;++a)c=this.G[a],c.Gd&&c.Gd()}),u.Vu=function(a){var b=a.Pe.c.length,c,d,f;c=0;for(d=this.b.Qc.length;c<d;c++)f=this.b.Qc[c],a.Pe.A?0<=f.type.ra.indexOf(a.Pe)&&b++:f.type===a.Pe&&b++;a.da(b)},u.rv=function(a){a.da(a.Pe.fa().Ec().length)},u.Hv=function(a){a.da(this.uid)},u.Yu=function(a){a.da(this.sg())},u.wm||(u.wm=function(a){a.bb(JSON.stringify(this.b.Sl(this,!0)))}));b&&(c.bv=function(){return this.visible},m.Km=function(a){!a!==!this.visible&&(this.visible=a,this.b.ca=!0)},
c.Su=function(a,b){return Yb(gb(100*this.opacity),a,b)},m.Av=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ca=!0)},u.Opacity=function(a){a.q(gb(100*this.opacity))});t&&(c.Zu=function(a){return a?this.i===a:!1},c.qv=function(a){var b=this.fa(),c=b.Ec();if(!c.length)return!1;var d=c[0],f=d,g,e;g=1;for(e=c.length;g<e;g++)if(d=c[g],0===a){if(d.i.index>f.i.index||d.i.index===f.i.index&&d.Tc()>f.Tc())f=d}else if(d.i.index<f.i.index||d.i.index===f.i.index&&d.Tc()<f.Tc())f=
d;b.ah(f);return!0},m.kv=function(){var a=this.i,b=a.c;b.length&&b[b.length-1]===this||(a.Kf(this,!1),a.bg(this,!1),this.b.ca=!0)},m.iv=function(){var a=this.i,b=a.c;b.length&&b[0]===this||(a.Kf(this,!1),a.Yt(this),this.b.ca=!0)},m.jv=function(a){a&&a!=this.i&&(this.i.Kf(this,!0),this.i=a,a.bg(this,!0),this.b.ca=!0)},m.Kv=function(a,b){var c=0===a;if(b){var d=b.Hs(this);d&&d.uid!==this.uid&&(this.i.index!==d.i.index&&(this.i.Kf(this,!0),this.i=d.i,d.i.bg(this,!0)),this.i.Gt(this,d,c),this.b.ca=!0)}},
u.dv=function(a){a.da(this.i.Go)},u.cv=function(a){a.bb(this.i.name)},u.Jv=function(a){a.da(this.Tc())});g&&(m.xv=function(a,b){if(this.b.n){var c=this.type.Ak(b);if(!(0>c)){var d=1===a;this.Fd[c]!==d&&(this.Fd[c]=d,this.Ad(),this.b.ca=!0)}}},m.yv=function(a,b,c){if(this.b.n){var d=this.type.Ak(a);0>d||(a=this.type.F[d],d=this.ua[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.n.Qs(a.cb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Qa&&(this.b.ca=!0))))}})};Eb=function(){this.Zj=this.Dh=!0;this.type.Tm=!0;this.b.ca=
!0;var k,e,n=this.Uj;k=0;for(e=n.length;k<e;++k)n[k](this);this.i.Lc&&this.eb()};Fb=function(k){k&&this.Uj.push(k)};Hb=function(){if(this.Dh){var k=this.Xa,e=this.ef;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.wb*this.width,-this.xb*this.height);this.j?(k.offset(-this.x,-this.y),e.rp(k,this.j),e.offset(this.x,this.y),e.an(k)):e.ih(k);k.normalize();this.Dh=!1;this.Fu()}};var n=new ua(0,0,0,0);Ib=function(){if(this.i.Lc){var k=this.i.Mb,e=this.Xa;n.set(k.Rb(e.left),k.Sb(e.top),
k.Rb(e.right),k.Sb(e.bottom));this.zb.Vh(n)||(this.zb.right<this.zb.left?k.update(this,null,n):k.update(this,this.zb,n),this.zb.Mh(n),this.i.ud=!0)}};Jb=function(){if(this.Zj&&this.gg){this.eb();var k=this.type.jn,e=this.Xa;n.set(k.Rb(e.left),k.Sb(e.top),k.Rb(e.right),k.Sb(e.bottom));this.Od.Vh(n)||(this.Od.right<this.Od.left?k.update(this,null,n):k.update(this,this.Od,n),this.Od.Mh(n),this.Zj=!1)}};Gb=function(k,e){return this.Xa.ec(k,e)&&this.ef.ec(k,e)?this.Pc&&!this.Pc.wt()?(this.Pc.sr(this.width,
this.height,this.j),this.Pc.ec(k-this.x,e-this.y)):!0:!1};Ab=function(){this.type.Dj();return this.Ce};Kb=function(){this.i.nm();return this.Mc};Lb=function(){this.U.length=0;var k,e;k=0;for(e=this.Fd.length;k<e;k++)this.Fd[k]&&this.U.push(this.type.F[k]);this.Pp=!!this.U.length};Bb=function(){return"Inst"+this.gp};nb=function(k){if(k&&k.Yb&&k.type!=this){var e,n,q;e=0;for(n=k.siblings.length;e<n;e++)if(q=k.siblings[e],q.type==this)return q}k=this.fa().Ec();return k.length?k[0]:null};ob=function(k){var e=
this.fa().Ec();return e.length?e[k.sg()%e.length]:null};mb=function(){if(this.Rf&&!this.A){var k,e;k=0;for(e=this.c.length;k<e;k++)this.c[k].Ce=k;var n=k,q=this.b.Qc;k=0;for(e=q.length;k<e;++k)q[k].type===this&&(q[k].Ce=n++);this.Rf=!1}};yb=function(k){if(k<this.c.length)return this.c[k];k-=this.c.length;var e=this.b.Qc,n,q;n=0;for(q=e.length;n<q;++n)if(e[n].type===this){if(0===k)return e[n];--k}return null};pb=function(){return this.ie[this.kd]};qb=function(){this.kd++;this.kd===this.ie.length?this.ie.push(new lb(this)):
this.ie[this.kd].ma=!0};rb=function(){this.kd++;this.kd===this.ie.length&&this.ie.push(new lb(this));var k=this.ie[this.kd],e=this.ie[this.kd-1];e.ma?k.ma=!0:(k.ma=!1,za(k.c,e.c),za(k.O,e.O))};sb=function(){this.kd--};ub=function(k){var e,n,q,d,a,b=0;if(!this.A)for(e=0,n=this.ra.length;e<n;e++)for(a=this.ra[e],q=0,d=a.Ea.length;q<d;q++){if(k===a.Ea[q].name)return this.X.lastBehIndex=b,a.Ea[q];b++}e=0;for(n=this.Ea.length;e<n;e++){if(k===this.Ea[e].name)return this.X.lastBehIndex=b,this.Ea[e];b++}return null};
vb=function(k){return this.fi(k)?this.X.lastBehIndex:-1};wb=function(k){var e,n;e=0;for(n=this.F.length;e<n;e++)if(this.F[e].name===k)return e;return-1};xb=function(){if(this.Yb&&!this.A){var k,e,n,q,d,a,b;this.Dj();a=this.fa();var t=a.ma,g=(k=this.b.Hb())&&k.Cc&&k.Cc.Vc;k=0;for(e=this.Fb.length;k<e;k++)if(d=this.Fb[k],d!==this&&(d.Dj(),b=d.fa(),b.ma=t,!t)){b.c.length=a.c.length;n=0;for(q=a.c.length;n<q;n++)b.c[n]=d.Fn(a.c[n].Ce);if(g)for(b.O.length=a.O.length,n=0,q=a.O.length;n<q;n++)b.O[n]=d.Fn(a.O[n].Ce)}}};
zb=function(){return"Type"+this.M};Yb=function(k,e,n){if("undefined"===typeof k||"undefined"===typeof n)return!1;switch(e){case 0:return k===n;case 1:return k!==n;case 2:return k<n;case 3:return k<=n;case 4:return k>n;case 5:return k>=n;default:return!1}}})();
var gc={tint:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float red;\nuniform lowp float green;\nuniform lowp float blue;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = front * vec4(red, green, blue, 1.0);\n}",Yh:0,Zh:0,gk:!1,Sj:!1,I:[["red",0,1],["green",0,1],["blue",0,1]]}};function ic(n){this.b=n}
(function(){function n(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function k(a){a=a.toLowerCase();return U.hasOwnProperty(a)&&U[a].length?U[a][0].Ub():z.destination}function e(){return z.createGain?z.createGain():z.createGainNode()}function p(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function q(a){a.start?a.start(0):a.noteOn(0)}function d(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function a(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function b(a,
b,c,d,f,g){this.type="filter";this.Ic=[a,b,c,d,f,g];this.N=e();this.D=e();this.D.gain.value=g;this.B=e();this.B.gain.value=1-g;this.Fa=z.createBiquadFilter();this.Fa.type="number"===typeof this.Fa.type?a:sc[a];this.Fa.frequency.value=b;this.Fa.detune&&(this.Fa.detune.value=c);this.Fa.Q.value=d;this.Fa.gain.value=f;this.N.connect(this.Fa);this.N.connect(this.B);this.Fa.connect(this.D)}function t(a,b,c){this.type="delay";this.Ic=[a,b,c];this.N=e();this.D=e();this.D.gain.value=c;this.B=e();this.B.gain.value=
1-c;this.Tg=e();this.ic=p(a);this.ic.delayTime.value=a;this.Th=e();this.Th.gain.value=b;this.N.connect(this.Tg);this.N.connect(this.B);this.Tg.connect(this.D);this.Tg.connect(this.ic);this.ic.connect(this.Th);this.Th.connect(this.Tg)}function g(a,b,c,d){this.type="convolve";this.Ic=[b,c,d];this.N=e();this.D=e();this.D.gain.value=c;this.B=e();this.B.gain.value=1-c;this.re=z.createConvolver();a&&(this.re.normalize=b,this.re.buffer=a);this.N.connect(this.re);this.N.connect(this.B);this.re.connect(this.D)}
function c(a,b,c,d,f){this.type="flanger";this.Ic=[a,b,c,d,f];this.N=e();this.B=e();this.B.gain.value=1-f/2;this.D=e();this.D.gain.value=f/2;this.ai=e();this.ai.gain.value=d;this.ic=p(a+b);this.ic.delayTime.value=a;this.Ta=z.createOscillator();this.Ta.frequency.value=c;this.Lb=e();this.Lb.gain.value=b;this.N.connect(this.ic);this.N.connect(this.B);this.ic.connect(this.D);this.ic.connect(this.ai);this.ai.connect(this.ic);this.Ta.connect(this.Lb);this.Lb.connect(this.ic.delayTime);q(this.Ta)}function m(a,
b,c,d,f,g){this.type="phaser";this.Ic=[a,b,c,d,f,g];this.N=e();this.B=e();this.B.gain.value=1-g/2;this.D=e();this.D.gain.value=g/2;this.Fa=z.createBiquadFilter();this.Fa.type="number"===typeof this.Fa.type?7:"allpass";this.Fa.frequency.value=a;this.Fa.detune&&(this.Fa.detune.value=b);this.Fa.Q.value=c;this.Ta=z.createOscillator();this.Ta.frequency.value=f;this.Lb=e();this.Lb.gain.value=d;this.N.connect(this.Fa);this.N.connect(this.B);this.Fa.connect(this.D);this.Ta.connect(this.Lb);this.Lb.connect(this.Fa.frequency);
q(this.Ta)}function u(a){this.type="gain";this.Ic=[a];this.R=e();this.R.gain.value=a}function h(a,b){this.type="tremolo";this.Ic=[a,b];this.R=e();this.R.gain.value=1-b/2;this.Ta=z.createOscillator();this.Ta.frequency.value=a;this.Lb=e();this.Lb.gain.value=b/2;this.Ta.connect(this.Lb);this.Lb.connect(this.R.gain);q(this.Ta)}function r(a,b){this.type="ringmod";this.Ic=[a,b];this.N=e();this.D=e();this.D.gain.value=b;this.B=e();this.B.gain.value=1-b;this.fh=e();this.fh.gain.value=0;this.Ta=z.createOscillator();
this.Ta.frequency.value=a;this.Ta.connect(this.fh.gain);q(this.Ta);this.N.connect(this.fh);this.N.connect(this.B);this.fh.connect(this.D)}function s(a,b,c,d,f){this.type="distortion";this.Ic=[a,b,c,d,f];this.N=e();this.cj=e();this.bj=e();this.nu(c,Math.pow(10,d/20));this.D=e();this.D.gain.value=f;this.B=e();this.B.gain.value=1-f;this.Fj=z.createWaveShaper();this.Rh=new Float32Array(65536);this.Es(a,b);this.Fj.Rh=this.Rh;this.N.connect(this.cj);this.N.connect(this.B);this.cj.connect(this.Fj);this.Fj.connect(this.bj);
this.bj.connect(this.D)}function l(a,b,c,d,f){this.type="compressor";this.Ic=[a,b,c,d,f];this.R=z.createDynamicsCompressor();try{this.R.threshold.value=a,this.R.knee.value=b,this.R.ratio.value=c,this.R.attack.value=d,this.R.release.value=f}catch(g){}}function f(a,b){this.type="analyser";this.Ic=[a,b];this.R=z.createAnalyser();this.R.fftSize=a;this.R.smoothingTimeConstant=b;this.Cs=new Float32Array(this.R.frequencyBinCount);this.up=new Uint8Array(a);this.$g=0}function w(){this.C=null;this.Ki=0;this.je=
[];this.rl=this.Ci=this.Bi=0}function E(a,b){this.src=a;this.H=C;this.Gc=b;this.Rm=!1;var c=this;this.pl=this.Dl=null;this.Gf=[];this.ij=0;this.um=this.ok=this.zp=this.Zi=!1;1===C&&b&&(this.H=0,this.Dl=e());this.pe=this.aa=null;var d;switch(this.H){case 0:this.aa=new Audio;this.aa.addEventListener("canplaythrough",function(){c.um=!0});1===C&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.zp=!0,this.aa.addEventListener("canplay",function(){c.pl||(c.pl=z.createMediaElementSource(c.aa),
c.pl.connect(c.Dl))}));this.aa.autoplay=!1;this.aa.Sv="auto";this.aa.src=a;break;case 1:d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){c.pe=d.response;c.Dr()};d.onerror=function(){c.ok=!0};d.send();break;case 2:this.aa=!0;break;case 3:this.aa=!0}}function F(a,b){var c=this;this.tag=b;this.Pb=this.Sc=!0;this.src=a.src;this.buffer=a;this.H=C;this.Gc=a.Gc;this.playbackRate=1;this.dk=!0;this.nc=this.vd=!1;this.Ab=0;this.Dg=this.uf=this.Uc=!1;this.volume=1;this.Ge=
1===B&&!this.Gc||2===B;this.Df=1;this.startTime=this.Ge?v.yb.V:v.dd.V;this.Ba=this.Ga=null;this.Wc=!1;this.Aa=null;this.To=this.So=this.Ro=this.Qo=this.Vo=this.Uo=0;this.e=null;var d=!1;1!==this.H||0!==this.buffer.H||this.buffer.zp||(this.H=0);switch(this.H){case 0:this.Gc?(this.e=a.aa,d=!a.Rm,a.Rm=!0):(this.e=new Audio,this.e.autoplay=!1,this.e.src=a.aa.src,d=!0);d&&this.e.addEventListener("ended",function(){va=c.tag;c.Pb=!0;v.trigger(ic.prototype.d.Kj,D)});break;case 1:this.Ga=e();this.Ga.connect(k(b));
1===this.buffer.H?a.aa&&(this.e=z.createBufferSource(),this.e.buffer=a.aa,this.e.connect(this.Ga)):(this.e=this.buffer.aa,this.buffer.Dl.connect(this.Ga));break;case 2:this.e=new window.Media(S+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.dk=!0,c.Pb=!0,va=c.tag,v.trigger(ic.prototype.d.Kj,D))});break;case 3:this.e=!0}}function y(a,b){U.hasOwnProperty(a)?U[a].push(b):U[a]=[b];var c,d,f,g,h=z.destination;if(U.hasOwnProperty(a)&&(f=U[a],f.length))for(h=f[0].Ub(),c=0,d=f.length;c<
d;c++)g=f[c],c+1===d?g.cc(z.destination):g.cc(f[c+1].Ub());Ga.length=0;if(a.length)for(c=0,d=I.length;c<d;c++)f=I[c],hb(a,f.tag)&&Ga.push(f);else K&&!K.Be()&&(Ga.length=1,Ga[0]=K);c=0;for(d=Ga.length;c<d;c++)Ga[c].bu(h);ea&&tb===a&&(ea.disconnect(),ea.connect(h))}function T(){}function x(){}var Q=ic.prototype;Q.ta=function(a){this.ha=a;this.b=a.b};Q.ta.prototype.S=function(){};var v=null,D=null,va="",S="",C=0,z=null,aa=[],I=[],K=null,A=!1,B=0,L=!1,G=1,J=0,H=0,la=1,N=1,ra=10,ga=1E4,ta=1,ea=null,tb=
"",Na=!1,Oa=[],U={},sc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");b.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};b.prototype.remove=function(){this.N.disconnect();this.Fa.disconnect();this.D.disconnect();this.B.disconnect()};b.prototype.Ub=function(){return this.N};t.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};t.prototype.remove=function(){this.N.disconnect();
this.Tg.disconnect();this.ic.disconnect();this.Th.disconnect();this.D.disconnect();this.B.disconnect()};t.prototype.Ub=function(){return this.N};g.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};g.prototype.remove=function(){this.N.disconnect();this.re.disconnect();this.D.disconnect();this.B.disconnect()};g.prototype.Ub=function(){return this.N};c.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);this.D.disconnect();this.D.connect(a)};
c.prototype.remove=function(){this.N.disconnect();this.ic.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect();this.ai.disconnect()};c.prototype.Ub=function(){return this.N};m.prototype.cc=function(a){this.B.disconnect();this.B.connect(a);this.D.disconnect();this.D.connect(a)};m.prototype.remove=function(){this.N.disconnect();this.Fa.disconnect();this.Ta.disconnect();this.Lb.disconnect();this.B.disconnect();this.D.disconnect()};m.prototype.Ub=function(){return this.N};
u.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};u.prototype.remove=function(){this.R.disconnect()};u.prototype.Ub=function(){return this.R};h.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};h.prototype.remove=function(){this.Ta.disconnect();this.Lb.disconnect();this.R.disconnect()};h.prototype.Ub=function(){return this.R};r.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};r.prototype.remove=function(){this.Ta.disconnect();
this.fh.disconnect();this.N.disconnect();this.D.disconnect();this.B.disconnect()};r.prototype.Ub=function(){return this.N};s.prototype.nu=function(a,b){.01>a&&(a=.01);this.cj.gain.value=a;this.bj.gain.value=Math.pow(1/a,.6)*b};s.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};s.prototype.Es=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),f=0,g=0;32768>g;++g)f=g/32768,f=this.shape(f,c,d),this.Rh[32768+g]=f,this.Rh[32768-
g-1]=-f};s.prototype.cc=function(a){this.D.disconnect();this.D.connect(a);this.B.disconnect();this.B.connect(a)};s.prototype.remove=function(){this.N.disconnect();this.cj.disconnect();this.Fj.disconnect();this.bj.disconnect();this.D.disconnect();this.B.disconnect()};s.prototype.Ub=function(){return this.N};l.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};l.prototype.remove=function(){this.R.disconnect()};l.prototype.Ub=function(){return this.R};f.prototype.Pa=function(){this.R.getFloatFrequencyData(this.Cs);
this.R.getByteTimeDomainData(this.up);for(var a=this.R.fftSize,b=0,c=this.$g=0,d=0;b<a;b++)d=(this.up[b]-128)/128,0>d&&(d=-d),this.$g<d&&(this.$g=d),c+=d*d;this.$g=n(this.$g);n(Math.sqrt(c/a))};f.prototype.cc=function(a){this.R.disconnect();this.R.connect(a)};f.prototype.remove=function(){this.R.disconnect()};f.prototype.Ub=function(){return this.R};w.prototype.gh=function(a){if(this.C=a)this.Bi=this.C.x,this.Ci=this.C.y;this.je.length=0};w.prototype.ni=function(){return!!this.C};w.prototype.Pa=function(a){this.C&&
0!==a&&(this.rl=Ja(this.Bi,this.Ci,this.C.x,this.C.y),a=Sa(this.Bi,this.Ci,this.C.x,this.C.y)/a,4>this.je.length||this.je.shift(),this.je.push(a),this.Bi=this.C.x,this.Ci=this.C.y)};w.prototype.Jn=function(){if(!this.je.length)return 0;var a,b,c=0;a=0;for(b=this.je.length;a<b;a++)c+=this.je[a];return c/this.je.length};w.prototype.Ek=function(){return Math.cos(this.rl)*this.Jn()};w.prototype.Fk=function(){return Math.sin(this.rl)*this.Jn()};var pc=!1;E.prototype.Dr=function(){if(!this.aa&&this.pe){var a=
this;if(z.decodeAudioData)z.decodeAudioData(this.pe,function(b){a.aa=b;a.pe=null;var c,d,f;if(ha(a.$i)||L)ha(a.Lh)||(c=a.Lh.re,c.normalize=a.Fo,c.buffer=b);else if(a.Gf.length){c=0;for(d=a.Gf.length;c<d;c++){b=a.Gf[c];f=new F(a,b.Bp);f.Xl(!0);if("undefined"!==typeof b.Ho&&(b.C=v.hi(b.Ho),!b.C))continue;if(b.C){var g=Ra(b.C.x,b.C.y,-b.C.i.Ra(),J,H,!0),h=Ra(b.C.x,b.C.y,-b.C.i.Ra(),J,H,!1);f.Wl(g,h,Da(b.C.j-b.C.i.Ra()),b.Lk,b.sl,b.wl);f.gh(b.C)}else f.Wl(b.x,b.y,b.dr,b.Lk,b.sl,b.wl);f.play(a.ll,a.rm,
a.ij);a.Zi&&f.pause();I.push(f)}a.Gf.length=0}else f=new F(a,a.$i),f.play(a.ll,a.rm,a.ij),a.Zi&&f.pause(),I.push(f)},function(){a.ok=!0});else if(this.aa=z.createBuffer(this.pe,!1),this.pe=null,ha(this.$i)||L)ha(this.Lh)||(b=this.Lh.re,b.normalize=this.Fo,b.buffer=this.aa);else{var b=new F(this,this.$i);b.play(this.ll,this.rm,this.ij);this.Zi&&b.pause();I.push(b)}}};E.prototype.Tn=function(){switch(this.H){case 0:var a=4<=this.aa.readyState;a&&(this.um=!0);return a||this.um;case 1:return!!this.pe||
!!this.aa;case 2:return!0;case 3:return!0}return!1};E.prototype.qt=function(){switch(this.H){case 0:return this.Tn();case 1:return!!this.aa;case 2:return!0;case 3:return!0}return!1};E.prototype.it=function(){switch(this.H){case 0:return!!this.aa.error;case 1:return this.ok}return!1};F.prototype.Be=function(){var a;switch(this.H){case 0:return this.e.ended;case 1:if(1===this.buffer.H){if(!this.Sc&&!this.Pb&&this.e.loop||this.nc)return!1;a=this.Ge?v.yb.V:v.dd.V;var b=this.playbackRate;0===b&&(b=1E-6);
return a-this.startTime>this.buffer.aa.duration/b}return this.e.ended;case 2:return this.dk;case 3:!0}return!0};F.prototype.tr=function(){return this.Sc||this.Pb?!0:this.Be()};F.prototype.Xl=function(a){1===C&&(!this.Wc&&a?this.Ga&&(this.Ba||(this.Ba=z.createPanner(),this.Ba.panningModel="number"===typeof this.Ba.panningModel?la:["equalpower","HRTF","soundfield"][la],this.Ba.distanceModel="number"===typeof this.Ba.distanceModel?N:["linear","inverse","exponential"][N],this.Ba.refDistance=ra,this.Ba.maxDistance=
ga,this.Ba.rolloffFactor=ta),this.Ga.disconnect(),this.Ga.connect(this.Ba),this.Ba.connect(k(this.tag)),this.Wc=!0):this.Wc&&!a&&this.Ga&&(this.Ba.disconnect(),this.Ga.disconnect(),this.Ga.connect(k(this.tag)),this.Wc=!1))};F.prototype.Wl=function(a,b,c,d,f,g){this.Wc&&1===C&&(this.Ba.setPosition(a,b,0),this.Ba.setOrientation(Math.cos(V(c)),Math.sin(V(c)),0),this.Ba.coneInnerAngle=d,this.Ba.coneOuterAngle=f,this.Ba.coneOuterGain=g,this.Uo=a,this.Vo=b,this.Qo=c,this.Ro=d,this.So=f,this.To=g)};F.prototype.gh=
function(a){this.Wc&&1===C&&(this.Aa||(this.Aa=new w),this.Aa.gh(a))};F.prototype.Pa=function(a){if(this.Wc&&1===C&&this.Aa&&this.Aa.ni()&&this.qf()){this.Aa.Pa(a);a=this.Aa.C;var b=Ra(a.x,a.y,-a.i.Ra(),J,H,!0),c=Ra(a.x,a.y,-a.i.Ra(),J,H,!1);this.Ba.setPosition(b,c,0);b=0;"undefined"!==typeof this.Aa.C.j&&(b=a.j-a.i.Ra(),this.Ba.setOrientation(Math.cos(b),Math.sin(b),0));b=Ra(this.Aa.Ek(),this.Aa.Fk(),-a.i.Ra(),0,0,!0);c=Ra(this.Aa.Ek(),this.Aa.Fk(),-a.i.Ra(),0,0,!1);this.Ba.setVelocity(b,c,0)}};
F.prototype.play=function(a,b,c){var f=this.e;this.Uc=a;this.volume=b;c=c||0;switch(this.H){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*G&&(f.volume=b*G);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(g){}if(this.Gc&&Na&&!v.za)Oa.push(this);else try{this.e.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;case 1:this.muted=!1;this.Df=1;if(1===this.buffer.H)this.Ga.gain.value=
b*G,this.Sc||(this.e=z.createBufferSource(),this.e.buffer=this.buffer.aa,this.e.connect(this.Ga)),this.e.loop=a,0===c?q(this.e):d(this.e,c,this.ze());else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*G;if(f.currentTime!==c)try{f.currentTime=c}catch(e){}this.Gc&&Na&&!v.za?Oa.push(this):f.play()}break;case 2:(!this.Sc&&this.Pb||0!==c)&&f.seekTo(c);f.play();this.dk=!1;break;case 3:v.$a?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.Ge?v.yb.V:v.dd.V)-c;this.nc=this.Pb=this.Sc=!1};F.prototype.stop=function(){switch(this.H){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.H?a(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:v.$a&&AppMobi.context.stopSound(this.src)}this.Pb=!0;this.nc=!1};F.prototype.pause=function(){if(!(this.Sc||this.Pb||this.Be()||this.nc)){switch(this.H){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.H?(this.Ab=this.Ck(),
this.Uc&&(this.Ab%=this.ze()),a(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:v.$a&&AppMobi.context.stopSound(this.src)}this.nc=!0}};F.prototype.eu=function(){if(!(this.Sc||this.Pb||this.Be())&&this.nc){switch(this.H){case 0:this.e.play();break;case 1:1===this.buffer.H?(this.e=z.createBufferSource(),this.e.buffer=this.buffer.aa,this.e.connect(this.Ga),this.e.loop=this.Uc,this.Ga.gain.value=G*this.volume*this.Df,this.startTime=(this.Ge?v.yb.V:v.dd.V)-this.Ab,d(this.e,
this.Ab,this.ze())):this.e.play();break;case 2:this.e.play();break;case 3:v.$a&&AppMobi.context.resumeSound(this.src)}this.nc=!1}};F.prototype.seek=function(a){if(!(this.Sc||this.Pb||this.Be()))switch(this.H){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.H)this.nc?this.Ab=a:(this.pause(),this.Ab=a,this.eu());else try{this.e.currentTime=a}catch(c){}break;case 3:v.$a&&AppMobi.context.seekSound(this.src,a)}};F.prototype.bu=function(a){1===this.H&&(this.Wc?(this.Ba.disconnect(),
this.Ba.connect(a)):(this.Ga.disconnect(),this.Ga.connect(a)))};F.prototype.ze=function(){switch(this.H){case 0:if("undefined"!==typeof this.e.duration)return this.e.duration;break;case 1:return this.buffer.aa.duration;case 2:return this.e.getDuration();case 3:if(v.$a)return AppMobi.context.getDurationSound(this.src)}return 0};F.prototype.Ck=function(){var a=this.ze(),b=0;switch(this.H){case 0:"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case 1:if(1===this.buffer.H){if(this.nc)return this.Ab;
b=(this.Ge?v.yb.V:v.dd.V)-this.startTime}else"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case 3:v.$a&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Uc&&b>a&&(b=a);return b};F.prototype.qf=function(){return!this.nc&&!this.Sc&&!this.Pb&&!this.Be()};F.prototype.Cu=function(){var a=this.volume*G;switch(this.H){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case 1:1===this.buffer.H?this.Ga.gain.value=a*this.Df:"undefined"!==typeof this.e.volume&&
this.e.volume!==a&&(this.e.volume=a)}};F.prototype.Uh=function(a){switch(this.H){case 0:this.e.muted!==!!a&&(this.e.muted=!!a);break;case 1:1===this.buffer.H?(this.Df=a?0:1,this.Ga.gain.value=G*this.volume*this.Df):this.e.muted!==!!a&&(this.e.muted=!!a)}};F.prototype.pu=function(){this.uf=!0;this.Uh(this.uf||this.Dg)};F.prototype.pp=function(a){this.Dg=!!a;this.Uh(this.uf||this.Dg)};F.prototype.Op=function(){var a=this.playbackRate;this.Ge&&(a*=v.We);switch(this.H){case 0:this.e.playbackRate!==a&&
(this.e.playbackRate=a);break;case 1:1===this.buffer.H?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};F.prototype.ru=function(b){switch(this.H){case 0:b?this.qf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play();break;case 1:b?this.qf()?(1===this.buffer.H?(this.Ab=this.Ck(),this.Uc&&(this.Ab%=this.ze()),a(this.e)):this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&(1===this.buffer.H?(this.e=z.createBufferSource(),this.e.buffer=
this.buffer.aa,this.e.connect(this.Ga),this.e.loop=this.Uc,this.Ga.gain.value=G*this.volume*this.Df,this.startTime=(this.Ge?v.yb.V:v.dd.V)-this.Ab,d(this.e,this.Ab,this.ze())):this.e.play());break;case 2:b?this.qf()?(this.e.pause(),this.vd=!0):this.vd=!1:this.vd&&this.e.play()}};Q.ka=function(a){this.type=a;v=this.b=a.b;D=this;this.jb=null;this.Lg=-600;!(this.b.xi||this.b.pi&&(this.b.yg||this.b.qi))||this.b.zg||this.b.ga||this.b.Vk||(Na=!0);z=null;"undefined"!==typeof AudioContext?(C=1,z=new AudioContext):
"undefined"!==typeof webkitAudioContext&&(C=1,z=new webkitAudioContext);(this.b.xi&&1===C||Na)&&document.addEventListener("touchstart",function(){var a,b,c;!pc&&z&&(a=z.createBuffer(1,1,22050),b=z.createBufferSource(),b.buffer=a,b.connect(z.destination),q(b),pc=!0);if(Na){if(!L)for(a=0,b=Oa.length;a<b;++a)c=Oa[a],c.Pb||c.nc||c.e.play();Oa.length=0}},!0);1!==C&&(this.b.Xb&&"undefined"!==typeof window.Media?C=2:this.b.pf&&(C=3));2===C&&(S=location.href,a=S.lastIndexOf("/"),-1<a&&(S=S.substr(0,a+1)),
S=S.replace("file://",""));if(this.b.Un&&this.b.tt&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Dd(this);else{if(this.b.$a)A=this.b.pi;else try{A=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){A=!1}this.b.Tf(this)}};var ma=Q.ka.prototype;ma.S=function(){this.b.df=this;B=this.Y[0];this.wd=this.Y[1];this.St=0!==this.Y[2];la=this.Y[3];N=this.Y[4];this.Lg=-this.Y[5];
ra=this.Y[6];ga=this.Y[7];ta=this.Y[8];this.jb=new w;var a=this.b.L||this.b.width,b=this.b.K||this.b.height;1===C&&("undefined"!==typeof z.listener.dopplerFactor&&(z.listener.dopplerFactor=0),z.listener.setPosition(a/2,b/2,this.Lg),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ea&&ea.disconnect();tb=b.toLowerCase();ea=z.createMediaStreamSource(a);ea.connect(k(tb))});this.b.Qm(function(a){D.Pt(a)});var c=this;this.b.ir(function(a){c.Lt(a)})};ma.Lt=function(a){var b,
c,d;b=0;for(c=I.length;b<c;b++)d=I[b],d.Aa&&d.Aa.C===a&&(d.Aa.C=null,d.Wc&&d.qf()&&d.Uc&&d.stop());this.jb.C===a&&(this.jb.C=null)};ma.mb=function(){var a={silent:L,masterVolume:G,listenerZ:this.Lg,listenerUid:this.jb.ni()?this.jb.C.uid:-1,playing:[],effects:{}},b=a.playing,c,d,f,g,h,e;c=0;for(d=I.length;c<d;c++)f=I[c],!f.qf()||3===this.wd||f.Gc&&1===this.wd||!f.Gc&&2===this.wd||(g=f.Ck(),f.Uc&&(g%=f.ze()),g={tag:f.tag,buffersrc:f.buffer.src,is_music:f.Gc,playbackTime:g,volume:f.volume,looping:f.Uc,
muted:f.uf,playbackRate:f.playbackRate,paused:f.nc,resume_position:f.Ab},f.Wc&&(g.pan={},e=g.pan,f.Aa&&f.Aa.ni()?e.objUid=f.Aa.C.uid:(e.x=f.Uo,e.y=f.Vo,e.a=f.Qo),e.ia=f.Ro,e.oa=f.So,e.og=f.To),b.push(g));b=a.effects;for(h in U)if(U.hasOwnProperty(h)){f=[];c=0;for(d=U[h].length;c<d;c++)f.push({type:U[h][c].type,params:U[h][c].Ic});b[h]=f}return a};var Pa=[];ma.Kb=function(a){var d=a.silent;G=a.masterVolume;this.Lg=a.listenerZ;this.jb.gh(null);var e=a.listenerUid;-1!==e&&(this.jb.Ki=e,Pa.push(this.jb));
var e=a.playing,k,n,q,E,p,D,F,T,v,x,Q;if(3!==this.wd)for(k=0,n=I.length;k<n;k++)v=I[k],v.Gc&&1===this.wd||(v.Gc||2!==this.wd)&&v.stop();for(p in U)if(U.hasOwnProperty(p))for(k=0,n=U[p].length;k<n;k++)U[p][k].remove();Va(U);for(p in a.effects)if(a.effects.hasOwnProperty(p))for(D=a.effects[p],k=0,n=D.length;k<n;k++)switch(q=D[k].type,x=D[k].params,q){case "filter":y(p,new b(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":y(p,new t(x[0],x[1],x[2]));break;case "convolve":q=x[2];v=this.ei(q,!1);v.aa?
q=new g(v.aa,x[0],x[1],q):(q=new g(null,x[0],x[1],q),v.Fo=x[0],v.Lh=q);y(p,q);break;case "flanger":y(p,new c(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":y(p,new m(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":y(p,new u(x[0]));break;case "tremolo":y(p,new h(x[0],x[1]));break;case "ringmod":y(p,new r(x[0],x[1]));break;case "distortion":y(p,new s(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":y(p,new l(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":y(p,new f(x[0],x[1]))}k=0;for(n=e.length;k<
n;k++)3===this.wd||(a=e[k],q=a.buffersrc,E=a.is_music,p=a.tag,D=a.playbackTime,F=a.looping,T=a.volume,Q=(x=a.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,E&&1===this.wd)||!E&&2===this.wd||((v=this.Bn(q,p,E,F,T))?(v.Ab=a.resume_position,v.Xl(!!x),v.play(F,T,D),v.Op(),v.Cu(),v.Uh(v.uf||v.Dg),a.paused&&v.pause(),a.muted&&v.pu(),v.Uh(v.uf||v.Dg),x&&(-1!==Q?(v.Aa=v.Aa||new w,v.Aa.Ki=Q,Pa.push(v.Aa)):v.Wl(x.x,x.y,x.a,x.ia,x.oa,x.og))):(v=this.ei(q,E),v.ij=D,v.Zi=a.paused,x&&(-1!==Q?v.Gf.push({Ho:Q,Lk:x.ia,
sl:x.oa,wl:x.og,Bp:p}):v.Gf.push({x:x.x,y:x.y,dr:x.a,Lk:x.ia,sl:x.oa,wl:x.og,Bp:p}))));if(d&&!L){k=0;for(n=I.length;k<n;k++)I[k].pp(!0);L=!0}else if(!d&&L){k=0;for(n=I.length;k<n;k++)I[k].pp(!1);L=!1}};ma.Gd=function(){var a,b,c,d;a=0;for(b=Pa.length;a<b;a++)c=Pa[a],d=this.b.hi(c.Ki),c.gh(d),c.Ki=-1,d&&(J=d.x,H=d.y);Pa.length=0};ma.Pt=function(a){if(!this.St){!a&&z&&z.resume&&z.resume();var b,c;b=0;for(c=I.length;b<c;b++)I[b].ru(a);a&&z&&z.suspend&&z.suspend()}};ma.Pa=function(){var a=this.b.ve,b,
c,d;b=0;for(c=I.length;b<c;b++)d=I[b],d.Pa(a),0===d.H||3===d.H||d.Sc||d.Pb||!d.Be()||(d.Pb=!0,va=d.tag,v.trigger(ic.prototype.d.Kj,D)),0!==B&&d.Op();var f,g;for(f in U)if(U.hasOwnProperty(f))for(d=U[f],b=0,c=d.length;b<c;b++)g=d[b],g.Pa&&g.Pa();1===C&&this.jb.ni()&&(this.jb.Pa(a),J=this.jb.C.x,H=this.jb.C.y,z.listener.setPosition(this.jb.C.x,this.jb.C.y,this.Lg),z.listener.setVelocity(this.jb.Ek(),this.jb.Fk(),0))};var Qa=[];ma.qu=function(a){var b,c,d,f,g,h=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],
f=d[0],d=2*d[1],(g=4<f.length&&".ogg"===f.substr(f.length-4))&&A||!g&&!A)Qa.push({filename:f,size:d,C:null}),h+=d;return h};ma.vu=function(){var a,b,c,d;a=0;for(b=Qa.length;a<b;++a)c=Qa[a],d=this.b.pk+c.filename,c.C=this.ei(d,!1)};ma.Ns=function(){var a=0,b,c,d;b=0;for(c=Qa.length;b<c;++b)d=Qa[b],d.C.qt()||d.C.it()||this.b.ga||this.b.qi?a+=d.size:d.C.Tn()&&(a+=Math.floor(d.size/2));return a};ma.ei=function(a,b){var c,d,f,g=null;c=0;for(d=aa.length;c<d;c++)if(f=aa[c],f.src===a){g=f;break}g||(g=new E(a,
b),aa.push(g));return g};ma.Bn=function(a,b,c,d,f){var g,h,e;g=0;for(h=I.length;g<h;g++)if(e=I[g],e.src===a&&(e.tr()||c))return e.tag=b,e;a=this.ei(a,c);if(!a.aa)return"<preload>"!==b&&(a.$i=b,a.ll=d,a.rm=f),null;e=new F(a,b);I.push(e);return e};var Ga=[];T.prototype.Kj=function(a){return hb(va,a)};Q.d=new T;x.prototype.Play=function(a,b,c,d){!L&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),K=this.Bn(this.b.pk+a[0]+(A?".ogg":".m4a"),d,a[1],0!==b,c))&&(K.Xl(!1),K.play(0!==b,c))};Q.Z=new x;Q.va=new function(){}})();
function jc(n){this.b=n}
(function(){function n(){}function k(){}function e(){}var p=jc.prototype;p.ta=function(e){this.ha=e;this.b=e.b};p.ta.prototype.S=function(){};p.ka=function(e){this.type=e;this.b=e.b};p.ka.prototype.S=function(){var e=this;window.addEventListener("resize",function(){e.b.trigger(jc.prototype.d.Hq,e)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){e.b.trigger(jc.prototype.d.Dq,e)}),window.addEventListener("offline",function(){e.b.trigger(jc.prototype.d.Cq,e)}));
"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){e.b.Af=1;e.b.trigger(jc.prototype.d.Jm,e)}),window.applicationCache.addEventListener("progress",function(d){e.b.Af=d.loaded/d.total}));this.b.$a||(document.addEventListener("appMobi.device.update.available",function(){e.b.trigger(jc.prototype.d.Jm,e)}),document.addEventListener("backbutton",function(){e.b.trigger(jc.prototype.d.Ij,e)}),document.addEventListener("menubutton",function(){e.b.trigger(jc.prototype.d.Dm,
e)}),document.addEventListener("searchbutton",function(){e.b.trigger(jc.prototype.d.Iq,e)}),document.addEventListener("tizenhwkey",function(d){var a;switch(d.keyName){case "back":a=e.b.trigger(jc.prototype.d.Ij,e);!a&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(a=e.b.trigger(jc.prototype.d.Dm,e))||d.preventDefault()}}));this.b.ri&&(WinJS.Application.onbackclick=function(){return!!e.b.trigger(jc.prototype.d.Ij,e)});this.b.Qm(function(d){d?e.b.trigger(jc.prototype.d.Eq,
e):e.b.trigger(jc.prototype.d.Fq,e)});this.si="undefined"!==typeof window.is_scirra_arcade};n.prototype.Dq=function(){return!0};n.prototype.Cq=function(){return!0};n.prototype.Jm=function(){return!0};n.prototype.Fq=function(){return!0};n.prototype.Eq=function(){return!0};n.prototype.Hq=function(){return!0};n.prototype.Ij=function(){return!0};n.prototype.Dm=function(){return!0};n.prototype.Iq=function(){return!0};p.d=new n;k.prototype.cq=function(e,d){this.b.Wb?CocoonJS.App.openURL(e):this.b.mc?ejecta.openURL(e):
this.b.Zk?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(e)):navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(e,{openExternal:!0}):this.b.Xb?window.open(e,"_system"):this.si||this.b.ga||(2!==d||this.si?1!==d||this.si?window.location=e:window.parent.location=e:window.top.location=e)};k.prototype.Mq=function(){this.si||this.b.ga||window.location.reload()};p.Z=new k;e.prototype.URL=function(e){e.bb(this.b.ga?"":window.location.toString())};p.va=new e})();
function kc(n){this.b=n}
(function(){function n(){}var k=kc.prototype;k.ta=function(e){this.ha=e;this.b=e.b};k.ta.prototype.S=function(){};k.ka=function(e){this.type=e;this.b=e.b;this.bl=Array(256);this.Ej=Array(256);this.le=0};var e=k.ka.prototype;e.S=function(){var e=this;this.b.ga||(jQuery(document).keydown(function(d){e.Mt(d)}),jQuery(document).keyup(function(d){e.Nt(d)}))};var p=[32,33,34,35,36,37,38,39,40,44];e.Mt=function(e){var d=!1;window!=window.top&&-1<p.indexOf(e.which)&&(e.preventDefault(),d=!0,e.stopPropagation());
if(this.bl[e.which])this.Ej[e.which]&&!d&&e.preventDefault();else{this.bl[e.which]=!0;this.le=e.which;this.b.za=!0;this.b.trigger(kc.prototype.d.mq,this);var a=this.b.trigger(kc.prototype.d.wq,this),b=this.b.trigger(kc.prototype.d.Bm,this);this.b.za=!1;if(a||b)this.Ej[e.which]=!0,d||e.preventDefault()}};e.Nt=function(e){this.bl[e.which]=!1;this.le=e.which;this.b.za=!0;this.b.trigger(kc.prototype.d.nq,this);var d=this.b.trigger(kc.prototype.d.yq,this),a=this.b.trigger(kc.prototype.d.xq,this);this.b.za=
!1;if(d||a||this.Ej[e.which])this.Ej[e.which]=!0,e.preventDefault()};e.mb=function(){return{triggerKey:this.le}};e.Kb=function(e){this.le=e.triggerKey};n.prototype.wq=function(e){return e===this.le};n.prototype.mq=function(){return!0};n.prototype.nq=function(){return!0};n.prototype.yq=function(e){return e===this.le};n.prototype.Bm=function(e){return e===this.le};n.prototype.xq=function(e){return e===this.le};k.d=new n;k.Z=new function(){};k.va=new function(){}})();function lc(n){this.b=n}
(function(){function n(){}function k(){}var e=lc.prototype;e.ta=function(d){this.ha=d;this.b=d.b};e.ta.prototype.S=function(){};e.ka=function(d){this.type=d;this.b=d.b;this.Eh=Array(4);this.Ep=this.zj=this.Uf=this.ae=this.$d=0;this.Ik=!1};var p=e.ka.prototype;p.S=function(){var d=this;if(!this.b.ga){jQuery(document).mousemove(function(a){d.zl(a)});jQuery(document).mousedown(function(a){d.yl(a)});jQuery(document).mouseup(function(a){d.Al(a)});jQuery(document).dblclick(function(a){d.Kt(a)});var a=function(a){d.Qt(a)};
document.addEventListener("mousewheel",a,!1);document.addEventListener("DOMMouseScroll",a,!1)}};var q={left:0,top:0};p.zl=function(d){var a=this.b.ga?q:jQuery(this.b.canvas).offset();this.$d=d.pageX-a.left;this.ae=d.pageY-a.top};p.Bo=function(){return 0<this.b.tb?!0:0<=this.$d&&0<=this.ae&&this.$d<this.b.width&&this.ae<this.b.height};p.yl=function(d){this.Bo()&&(this.b.of&&!this.b.qd&&d.preventDefault(),this.Eh[d.which]=!0,this.b.za=!0,this.b.trigger(lc.prototype.d.lq,this),this.Uf=d.which-1,this.zj=
0,this.b.trigger(lc.prototype.d.Am,this),this.b.trigger(lc.prototype.d.Mj,this),this.b.za=!1)};p.Al=function(d){this.Eh[d.which]&&(this.b.of&&!this.b.qd&&d.preventDefault(),this.b.of=!0,this.Eh[d.which]=!1,this.b.za=!0,this.Uf=d.which-1,this.b.trigger(lc.prototype.d.Gq,this),this.b.za=!1)};p.Kt=function(d){this.Bo()&&(d.preventDefault(),this.b.za=!0,this.Uf=d.which-1,this.zj=1,this.b.trigger(lc.prototype.d.Am,this),this.b.trigger(lc.prototype.d.Mj,this),this.b.za=!1)};p.Qt=function(d){this.Ep=0>(d.wheelDelta?
d.wheelDelta:d.detail?-d.detail:0)?0:1;this.Ik=!1;this.b.za=!0;this.b.trigger(lc.prototype.d.Lq,this);this.b.za=!1;this.Ik&&ib(d)&&d.preventDefault()};n.prototype.Am=function(d,a){return d===this.Uf&&a===this.zj};n.prototype.lq=function(){return!0};n.prototype.ym=function(d){return this.Eh[d+1]};n.prototype.Gq=function(d){return d===this.Uf};n.prototype.Mj=function(d,a,b){return d!==this.Uf||a!==this.zj?!1:this.b.qh(b,this.$d,this.ae)};n.prototype.Lq=function(d){this.Ik=!0;return d===this.Ep};e.d=
new n;e.Z=new function(){};k.prototype.Ah=function(d,a){var b,e,g,c,m;ha(a)?(b=this.b.od(0),e=b.scale,g=b.Db,c=b.rc,m=b.j,b.scale=1,b.Db=1,b.rc=1,b.j=0,d.q(b.Ya(this.$d,this.ae,!0)),b.scale=e,b.Db=g,b.rc=c,b.j=m):(b=O(a)?this.b.od(a):this.b.qg(a))?d.q(b.Ya(this.$d,this.ae,!0)):d.q(0)};k.prototype.Bh=function(d,a){var b,e,g,c,m;ha(a)?(b=this.b.od(0),e=b.scale,g=b.Db,c=b.tc,m=b.j,b.scale=1,b.Db=1,b.tc=1,b.j=0,d.q(b.Ya(this.$d,this.ae,!1)),b.scale=e,b.Db=g,b.tc=c,b.j=m):(b=O(a)?this.b.od(a):this.b.qg(a))?
d.q(b.Ya(this.$d,this.ae,!1)):d.q(0)};e.va=new k})();function mc(n){this.b=n}
(function(){function n(e){this.la=e;this.Qa=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.Hd=this.nf=this.size=this.li=0}var k=mc.prototype;k.ta=function(e){this.ha=e;this.b=e.b};var e=k.ta.prototype;e.S=function(){this.A||(this.W=new Image,this.W.ln=this.em,this.T=null,this.b.tm(this.W,this.vj))};e.Si=function(){this.A||(this.T=null)};e.Ui=function(){this.A||!this.c.length||this.T||(this.T=this.b.n.yf(this.W,!0,this.b.P,this.uh))};e.gl=function(){this.A||this.T||!this.b.n||(this.T=this.b.n.yf(this.W,
!0,this.b.P,this.uh))};e.Cj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};e.dj=function(e){e.drawImage(this.W,0,0)};n.prototype.init=function(){var e=this.la;this.x=e.x-e.Gj/2+Math.random()*e.Gj;this.y=e.y-e.Hj/2+Math.random()*e.Hj;this.speed=e.Rk-e.pj/2+Math.random()*e.pj;this.j=e.j-e.qj/2+Math.random()*e.qj;this.opacity=e.Pk;this.size=e.Qk-e.nj/2+Math.random()*e.nj;this.li=e.Hk-e.mi/2+Math.random()*e.mi;this.Hd=this.nf=0};n.prototype.Pa=function(e){var d=
this.la;this.x+=Math.cos(this.j)*this.speed*e;this.y+=Math.sin(this.j)*this.speed*e;this.y+=this.nf*e;this.speed+=d.Oj*e;this.size+=this.li*e;this.nf+=d.vk*e;this.Hd+=e;1>this.size?this.Qa=!1:(0!==d.Ig&&(this.j+=Math.random()*d.Ig*e-d.Ig*e/2),0!==d.Kg&&(this.speed+=Math.random()*d.Kg*e-d.Kg*e/2),0!==d.Jg&&(this.opacity+=Math.random()*d.Jg*e-d.Jg*e/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=d.jf&&this.Hd>=d.timeout&&(this.Qa=!1),2===d.jf&&0>=this.speed&&(this.Qa=!1))};n.prototype.Dc=
function(e){var d=this.la.opacity*this.opacity;if(0!==d){0===this.la.jf&&(d*=1-this.Hd/this.la.timeout);e.globalAlpha=d;var d=this.x-this.size/2,a=this.y-this.size/2;this.la.b.Yc&&(d=d+.5|0,a=a+.5|0);e.drawImage(this.la.type.W,d,a,this.size,this.size)}};n.prototype.Gb=function(e){var d=this.la.opacity*this.opacity;0===this.la.jf&&(d*=1-this.Hd/this.la.timeout);var a=this.size,b=a*this.la.Yo,k=this.x-a/2,g=this.y-a/2;this.la.b.Yc&&(k=k+.5|0,g=g+.5|0);1>b||0===d||(b<e.Ft||b>e.nl?(e.Se(d),e.eh(k,g,k+
a,g,k+a,g+a,k,g+a)):e.Tt(this.x,this.y,b,d))};n.prototype.left=function(){return this.x-this.size/2};n.prototype.right=function(){return this.x+this.size/2};n.prototype.top=function(){return this.y-this.size/2};n.prototype.bottom=function(){return this.y+this.size/2};k.ka=function(e){this.type=e;this.b=e.b};var e=k.ka.prototype,p=[];e.S=function(){var e=this.Y;this.gj=e[0];this.qj=V(e[1]);this.Pf=e[2];this.Zl=!0;this.Rk=e[3];this.Qk=e[4];this.Pk=e[5]/100;this.Hk=e[6];this.Gj=e[7];this.Hj=e[8];this.pj=
e[9];this.nj=e[10];this.mi=e[11];this.Oj=e[12];this.vk=e[13];this.Ig=e[14];this.Kg=e[15];this.Jg=e[16];this.jf=e[17];this.timeout=e[18];this.Qe=0;this.Yo=1;this.Wi=this.x;this.Yi=this.y;this.Xi=this.x;this.Vi=this.y;this.kr(function(d){d.Xa.set(d.Wi,d.Yi,d.Xi,d.Vi);d.ef.ih(d.Xa);d.Dh=!1;d.Eu()});this.vc||(this.lb=[]);this.b.Tf(this);this.type.gl();if(1===this.Pf)for(e=0;e<this.gj;e++)this.Pj().opacity=0;this.ci=!0};e.mb=function(){var e={r:this.gj,sc:this.qj,st:this.Pf,s:this.Zl,isp:this.Rk,isz:this.Qk,
io:this.Pk,gr:this.Hk,xr:this.Gj,yr:this.Hj,spr:this.pj,szr:this.nj,grnd:this.mi,acc:this.Oj,g:this.vk,lar:this.Ig,lsr:this.Kg,lor:this.Jg,dm:this.jf,to:this.timeout,pcc:this.Qe,ft:this.ci,p:[]},d,a,b,k=e.p;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],k.push([b.x,b.y,b.speed,b.j,b.opacity,b.li,b.size,b.nf,b.Hd]);return e};e.Kb=function(e){this.gj=e.r;this.qj=e.sc;this.Pf=e.st;this.Zl=e.s;this.Rk=e.isp;this.Qk=e.isz;this.Pk=e.io;this.Hk=e.gr;this.Gj=e.xr;this.Hj=e.yr;this.pj=e.spr;this.nj=e.szr;this.mi=
e.grnd;this.Oj=e.acc;this.vk=e.g;this.Ig=e.lar;this.Kg=e.lsr;this.Jg=e.lor;this.jf=e.dm;this.timeout=e.to;this.Qe=e.pcc;this.ci=e.ft;p.push.apply(p,this.lb);this.lb.length=0;var d,a,b,k=e.p;e=0;for(d=k.length;e<d;e++)a=this.Pj(),b=k[e],a.x=b[0],a.y=b[1],a.speed=b[2],a.j=b[3],a.opacity=b[4],a.li=b[5],a.size=b[6],a.nf=b[7],a.Hd=b[8]};e.Wg=function(){p.push.apply(p,this.lb);this.lb.length=0};e.Pj=function(){var e;p.length?(e=p.pop(),e.la=this):e=new n(this);this.lb.push(e);e.Qa=!0;return e};e.Pa=function(){var e=
this.b.yk(this),d,a,b,k;if(0===this.Pf&&this.Zl)for(this.Qe+=e*this.gj,a=R(this.Qe),this.Qe-=a,d=0;d<a;d++)b=this.Pj(),b.init();this.Wi=this.x;this.Yi=this.y;this.Xi=this.x;this.Vi=this.y;k=d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],this.lb[k]=b,this.b.ca=!0,1===this.Pf&&this.ci&&b.init(),b.Pa(e),b.Qa?(b.left()<this.Wi&&(this.Wi=b.left()),b.right()>this.Xi&&(this.Xi=b.right()),b.top()<this.Yi&&(this.Yi=b.top()),b.bottom()>this.Vi&&(this.Vi=b.bottom()),k++):p.push(b);this.lb.length=k;this.Na();
this.ci=!1;1===this.Pf&&0===this.lb.length&&this.b.Dd(this)};e.Dc=function(e){var d,a,b,k=this.i;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],b.right()>=k.na&&b.bottom()>=k.pa&&b.left()<=k.ya&&b.top()<=k.xa&&b.Dc(e)};e.Gb=function(e){this.Yo=this.i.kc();e.Nb(this.type.T);var d,a,b,k=this.i;d=0;for(a=this.lb.length;d<a;d++)b=this.lb[d],b.right()>=k.na&&b.bottom()>=k.pa&&b.left()<=k.ya&&b.top()<=k.xa&&b.Gb(e)};k.d=new function(){};k.Z=new function(){};k.va=new function(){}})();
function Y(n){this.b=n}
(function(){function n(){if(0===this.ik.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Qf?b.drawImage(this.W,this.Ef,this.Ff,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.W,0,0,this.width,this.height);this.ik=a.toDataURL("image/png")}return this.ik}function k(){}function e(){}var p=Y.prototype;p.ta=function(a){this.ha=a;this.b=a.b};var q=p.ta.prototype;q.S=function(){if(!this.A){var a,b,d,e,h,k,p,l,f;this.zc=
[];this.vg=!1;a=0;for(b=this.Eb.length;a<b;a++){h=this.Eb[a];p={};p.name=h[0];p.speed=h[1];p.loop=h[2];p.Nl=h[3];p.hj=h[4];p.Zo=h[5];p.M=h[6];p.frames=[];d=0;for(e=h[7].length;d<e;d++)k=h[7][d],l={},l.vj=k[0],l.em=k[1],l.Ef=k[2],l.Ff=k[3],l.width=k[4],l.height=k[5],l.duration=k[6],l.wb=k[7],l.xb=k[8],l.Mk=k[9],l.aj=k[10],l.$o=k[11],l.Qf=0!==l.width,l.ik="",l.Ov=n,f={left:0,top:0,right:1,bottom:1},l.Yl=f,l.T=null,(f=this.b.As(k[0]))?l.W=f:(l.W=new Image,l.W.Ar=k[0],l.W.ln=k[1],l.W.rr=null,this.b.tm(l.W,
k[0])),p.frames.push(l),this.zc.push(l);this.Eb[a]=p}}};q.Np=function(){var a,b,d;a=0;for(b=this.c.length;a<b;a++)d=this.c[a],d.Ph=d.fc.T};q.Si=function(){if(!this.A){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],d.W.rr=null,d.T=null;this.vg=!1;this.Np()}};q.Ui=function(){if(!this.A&&this.c.length){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],d.T=this.b.n.yf(d.W,!1,this.b.P,d.$o);this.Np()}};q.gl=function(){if(!this.A&&!this.vg&&this.b.n){var a,b,d;a=0;for(b=this.zc.length;a<
b;++a)d=this.zc[a],d.T=this.b.n.yf(d.W,!1,this.b.P,d.$o);this.vg=!0}};q.Cj=function(){if(!this.A&&!this.c.length&&this.vg){var a,b,d;a=0;for(b=this.zc.length;a<b;++a)d=this.zc[a],this.b.n.deleteTexture(d.T),d.T=null;this.vg=!1}};var d=[];q.dj=function(a){var b,e,k;b=d.length=0;for(e=this.zc.length;b<e;++b)k=this.zc[b].W,-1===d.indexOf(k)&&(a.drawImage(k,0,0),d.push(k))};p.ka=function(a){this.type=a;this.b=a.b;a=this.type.Eb[0].frames[0].aj;this.vc?this.Pc.jh(a):this.Pc=new bb(a)};var a=p.ka.prototype;
a.S=function(){this.visible=0===this.Y[0];this.oi=this.Cg=!1;this.gg=0!==this.Y[3];1===this.type.Eb.length&&1===this.type.Eb[0].frames.length||0===this.type.Eb[0].speed||(this.b.Tf(this),this.Cg=!0);this.qa=this.An(this.Y[1])||this.type.Eb[0];this.u=this.Y[2];0>this.u&&(this.u=0);this.u>=this.qa.frames.length&&(this.u=this.qa.frames.length-1);var a=this.qa.frames[this.u];this.Pc.jh(a.aj);this.wb=a.wb;this.xb=a.xb;this.jg=this.qa.speed;this.vc?this.Nc.reset():this.Nc=new $a;this.nd=this.Nc.V;this.oe=
!0;this.ed=0;this.ne=!0;this.ff=this.Sm="";this.hn=0;this.Gh=-1;this.type.gl();var b,d,e,h,k,n,l,a=0;for(b=this.type.Eb.length;a<b;a++)for(h=this.type.Eb[a],d=0,e=h.frames.length;d<e;d++)k=h.frames[d],0===k.width&&(k.width=k.W.width,k.height=k.W.height),k.Qf&&(l=k.W,n=k.Yl,n.left=k.Ef/l.width,n.top=k.Ff/l.height,n.right=(k.Ef+k.width)/l.width,n.bottom=(k.Ff+k.height)/l.height,0===k.Ef&&0===k.Ff&&k.width===l.width&&k.height===l.height&&(k.Qf=!1));this.fc=this.qa.frames[this.u];this.Ph=this.fc.T};a.mb=
function(){var a={a:this.qa.M,f:this.u,cas:this.jg,fs:this.nd,ar:this.ed,at:this.Nc.V};this.oe||(a.ap=this.oe);this.ne||(a.af=this.ne);return a};a.Kb=function(a){var b=this.Fs(a.a);b&&(this.qa=b);this.u=a.f;0>this.u&&(this.u=0);this.u>=this.qa.frames.length&&(this.u=this.qa.frames.length-1);this.jg=a.cas;this.nd=a.fs;this.ed=a.ar;this.Nc.reset();this.Nc.V=a.at;this.oe=a.hasOwnProperty("ap")?a.ap:!0;this.ne=a.hasOwnProperty("af")?a.af:!0;this.fc=this.qa.frames[this.u];this.Ph=this.fc.T;this.Pc.jh(this.fc.aj);
this.wb=this.fc.wb;this.xb=this.fc.xb};a.Tj=function(a){this.u=a?0:this.qa.frames.length-1;this.oe=!1;this.Sm=this.qa.name;this.oi=!0;this.b.trigger(Y.prototype.d.kq,this);this.b.trigger(Y.prototype.d.zm,this);this.oi=!1;this.ed=0};a.Qv=function(){return this.Nc.V};a.Pa=function(){this.Nc.add(this.b.yk(this));this.ff.length&&this.qn();0<=this.Gh&&this.rn();var a=this.Nc.V,b=this.qa,d=b.frames[this.u],e=d.duration/this.jg;this.oe&&a>=this.nd+e&&(this.ne?this.u++:this.u--,this.nd+=e,this.u>=b.frames.length&&
(b.Zo?(this.ne=!1,this.u=b.frames.length-2):b.loop?this.u=b.hj:(this.ed++,this.ed>=b.Nl?this.Tj(!1):this.u=b.hj)),0>this.u&&(b.Zo?(this.u=1,this.ne=!0,b.loop||(this.ed++,this.ed>=b.Nl&&this.Tj(!0))):b.loop?this.u=b.hj:(this.ed++,this.ed>=b.Nl?this.Tj(!0):this.u=b.hj)),0>this.u?this.u=0:this.u>=b.frames.length&&(this.u=b.frames.length-1),a>this.nd+b.frames[this.u].duration/this.jg&&(this.nd=a),a=b.frames[this.u],this.$e(d,a),this.b.ca=!0)};a.An=function(a){var b,d,e;b=0;for(d=this.type.Eb.length;b<
d;b++)if(e=this.type.Eb[b],hb(e.name,a))return e;return null};a.Fs=function(a){var b,d,e;b=0;for(d=this.type.Eb.length;b<d;b++)if(e=this.type.Eb[b],e.M===a)return e;return null};a.qn=function(){var a=this.qa.frames[this.u],b=this.An(this.ff);this.ff="";!b||hb(b.name,this.qa.name)&&this.oe||(this.qa=b,this.jg=b.speed,0>this.u&&(this.u=0),this.u>=this.qa.frames.length&&(this.u=this.qa.frames.length-1),1===this.hn&&(this.u=0),this.oe=!0,this.nd=this.Nc.V,this.ne=!0,this.$e(a,this.qa.frames[this.u]),
this.b.ca=!0)};a.rn=function(){var a=this.qa.frames[this.u],b=this.u;this.u=R(this.Gh);0>this.u&&(this.u=0);this.u>=this.qa.frames.length&&(this.u=this.qa.frames.length-1);b!==this.u&&(this.$e(a,this.qa.frames[this.u]),this.nd=this.Nc.V,this.b.ca=!0);this.Gh=-1};a.$e=function(a,b){var d=a.width,e=a.height,h=b.width,k=b.height;d!=h&&(this.width*=h/d);e!=k&&(this.height*=k/e);this.wb=b.wb;this.xb=b.xb;this.Pc.jh(b.aj);this.Na();this.fc=b;this.Ph=b.T;d=0;for(e=this.G.length;d<e;d++)h=this.G[d],h.Ot&&
h.Ot(a,b);this.b.trigger(Y.prototype.d.$e,this)};a.Dc=function(a){a.globalAlpha=this.opacity;var b=this.fc,d=b.Qf,e=b.W,h=this.x,k=this.y,n=this.width,l=this.height;if(0===this.j&&0<=n&&0<=l)h-=this.wb*n,k-=this.xb*l,this.b.Yc&&(h=Math.round(h),k=Math.round(k)),d?a.drawImage(e,b.Ef,b.Ff,b.width,b.height,h,k,n,l):a.drawImage(e,h,k,n,l);else{this.b.Yc&&(h=Math.round(h),k=Math.round(k));a.save();var f=0<n?1:-1,p=0<l?1:-1;a.translate(h,k);1===f&&1===p||a.scale(f,p);a.rotate(this.j*f*p);h=0-this.wb*ka(n);
k=0-this.xb*ka(l);d?a.drawImage(e,b.Ef,b.Ff,b.width,b.height,h,k,ka(n),ka(l)):a.drawImage(e,h,k,ka(n),ka(l));a.restore()}};a.Gb=function(a){a.Nb(this.Ph);a.Se(this.opacity);var b=this.fc,d=this.ef;if(this.b.Yc){var e=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;b.Qf?a.de(d.Va+e,d.Wa+h,d.Bb+e,d.Cb+h,d.qb+e,d.rb+h,d.ob+e,d.pb+h,b.Yl):a.eh(d.Va+e,d.Wa+h,d.Bb+e,d.Cb+h,d.qb+e,d.rb+h,d.ob+e,d.pb+h)}else b.Qf?a.de(d.Va,d.Wa,d.Bb,d.Cb,d.qb,d.rb,d.ob,d.pb,b.Yl):a.eh(d.Va,d.Wa,d.Bb,d.Cb,d.qb,d.rb,
d.ob,d.pb)};a.Js=function(a){var b=this.fc,d,e;d=0;for(e=b.Mk.length;d<e;d++)if(hb(a,b.Mk[d][0]))return d;return-1};a.Bk=function(a,b){var d=this.fc,e=d.Mk,h;h=P(a)?this.Js(a):a-1;h=R(h);if(0>h||h>=e.length)return b?this.x:this.y;var k=(e[h][1]-d.wb)*this.width,e=e[h][2],e=(e-d.xb)*this.height,d=Math.cos(this.j);h=Math.sin(this.j);var n=k*d-e*h,e=e*d+k*h,k=n+this.x,e=e+this.y;return b?k:e};var b=new ca,t=!1;new ua(0,0,0,0);q.finish=function(a){if(t){if(a){var c=this.b.Hb().Cc.Vc;a=null.fa();var d=
b.Bd(),e,h;if(a.ma){a.ma=!1;a.c.length=d.length;e=0;for(h=d.length;e<h;e++)a.c[e]=d[e];if(c)for(e=a.O.length=0,h=null.c.length;e<h;e++)d=null.c[e],b.contains(d)||a.O.push(d)}else if(c)for(c=a.c.length,a.c.length=c+d.length,e=0,h=d.length;e<h;e++)a.c[c+e]=d[e],Ca(a.O,d[e]);else za(a.c,d);null.Id()}b.clear();t=!1}};k.prototype.dq=function(a){return this.ff.length?hb(this.ff,a):hb(this.qa.name,a)};k.prototype.zm=function(a){return hb(this.Sm,a)};k.prototype.kq=function(){return!0};k.prototype.$e=function(){return!0};
p.d=new k;e.prototype.Oq=function(a,b){this.ff=a;this.hn=b;this.Cg||(this.b.Tf(this),this.Cg=!0);this.oi||this.qn()};e.prototype.Pq=function(a){this.Gh=a;this.Cg||(this.b.Tf(this),this.Cg=!0);this.oi||this.rn()};p.Z=new e;p.va=new function(){}})();function nc(n){this.b=n}
(function(){function n(a,b){return a.length?a.pop():new b}function k(a,c,d){if(d){var e;d=0;for(e=c.length;d<e;d++)a.length<b&&a.push(c[d]);c.length=0}else for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a.length<b&&a.push(c[e]),delete c[e])}function e(a,b,c){var d=a.Le;c=c.replace(/\s\s*$/,"");b>=d.length&&d.push(n(t,Object));b=d[b];b.text=c;b.width=a.ol(c);a.Sf=na(a.Sf,b.width)}function p(){}function q(){}var d=nc.prototype;d.S=function(){};d.ta=function(a){this.ha=a;this.b=a.b};var a=d.ta.prototype;
a.S=function(){this.A||(this.W=new Image,this.b.tm(this.W,this.vj),this.T=null)};a.Si=function(){this.A||(this.T=null)};a.Ui=function(){if(!this.A&&this.c.length){this.T||(this.T=this.b.n.yf(this.W,!1,this.b.P,this.uh));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].T=this.T}};a.Cj=function(){this.A||this.c.length||!this.T||(this.b.n.deleteTexture(this.T),this.T=null)};a.dj=function(a){a.drawImage(this.W,0,0)};d.ka=function(a){this.type=a;this.b=a.b};a=d.ka.prototype;a.Wg=function(){k(t,this.Le,
!0);k(g,this.Ih,!1);k(c,this.Jh,!1);Va(this.Nd)};a.S=function(){this.W=this.type.W;this.Hh=this.Y[0];this.Ld=this.Y[1];this.characterSet=this.Y[2];this.text=this.Y[3];this.Md=this.Y[4];this.visible=0===this.Y[5];this.Ln=this.Y[6]/2;this.Qp=this.Y[7]/2;this.Ju=0===this.Y[9];this.gf=this.Y[10];this.lineHeight=this.Y[11];this.Ve=this.Sf=0;this.vc?(this.Le.length=0,Va(this.Ih),Va(this.Jh),Va(this.Nd)):(this.Le=[],this.Ih={},this.Jh={},this.Nd={});this.sh=!0;this.el=this.width;this.b.n&&(this.type.T||
(this.type.T=this.b.n.yf(this.type.W,!1,this.b.P,this.type.uh)),this.T=this.type.T);this.Xq()};a.mb=function(){var a={t:this.text,csc:this.Md,csp:this.gf,lh:this.lineHeight,tw:this.Sf,th:this.Ve,lrt:this.zt,cw:{}},b;for(b in this.Nd)a.cw[b]=this.Nd[b];return a};a.Kb=function(a){this.text=a.t;this.Md=a.csc;this.gf=a.csp;this.lineHeight=a.lh;this.Sf=a.tw;this.Ve=a.th;this.zt=a.lrt;for(var b in a.cw)this.Nd[b]=a.cw[b];this.sh=!0;this.el=this.width};var b=1E3,t=[],g=[],c=[];a.Xq=function(){for(var a=
this.W,b=a.width,d=a.height,a=this.Hh,e=this.Ld,f=a/b,k=e/d,m=this.characterSet,b=Math.floor(b/a),d=Math.floor(d/e),p=0;p<m.length&&!(p>=b*d);p++){var y=p%b,q=Math.floor(p/b),x=m.charAt(p);if(this.b.n){var t=this.Jh,v=y*f,D=q*k,y=(y+1)*f,q=(q+1)*k;void 0===t[x]&&(t[x]=n(c,ua));t[x].left=v;t[x].top=D;t[x].right=y;t[x].bottom=q}else t=this.Ih,y*=a,q*=e,v=a,D=e,void 0===t[x]&&(t[x]=n(g,Object)),t[x].x=y,t[x].y=q,t[x].Sp=v,t[x].Kn=D}};var m=[];d.$q=function(a){m.length=0;for(var b="",c,d=0;d<a.length;)if(c=
a.charAt(d),"\n"===c)b.length&&(m.push(b),b=""),m.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));m.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&m.push(b)};d.br=function(a){var b=a.text,c=a.Le;if(b&&b.length){var d=a.width;if(2>=d)k(t,c,!0);else{var f=a.Md,e=a.gf;if(b.length*(a.Hh*f+e)-e<=d&&-1===b.indexOf("\n")&&(e=a.ol(b),e<=d)){k(t,c,!0);c.push(n(t,Object));c[0].text=b;c[0].width=e;a.Sf=e;a.Ve=a.Ld*f+a.lineHeight;
return}this.cr(a);a.Ve=c.length*(a.Ld*f+a.lineHeight)}}else k(t,c,!0)};d.cr=function(a){var c=a.Ju,d=a.text,g=a.Le,f=a.width;c&&(this.$q(d),d=m);var k="",n,p,y,q=0,x=!1;for(y=0;y<d.length;y++)"\n"===d[y]?(!0===x?x=!1:(e(a,q,k),q++),k=""):(x=!1,n=k,k+=d[y],p=a.ol(k.replace(/\s\s*$/,"")),p>f&&(""===n?(e(a,q,k),k="",x=!0):(e(a,q,n),k=d[y]),q++,c||" "!==k||(k="")));k.replace(/\s\s*$/,"").length&&(e(a,q,k),q++);for(y=q;y<g.length;y++)t.length<b&&t.push(g[y]);g.length=q};a.ol=function(a){for(var b=this.gf,
c=a.length,d=0,f=0;f<c;f++)d+=this.xk(a.charAt(f))*this.Md+b;return d-(0<d?b:0)};a.xk=function(a){var b=this.Nd;return void 0!==b[a]?b[a]:this.Hh};a.ip=function(){if(this.sh||this.width!==this.el)this.Ve=this.Sf=0,this.type.ha.br(this),this.sh=!1,this.el=this.width};a.Dc=function(a){var b=this.W;if(""!==this.text&&null!=b&&(this.ip(),!(this.height<this.Ld*this.Md+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.Yc&&(b=Math.round(b),c=Math.round(c));var d=this.i.na,f=this.i.pa,
e=this.i.ya,g=this.i.xa;a.save();a.translate(b,c);a.rotate(this.j);for(var k=this.Ln,m=this.Md,n=this.Ld*m,p=this.lineHeight,q=this.gf,v=this.Le,D,t=-(this.wb*this.width),u=-(this.xb*this.height),u=u+this.Qp*na(0,this.height-this.Ve),C,z,aa,I=0;I<v.length;I++){var K=v[I].text;D=k*na(0,this.width-v[I].width);C=t+D;u+=p;if(c+u+n<f)u+=n;else{for(var A=0;A<K.length;A++){z=K.charAt(A);D=this.xk(z);var B=this.Ih[z];if(b+C+D*m+q<d)C+=D*m+q;else{if(C+D*m>this.width+1E-5)break;void 0!==B&&(z=C,aa=u,0===this.j&&
(z=Math.round(z),aa=Math.round(aa)),a.drawImage(this.W,B.x,B.y,B.Sp,B.Kn,z,aa,B.Sp*m,B.Kn*m));C+=D*m+q;if(b+C>e)break}}u+=n;if(u+n+p>this.height||c+u>g)break}}a.restore()}};var u=new wa;a.Gb=function(a){a.Nb(this.T);a.Se(this.opacity);if(this.text&&(this.ip(),!(this.height<this.Ld*this.Md+this.lineHeight))){this.eb();var b=this.ef,c=0,d=0;this.b.Yc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);var f=this.i.na,e=this.i.pa,g=this.i.ya,k=this.i.xa,m=this.j,n=this.Ln,p=this.Qp,q=this.Md,
v=this.Ld*q,D=this.lineHeight,t=this.gf,S=this.Le,C=this.Ve,z,aa,I;0!==m&&(aa=Math.cos(m),I=Math.sin(m));for(var c=b.Va+c,b=b.Wa+d,K,p=p*na(0,this.height-C),A,B,C=0;C<S.length;C++)if(d=S[C].text,K=z=n*na(0,this.width-S[C].width),p+=D,0===m&&b+p+v<e)p+=v;else{for(var L=0;L<d.length;L++){var G=d.charAt(L);z=this.xk(G);G=this.Jh[G];if(c+K+z*q+t<f)K+=z*q+t;else{if(K+z*q>this.width+1E-5)break;if(void 0!==G){var J=this.Hh*q,H=this.Ld*q;A=K;B=p;0===m&&(A=Math.round(A),B=Math.round(B));u.Va=A;u.Wa=B;u.Bb=
A+J;u.Cb=B;u.ob=A;u.pb=B+H;u.qb=A+J;u.rb=B+H;0!==m&&(A=u,B=aa,J=I,H=void 0,H=A.Va*B-A.Wa*J,A.Wa=A.Wa*B+A.Va*J,A.Va=H,H=A.Bb*B-A.Cb*J,A.Cb=A.Cb*B+A.Bb*J,A.Bb=H,H=A.ob*B-A.pb*J,A.pb=A.pb*B+A.ob*J,A.ob=H,H=A.qb*B-A.rb*J,A.rb=A.rb*B+A.qb*J,A.qb=H);u.offset(c,b);a.de(u.Va,u.Wa,u.Bb,u.Cb,u.qb,u.rb,u.ob,u.pb,G)}K+=z*q+t;if(0===m&&c+K>g)break}}p+=v;if(p+v+D>this.height||b+p>k)break}}};d.d=new function(){};p.prototype.Tq=function(a){O(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=
a,this.sh=!0,this.b.ca=!0)};a.wv=function(a,b){var c=parseInt(b,10);this.Nd[a]!==c&&(this.Nd[a]=c,this.sh=!0,this.b.ca=!0)};d.Z=new p;q.prototype.Text=function(a){a.bb(this.text)};d.va=new q})();function Z(n){this.b=n}
(function(){function n(a){g=a.x;c=a.y;m=a.z}function k(a){u=a.x;h=a.y;r=a.z}function e(a,b,c,d){var f;f=s.length?s.pop():new p;f.init(a,b,c,d);return f}function p(){this.nh=this.id=this.y=this.x=this.tj=this.sj=this.dl=this.time=this.am=0;this.wh=this.Aj=!1}function q(){}function d(){}var a=Z.prototype;a.ta=function(a){this.ha=a;this.b=a.b};a.ta.prototype.S=function(){};a.ka=function(a){this.type=a;this.b=a.b;this.touches=[];this.ql=!1};var b=a.ka.prototype,t={left:0,top:0};b.pg=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var g=0,c=0,m=0,u=0,h=0,r=0,s=[];p.prototype.init=function(a,b,c,d){var f=Wa();this.am=this.dl=this.time=f;this.sj=a;this.tj=b;this.x=a;this.y=b;this.id=c;this.nh=d;this.wh=this.Aj=!1};p.prototype.update=function(a,b,c){this.dl=this.time;this.time=a;this.x=b;this.y=c;!this.wh&&15<=Sa(this.sj,this.tj,this.x,this.y)&&(this.wh=!0)};p.prototype.Dt=function(a,b){!this.Aj&&500<=Wa()-this.am&&!this.wh&&15>Sa(this.sj,this.tj,
this.x,this.y)&&(this.Aj=!0,a.bd=this.nh,a.Vf=this.id,a.mf=b,a.b.trigger(Z.prototype.d.uq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Z.prototype.d.vq,a),a.mf=0)};var l=-1E3,f=-1E3,w=-1E4;p.prototype.Ao=function(a,b){if(!this.Aj){var c=Wa();333>=c-this.am&&!this.wh&&15>Sa(this.sj,this.tj,this.x,this.y)&&(a.bd=this.nh,a.Vf=this.id,a.mf=b,666>=c-w&&25>Sa(l,f,this.x,this.y)?(a.b.trigger(Z.prototype.d.qq,a),a.hd=this.x,a.jd=this.y,a.b.trigger(Z.prototype.d.rq,a),f=l=-1E3,w=-1E4):(a.b.trigger(Z.prototype.d.Jq,
a),a.hd=this.x,a.jd=this.y,a.b.trigger(Z.prototype.d.Kq,a),l=this.x,f=this.y,w=c),a.mf=0)}};b.S=function(){this.ut=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.mf=this.Vf=this.bd=this.jd=this.hd=this.Nm=this.Mm=this.Lm=this.hr=this.fr=this.er=this.Zg=this.Yg=this.Xg=0;this.Hu=0!==this.Y[0];var a=0<this.b.tb?document:this.b.canvas,b=document;this.b.$a?b=a=window.Canvas:this.b.Wb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Mo(a)},
!1),a.addEventListener("pointermove",function(a){c.Lo(a)},!1),b.addEventListener("pointerup",function(a){c.Ti(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Ti(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Mo(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Lo(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Ti(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Ti(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Oo(a)},
!1),a.addEventListener("touchmove",function(a){c.No(a)},!1),b.addEventListener("touchend",function(a){c.Bl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Bl(a,!0)},!1));if(this.ut){var d=function(a){a=a.reading;c.Lm=a.accelerationX;c.Mm=a.accelerationY;c.Nm=a.accelerationZ},f=function(a){a=a.reading;c.Xg=a.yawDegrees;c.Yg=a.pitchDegrees;c.Zg=a.rollDegrees},e=Windows.Devices.Sensors.Accelerometer.getDefault();e&&(e.reportInterval=Math.max(e.minimumReportInterval,16),e.addEventListener("readingchanged",
d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(e&&e.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",f)):(e&&e.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Xg=a.alpha||
0;c.Yg=a.beta||0;c.Zg=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.er=a.accelerationIncludingGravity.x||0,c.fr=a.accelerationIncludingGravity.y||0,c.hr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Lm=a.acceleration.x||0,c.Mm=a.acceleration.y||0,c.Nm=a.acceleration.z||0)},!1);this.Hu&&!this.b.ga&&(jQuery(document).mousemove(function(a){c.zl(a)}),jQuery(document).mousedown(function(a){c.yl(a)}),jQuery(document).mouseup(function(a){c.Al(a)}));
this.b.pf&&!this.b.$a&&AppMobi.accelerometer.watchAcceleration(n,{frequency:40,adjustForRotation:!0});this.b.Xb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(k,null,{frequency:40});this.b.xu(this)};b.Lo=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.pg(a.pointerId),c=Wa();if(0<=b){var d=this.b.ga?t:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};b.Mo=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var b=this.b.ga?t:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Wa();this.bd=this.touches.length;this.Vf=a.pointerId;this.touches.push(e(c,b,a.pointerId,this.bd));this.b.za=!0;this.b.trigger(Z.prototype.d.Fm,this);this.b.trigger(Z.prototype.d.Im,this);this.hd=c;this.jd=b;this.b.trigger(Z.prototype.d.Hm,this);
this.b.za=!1}};b.Ti=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var c=this.pg(a.pointerId);this.bd=0<=c?this.touches[c].nh:-1;this.Vf=0<=c?this.touches[c].id:-1;this.b.za=!0;this.b.trigger(Z.prototype.d.Em,this);this.b.trigger(Z.prototype.d.Gm,this);0<=c&&(b||this.touches[c].Ao(this,c),100>s.length&&s.push(this.touches[c]),this.touches.splice(c,1));this.b.za=!1}};b.No=function(a){a.preventDefault&&a.preventDefault();
var b=Wa(),c,d,f,e;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],e=this.pg(f.identifier),0<=e){var g=this.b.ga?t:jQuery(this.b.canvas).offset();e=this.touches[e];2>b-e.time||e.update(b,f.pageX-g.left,f.pageY-g.top)}};b.Oo=function(a){a.preventDefault&&ib(a)&&a.preventDefault();var b=this.b.ga?t:jQuery(this.b.canvas).offset();Wa();this.b.za=!0;var c,d,f,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],g=this.pg(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-
b.top;this.bd=this.touches.length;this.Vf=f.identifier;this.touches.push(e(g,h,f.identifier,this.bd));this.b.trigger(Z.prototype.d.Fm,this);this.b.trigger(Z.prototype.d.Im,this);this.hd=g;this.jd=h;this.b.trigger(Z.prototype.d.Hm,this)}this.b.za=!1};b.Bl=function(a,b){a.preventDefault&&ib(a)&&a.preventDefault();this.b.za=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.pg(f.identifier),0<=f&&(this.bd=this.touches[f].nh,this.Vf=this.touches[f].id,this.b.trigger(Z.prototype.d.Em,
this),this.b.trigger(Z.prototype.d.Gm,this),b||this.touches[f].Ao(this,f),100>s.length&&s.push(this.touches[f]),this.touches.splice(f,1));this.b.za=!1};b.Mv=function(){return this.b.pf&&0===this.Xg&&0!==m?90*m:this.b.Xb&&0===this.Xg&&0!==r?90*r:this.Xg};b.Nv=function(){return this.b.pf&&0===this.Yg&&0!==c?-90*c:this.b.Xb&&0===this.Yg&&0!==h?90*h:this.Yg};b.Pv=function(){return this.b.pf&&0===this.Zg&&0!==g?90*g:this.b.Xb&&0===this.Zg&&0!==u?90*u:this.Zg};b.yl=function(a){a.preventDefault&&this.b.of&&
!this.b.qd&&a.preventDefault();this.Oo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ql=!0};b.zl=function(a){this.ql&&this.No({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Al=function(a){a.preventDefault&&this.b.of&&!this.b.qd&&a.preventDefault();this.b.of=!0;this.Bl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ql=!1};b.xj=function(){var a,b,c,d=Wa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.dl=d),c.Dt(this,
a)};q.prototype.Im=function(){return!0};q.prototype.Gm=function(){return!0};q.prototype.Hm=function(a){return a?this.b.qh(a,this.hd,this.jd):!1};q.prototype.Fm=function(a){a=Math.floor(a);return a===this.bd};q.prototype.Em=function(a){a=Math.floor(a);return a===this.bd};q.prototype.uq=function(){return!0};q.prototype.Jq=function(){return!0};q.prototype.qq=function(){return!0};q.prototype.vq=function(a){return a?this.b.qh(a,this.hd,this.jd):!1};q.prototype.Kq=function(a){return a?this.b.qh(a,this.hd,
this.jd):!1};q.prototype.rq=function(a){return a?this.b.qh(a,this.hd,this.jd):!1};a.d=new q;d.prototype.Ah=function(a,b){var c=this.mf;if(0>c||c>=this.touches.length)a.q(0);else{var d,f,e,g,h;ha(b)?(d=this.b.od(0),f=d.scale,e=d.Db,g=d.rc,h=d.j,d.scale=1,d.Db=1,d.rc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)),d.scale=f,d.Db=e,d.rc=g,d.j=h):(d=O(b)?this.b.od(b):this.b.qg(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!0)):a.q(0)}};d.prototype.Bh=function(a,b){var c=this.mf;if(0>c||c>=
this.touches.length)a.q(0);else{var d,f,e,g,h;ha(b)?(d=this.b.od(0),f=d.scale,e=d.Db,g=d.tc,h=d.j,d.scale=1,d.Db=1,d.tc=1,d.j=0,a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)),d.scale=f,d.Db=e,d.tc=g,d.j=h):(d=O(b)?this.b.od(b):this.b.qg(b))?a.q(d.Ya(this.touches[c].x,this.touches[c].y,!1)):a.q(0)}};a.va=new d})();function oc(n){this.b=n}
(function(){function n(){}var k=oc.prototype;k.ta=function(d){this.ha=d;this.b=d.b};k.ta.prototype.S=function(){};k.ka=function(d){this.type=d;this.b=d.b};var e=k.ka.prototype,p="",q="undefined"!==typeof window.is_scirra_arcade;q&&(p="arcade"+window.scirra_arcade_id);e.S=function(){"undefined"===typeof localStorage&&M("[Construct 2] Webstorage plugin: local storage is not supported on this platform.");"undefined"===typeof sessionStorage&&M("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")};
k.d=new function(){};k.Z=new function(){};n.prototype.wm=function(d){if("undefined"===typeof localStorage)d.bb("");else{var a={},b,e,g;b=0;for(e=localStorage.length;b<e;b++)g=localStorage.key(b),q?g.substr(0,p.length)===p&&(a[g.substr(p.length)]=localStorage.getItem(g)):a[g]=localStorage.getItem(g);d.bb(JSON.stringify({c2dictionary:!0,data:a}))}};k.va=new n})();function qc(n){this.b=n}
(function(){function n(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function k(c){b[c.gamepad.index]=c.gamepad;d.trigger(qc.prototype.d.sq,a)}function e(c){d.trigger(qc.prototype.d.tq,a);b[c.gamepad.index]=null}function p(){}var q=qc.prototype;q.ta=function(a){this.ha=a;this.b=a.b};q.ta.prototype.S=function(){};var d=null,a=null,b=Array(16),t="",g="",c=null,m={windows:{}};m.windows.firefox={};var u=[0,1,2,3,4,5,8,9,10,11],h=[0,1,[7,6],2,3,[14,15],[12,13]];m.windows.firefox.xbox360=function(a,b){return b?
a>=h.length?-1:O(h[a])?h[a]+16:h[a]:a>=u.length?-1:u[a]};var r=[2,0,1,3,4,6,5,7,8,9],s=[0,1,2,3,[14,15],[12,13]];m.windows.firefox.logitechdualaction=function(a,b){return b?a>=s.length?-1:O(s[a])?s[a]+16:s[a]:a>=r.length?-1:r[a]};q.ka=function(b){this.type=b;d=this.b=b.b;a=this};var l=q.ka.prototype;l.S=function(){this.Ai=0;var a=navigator.userAgent;t="windows";/mac/i.test(a)&&(t="mac");c=m[t];g="chrome";/firefox/i.test(a)&&(g="firefox");c&&(c=c[g]);window.addEventListener("webkitgamepadconnected",
k,!1);window.addEventListener("webkitgamepaddisconnected",e,!1);window.addEventListener("MozGamepadConnected",k,!1);window.addEventListener("MozGamepadDisconnected",e,!1);window.addEventListener("gamepadconnected",k,!1);window.addEventListener("gamepaddisconnected",e,!1);this.b.Tf(this);this.Ch=[]};l.Pa=function(){this.Ch.length=0;var a=null,d=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():
navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.Xn&&window.cr_getGamepads?(a=window.cr_getGamepads(),d=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||b;if(a){var e,g,h,k,l,m,p;e=0;for(g=a.length;e<g;e++){var q=a[e];if(q){if(q.Bc)for(h=0;20>h;h++)q.Wj[h]=q.Bc[h];else for(q.Bc=Array(20),q.Wj=Array(20),h=0;20>h;h++)q.Wj[h]=0;d?h=n:c?(h="",k=q.id.toLowerCase(),-1<k.indexOf("xbox 360")?h="xbox360":-1<k.indexOf("logitech dual action")&&(h="logitechdualaction"),h=c[h]||
n):h=n;l=h;h=0;for(k=q.buttons.length;h<k;h++)p="undefined"!==typeof q.buttons[h].value?q.buttons[h].value:q.buttons[h],m=l(h,!1,p),0<=m&&20>m&&(q.Bc[m]=100*p,50<=q.Bc[m]&&50>q.Wj[m]&&(this.Ai=m));h=0;for(k=q.axes.length;h<k;h++)p=q.axes[h],m=l(h,!0,p),O(m)?0<=m&&20>m&&(q.Bc[m]=100*p):(q.Bc[m[0]]=0,q.Bc[m[1]]=0,0>=p?q.Bc[m[0]]=Math.abs(100*p):q.Bc[m[1]]=Math.abs(100*p));this.Ch.push(q)}}}};l.mb=function(){return{lastButton:this.Ai}};l.Kb=function(a){this.Ai=a.lastButton};p.prototype.sq=function(){return!0};
p.prototype.tq=function(){return!0};p.prototype.ym=function(a,b){a=Math.floor(a);if(0>a||a>=this.Ch.length)return!1;var c=this.Ch[a];if(!c.Bc)return!1;if(c=50<=c.Bc[b])this.Ai=b;return c};q.d=new p;q.Z=new function(){};q.va=new function(){}})();function rc(n){this.b=n;this.lj=this.mh=this.Te=this.kj=0}
(function(){function n(){}var k=rc.prototype;k.ta=function(e){this.behavior=e;this.b=e.b};k.ta.prototype.S=function(){};k.ka=function(e,k){this.type=e;this.behavior=e.behavior;this.mt=k;this.b=e.b};var e=k.ka.prototype;e.S=function(){this.enabled=0!==this.Y[0]};e.mb=function(){return{smg:this.behavior.kj,ss:this.behavior.Te,se:this.behavior.mh,smd:this.behavior.lj}};e.Kb=function(e){this.behavior.kj=e.smg;this.behavior.Te=e.ss;this.behavior.mh=e.se;this.behavior.lj=e.smd};e.Pa=function(){};e.xj=function(){if(this.enabled){var e=
this.behavior.Pi.Bd(),k=0,d=0,a,b,n,g=0;a=0;for(b=e.length;a<b;a++){a:{n=e[a];for(var c=void 0,m=void 0,u=void 0,c=0,m=n.G.length;c<m;++c)if(u=n.G[c],u.behavior instanceof rc){n=u;break a}n=null}n&&n.enabled&&(k+=e[a].x,d+=e[a].y,++g)}e=this.mt.i.Ja;b=this.b.yb.V;n=a=0;b>=this.behavior.Te&&b<this.behavior.mh&&(a=this.behavior.kj*Math.min(this.b.We,1),0===this.behavior.lj&&(a*=1-(b-this.behavior.Te)/(this.behavior.mh-this.behavior.Te)),b=Math.random()*Math.PI*2,n=Math.random()*a,a=Math.cos(b)*n,n*=
Math.sin(b));e.Ul(k/g+a);e.Vl(d/g+n)}};n.prototype.Wq=function(e,k,d){this.behavior.kj=e;this.behavior.Te=this.b.yb.V;this.behavior.mh=this.behavior.Te+k;this.behavior.lj=d};k.Z=new n})();
function hc(){return[ic,jc,mc,lc,qc,kc,nc,Z,Y,oc,rc,lc.prototype.d.Mj,X.prototype.d.Yp,Y.prototype.d.gq,X.prototype.Z.Zq,Y.prototype.Z.Vq,rc.prototype.Z.Wq,X.prototype.d.aq,Y.prototype.Z.Pq,X.prototype.va.random,X.prototype.d.xm,Y.prototype.Z.Oq,X.prototype.Z.$p,lc.prototype.va.Ah,lc.prototype.va.Bh,Y.prototype.d.Xp,Y.prototype.Z.Qq,Y.prototype.Z.Rq,X.prototype.va["int"],Y.prototype.d.zm,Y.prototype.Z.Yq,X.prototype.d.bq,Y.prototype.Z.Nq,X.prototype.va.j,Y.prototype.va.Ah,Y.prototype.va.Bh,Y.prototype.Z.Km,
lc.prototype.d.ym,Y.prototype.Z.Sq,Y.prototype.d.dq,Y.prototype.d.Zp,X.prototype.Z.Uq,nc.prototype.Z.Tq,nc.prototype.Z.Km,kc.prototype.d.Bm,jc.prototype.Z.Mq,jc.prototype.Z.cq]};
